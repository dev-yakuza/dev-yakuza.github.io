<!DOCTYPE html> <html lang="ko"> <head> <meta charset="euc-kr"/> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/> <meta name="twitter:title" content="iOS App crash 분석"/> <meta name="twitter:description" content="iOS App crash 로그(Log)를 분석하는 방법에 대해서 알아봅니다."/> <meta name="twitter:card" content="summary_large_image"/> <meta name="twitter:site" content="@DevYakuza"/> <meta name="twitter:creator" content="@DevYakuza"/> <title>iOS App crash 분석 - iOS App crash 로그(Log)를 분석하는 방법에 대해서 알아봅니다.</title> <meta name="description" content="iOS App crash 로그(Log)를 분석하는 방법에 대해서 알아봅니다."/> <meta property="og:url" content="http://localhost:4000/ko/react-native/ios-app-crash-debugging/"/> <meta name="generator" content="Jekyll v3.8.5"/> <meta property="og:title" content="iOS App crash 분석"/> <meta name="author" content="dev.yakuza@gmail.com"/> <meta property="og:locale" content="ko"/> <meta name="description" content="iOS App crash 로그(Log)를 분석하는 방법에 대해서 알아봅니다."/> <meta property="og:description" content="iOS App crash 로그(Log)를 분석하는 방법에 대해서 알아봅니다."/> <link rel="canonical" href="http://localhost:4000/ko/react-native/ios-app-crash-debugging/"/> <meta property="og:url" content="http://localhost:4000/react-native/ios-app-crash-debugging/"/> <meta property="og:site_name" content="Dreams the art through programming"/> <meta property="og:image" content="http://localhost:4000/assets/images/category/react-native/ios-app-crash-debugging.jpg"/> <meta property="og:type" content="article"/> <meta property="article:published_time" content="2018-12-11T00:00:00+09:00"/> <script type="application/ld+json">
{"description":"iOS App crash 로그(Log)를 분석하는 방법에 대해서 알아봅니다.","author":{"@type":"Person","name":"dev.yakuza@gmail.com"},"@type":"BlogPosting","url":"http://localhost:4000/react-native/ios-app-crash-debugging/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://dev-yakuza.github.io/assets/images/icon.png"},"name":"dev.yakuza@gmail.com"},"image":"http://localhost:4000/assets/images/category/react-native/ios-app-crash-debugging.jpg","headline":"iOS App crash 분석","dateModified":"2019-05-23T10:57:06+09:00","datePublished":"2018-12-11T00:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/react-native/ios-app-crash-debugging/"},"@context":"http://schema.org"}</script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-125408913-1"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-125408913-1");</script> <link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR" rel="stylesheet"/> <link rel="stylesheet" href="/ko/assets/vendor/bootstrap/css/bootstrap.min.css"/> <link rel="stylesheet" href="/ko/assets/vendor/font-awesome/css/font-awesome.min.css"/> <link rel="stylesheet" href="/ko/assets/main.css?v=20190702"/> <link rel="alternate" type="application/rss+xml" title="Dreams the art through programming" href="/ko/feed.xml"/> <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "dev.yakuza",
      "url": "http://localhost:4000",
      "sameAs": [
        "https://www.facebook.com/yakuza.dev.54",
        "https://www.instagram.com/dev_yakuza/",
        "https://twitter.com/DevYakuza"
      ]
    }
  </script> <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "http://localhost:4000",
      "logo": "https://dev-yakuza.github.io/assets/images/icon.png"
    }
  </script><script type="application/ld+json">
    {
      "@context":"http://schema.org",
      "@type":"ItemList",
      "itemListElement":[{
          "@type":"ListItem",
          "position":1,"url": "http://localhost:4000/ko/react-native/installation/"},{
          "@type":"ListItem",
          "position":2,"url": "http://localhost:4000/ko/react-native/typescript/"},{
          "@type":"ListItem",
          "position":3,"url": "http://localhost:4000/ko/react-native/styled-components/"},{
          "@type":"ListItem",
          "position":4,"url": "http://localhost:4000/ko/react-native/react-navigation/"},{
          "@type":"ListItem",
          "position":5,"url": "http://localhost:4000/ko/react-native/app-icon/"},{
          "@type":"ListItem",
          "position":6,"url": "http://localhost:4000/ko/react-native/splash-image/"},{
          "@type":"ListItem",
          "position":7,"url": "http://localhost:4000/ko/react-native/nativebase/"},{
          "@type":"ListItem",
          "position":8,"url": "http://localhost:4000/ko/react-native/react-native-vector-icons/"},{
          "@type":"ListItem",
          "position":9,"url": "http://localhost:4000/ko/react-native/react-native-device-info/"},{
          "@type":"ListItem",
          "position":10,"url": "http://localhost:4000/ko/react-native/react-native-tts/"},{
          "@type":"ListItem",
          "position":11,"url": "http://localhost:4000/ko/react-native/react-native-admob/"},{
          "@type":"ListItem",
          "position":12,"url": "http://localhost:4000/ko/react-native/ios-test-on-device/"},{
          "@type":"ListItem",
          "position":13,"url": "http://localhost:4000/ko/react-native/ios-running-on-device/"},{
          "@type":"ListItem",
          "position":14,"url": "http://localhost:4000/ko/react-native/ios-enroll-developer-program/"},{
          "@type":"ListItem",
          "position":15,"url": "http://localhost:4000/ko/react-native/ios-certification/"},{
          "@type":"ListItem",
          "position":16,"url": "http://localhost:4000/ko/react-native/ios-testflight/"},{
          "@type":"ListItem",
          "position":17,"url": "http://localhost:4000/ko/react-native/ios-app-store/"},{
          "@type":"ListItem",
          "position":18,"url": "http://localhost:4000/ko/react-native/react-native-analytics-bridge/"},{
          "@type":"ListItem",
          "position":19,"url": "http://localhost:4000/ko/react-native/react-native-firebase-admob/"},{
          "@type":"ListItem",
          "position":20,"url": "http://localhost:4000/ko/react-native/android-test-on-device/"},{
          "@type":"ListItem",
          "position":21,"url": "http://localhost:4000/ko/react-native/android-running-on-device/"},{
          "@type":"ListItem",
          "position":22,"url": "http://localhost:4000/ko/react-native/ios-change-simulator/"},{
          "@type":"ListItem",
          "position":23,"url": "http://localhost:4000/ko/react-native/react-native-firebase-analytics/"},{
          "@type":"ListItem",
          "position":24,"url": "http://localhost:4000/ko/react-native/ios-app-crash-debugging/"},{
          "@type":"ListItem",
          "position":25,"url": "http://localhost:4000/ko/react-native/firebase-crashlytics/"},{
          "@type":"ListItem",
          "position":26,"url": "http://localhost:4000/ko/react-native/react-native-animatable/"},{
          "@type":"ListItem",
          "position":27,"url": "http://localhost:4000/ko/react-native/android-enroll-google-play-developer/"},{
          "@type":"ListItem",
          "position":28,"url": "http://localhost:4000/ko/react-native/android-google-play/"},{
          "@type":"ListItem",
          "position":29,"url": "http://localhost:4000/ko/react-native/react-native-voice/"},{
          "@type":"ListItem",
          "position":30,"url": "http://localhost:4000/ko/react-native/react-native-mail/"},{
          "@type":"ListItem",
          "position":31,"url": "http://localhost:4000/ko/react-native/react-native-fs/"},{
          "@type":"ListItem",
          "position":32,"url": "http://localhost:4000/ko/react-native/react-native-lottie/"},{
          "@type":"ListItem",
          "position":33,"url": "http://localhost:4000/ko/react-native/react-native-swipe-gestures/"},{
          "@type":"ListItem",
          "position":34,"url": "http://localhost:4000/ko/react-native/react-native-linear-gradient/"},{
          "@type":"ListItem",
          "position":35,"url": "http://localhost:4000/ko/react-native/react-native-splash-screen/"},{
          "@type":"ListItem",
          "position":36,"url": "http://localhost:4000/ko/react-native/react-native-rate/"},{
          "@type":"ListItem",
          "position":37,"url": "http://localhost:4000/ko/react-native/react-native-itunes-share-file/"},{
          "@type":"ListItem",
          "position":38,"url": "http://localhost:4000/ko/react-native/react-native-status-bar/"},{
          "@type":"ListItem",
          "position":39,"url": "http://localhost:4000/ko/react-native/react-native-support-tablet/"},{
          "@type":"ListItem",
          "position":40,"url": "http://localhost:4000/ko/react-native/react-native-sqlite-storage/"},{
          "@type":"ListItem",
          "position":41,"url": "http://localhost:4000/ko/react-native/react-native-custom-font/"},{
          "@type":"ListItem",
          "position":42,"url": "http://localhost:4000/ko/react-native/root-import/"},{
          "@type":"ListItem",
          "position":43,"url": "http://localhost:4000/ko/react-native/open-file-with-app/"},{
          "@type":"ListItem",
          "position":44,"url": "http://localhost:4000/ko/react-native/react-native-push-notification/"}]
    }
  </script><link rel="stylesheet" href="/ko/assets/highlight/railscasts.css"/> <script src="/assets/highlight/highlight.pack.js"></script> <script>hljs.initHighlightingOnLoad();</script> </head> <body> <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav"> <div class="container"> <a class="navbar-brand" href="/ko/"> <img src="/assets/images/icon.png" alt="dev.yakuza blog logo"/> ヤクザ </a> <div class="navbar-menu-container"> <div class="collapse navbar-collapse"> <ul class="navbar-nav ml-auto"> <li class="nav-item"> <a class="nav-link" href="/ko/">Home</a> </li> <li class="nav-item dropdown"> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Category </a> <div class="dropdown-menu" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/ko/ildangongbu/">일단공부</a> <a class="dropdown-item" href="/ko/laravel/">Laravel</a> <a class="dropdown-item" href="/ko/books/">책 집필</a> <a class="dropdown-item" href="/ko/blaboo/">BlaBoo</a> <a class="dropdown-item" href="/ko/environment/">개발 환경</a> <a class="dropdown-item" href="/ko/react-native/">React Native</a> <a class="dropdown-item" href="/ko/react/">React</a> <a class="dropdown-item" href="/ko/kumoncho/">kumoncho</a> <a class="dropdown-item" href="/ko/django/">장고(djanog)</a> <a class="dropdown-item" href="/ko/git/">git</a> <a class="dropdown-item" href="/ko/jekyll/">jekyll blog</a> </div> </li> <li class="nav-item"> <a class="nav-link" target="_blank" rel="noopener" href=" /app/list/ko/">Apps</a> </li> <li class="nav-item"> <a class="nav-link" href="/ko/contact/">Contact</a> </li> </ul> </div> <div class="btn-group-sm btn-translate-group dropdown"> <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="fa fa-language" aria-hidden="true"></i> </button> <div class="dropdown-menu"> <a class="dropdown-item menu-ko" href="/ko/react-native/ios-app-crash-debugging/">한국어</a> <a class="dropdown-item menu-en" href="/en/react-native/ios-app-crash-debugging/">English</a> <a class="dropdown-item menu-ja" href="/ko/react-native/ios-app-crash-debugging/">日本語</a> </div> </div> <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"> Menu <i class="fa fa-bars"></i> </button> </div> <div class="collapse navbar-collapse" id="navbarResponsive"> <ul class="navbar-nav ml-auto"> <li class="nav-item"> <a class="nav-link" href="/ko/">Home</a> </li> <li class="nav-item dropdown"> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Category </a> <div class="dropdown-menu" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/ko/ildangongbu/">일단공부</a> <a class="dropdown-item" href="/ko/laravel/">Laravel</a> <a class="dropdown-item" href="/ko/books/">책 집필</a> <a class="dropdown-item" href="/ko/blaboo/">BlaBoo</a> <a class="dropdown-item" href="/ko/environment/">개발 환경</a> <a class="dropdown-item" href="/ko/react-native/">React Native</a> <a class="dropdown-item" href="/ko/react/">React</a> <a class="dropdown-item" href="/ko/kumoncho/">kumoncho</a> <a class="dropdown-item" href="/ko/django/">장고(djanog)</a> <a class="dropdown-item" href="/ko/git/">git</a> <a class="dropdown-item" href="/ko/jekyll/">jekyll blog</a> </div> </li> <li class="nav-item"> <a class="nav-link" target="_blank" rel="noopener" href=" /app/list/ko/">Apps</a> </li> <li class="nav-item"> <a class="nav-link" href="/ko/contact/">Contact</a> </li> </ul> </div> </div> </nav> <script>document.addEventListener("DOMContentLoaded",function(){var e=window.location.pathname;e.indexOf("/en/")>=0?($(".menu-ko").prop("href",e.replace("/en/","/ko/")),$(".menu-en").prop("href",e),$(".menu-ja").prop("href",e.replace("/en/","/"))):e.indexOf("/ko/")>=0?($(".menu-ko").prop("href",e),$(".menu-en").prop("href",e.replace("/ko/","/en/")),$(".menu-ja").prop("href",e.replace("/ko/","/"))):($(".menu-ko").prop("href","/ko"+e),$(".menu-en").prop("href","/en"+e),$(".menu-ja").prop("href",e)),$("body").on("show.bs.dropdown",".dropdown",function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideDown()}),$("body").on("hide.bs.dropdown",".dropdown",function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideUp()})});</script> <header class="masthead" style="background-image: url('/assets/images/category/react-native/ios-app-crash-debugging.jpg')"> <div class="overlay"></div> <div class="container"> <div class="row"> <div class="col-lg-8 col-md-10 mx-auto"> <div class="post-heading"> <h1>iOS App crash 분석</h1> <div class="heading-date"> <i class="fa fa-calendar" aria-hidden="true"></i> 2019-05-23 </div> <h2 class="subheading">iOS App crash 로그(Log)를 분석하는 방법에 대해서 알아봅니다.</h2> </div> </div> </div> </div> </header> <div class="top-ads"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7987914246691031" data-ad-slot="3850742490" data-ad-format="auto" data-full-width-responsive="true"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <div class="container"> <div class="row"> <div class="col-lg-8 col-md-10 mx-auto"> <nav aria-label="breadcrumb"> <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList"> <li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"> <a itemtype="http://schema.org/Thing" itemprop="item" href="http://localhost:4000"> <span itemprop="name">Home</span> </a> <meta itemprop="position" content="1"/> </li> <li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"> <a itemtype="http://schema.org/Thing" itemprop="item" href="http://localhost:4000/ko/react-native"> <span itemprop="name">react-native</span> </a> <meta itemprop="position" content="2"/> </li> <li class="breadcrumb-item active" aria-current="page" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"> <a itemtype="http://schema.org/Thing" itemprop="item" href="http://localhost:4000/ko/react-native/ios-app-crash-debugging/"> <span itemprop="name">iOS App crash 분석</span> </a> <meta itemprop="position" content="3"/> </li> </ol> </nav> </div> </div> <div class="row"> <div class="col-lg-2 col-md-1 d-none d-lg-block left-ads"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:inline-block;width:120px;height:600px" data-ad-client="ca-pub-7987914246691031" data-ad-slot="1333703444"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <article class="col-lg-8 col-md-10 mx-auto"> <h2 id="개요">개요</h2> <p>앱 심사를 위해 앱을 제출했지만 App crash 이유로 거절(reject)되었습니다. 친절하게 거절(reject) 이유와 함께 crash 로그(log) 파일을 함께 보내주었습니다. 이렇게 받은 crash 로그(log) 파일을 분석하여 어떤 부분에서 에러가 발생했는지 찾는 방법에 대해서 설명하겠습니다.</p> <h2 id="앱-심사-거절">앱 심사 거절</h2> <p>애플의 앱 심사가 거절(reject)되면 메일을 발송해줍니다. 메일을 받았다면 앱스토어 커넥트(Appstore connect)로 이동하여 앱 심사 거절(reject) 이유를 확인합니다.</p> <p><img src="/assets/images/category/react-native/ios-app-crash-debugging/app_reject.png" alt="앱 심사 거절"/></p> <p>특히 앱 심사 거절(reject) 이유가 App crash라면 아래와 같이 App crash log도 함께 보내줍니다.</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Guideline 2.1 - Performance - App Completeness

We were unable to review your app as it crashed on launch. We have attached detailed crash logs to help troubleshoot this issue.

Next Steps

To resolve this issue, please revise your app and test it on a device to ensure it will launch without crashing.

Resources

For information on how to symbolicate and read a crash log, please review Tech Note TN2151 Understanding and Analyzing Application Crash Reports.


crashlog-CDDAD5F8-F56A-470D-94BA-55149F76E390.txt
crashlog-D75B7641-0AF7-4DF4-8702-2E6665172390.txt
crashlog-3A0F07E3-874D-462F-9FFF-BCE88C98D224.txt
</code></pre></div></div> <p>앱 심사 거절(reject) 내용에 첨부되어있는 <a href="https://appstoreconnect.apple.com/WebObjects/iTunesConnect.woa/ra/ng/app/1441741187/platform/ios/resolutioncenter" rel="nofollow noreferrer" target="_blank">Tech Note TN2151 Understanding and Analyzing Application Crash Reports</a> 링크를 확인해보면, App crash log를 확인하는 방법에 대해서 자세히 나와있습니다.</p> <p>우선 보내준 로그(log) 파일을 다운로드 받습니다.</p> <div class="in-feed-ads"> <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-7987914246691031" data-ad-slot="2718813593"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <h2 id="심볼-파일-다운로드">심볼 파일 다운로드</h2> <p>App crash log를 분석하기 위해서는 앱의 심볼 파일(<code class="highlighter-rouge">dSYM</code>)이 필요합니다. 앱스토어 커넥트(Appstore connect)의 <code class="highlighter-rouge">Activity</code>탭으로 이동합니다.</p> <p><img src="/assets/images/category/react-native/ios-app-crash-debugging/appstoreconnect_activity.png" alt="앱스토어 커넥트 Activity 탭"/></p> <p>왼쪽에 <code class="highlighter-rouge">All Builds</code>를 선택하고 앱 심사에 제출한 빌드의 버전을 선택합니다.</p> <p><img src="/assets/images/category/react-native/ios-app-crash-debugging/appstoreconnect_download_symbol.png" alt="심볼 파일 다운로드"/></p> <p>오른쪽 하단에 <code class="highlighter-rouge">Download dSYM</code> 링크를 눌러 심볼 파일을 다운로드하고 압축을 해제합니다.</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>7ED9CAAD-F7F7-31E6-8480-2D358FBEF9C7.dSYM
E3430BAD-2EB8-3B8D-8E04-4BB66E2A4E58.dSYM
</code></pre></div></div> <h2 id="로그-파일-분석">로그 파일 분석</h2> <p>이제 애플에서 보내준 App crash log 파일을 분석해 보겠습니다. 모든 로그(log) 파일은 아래와 같이 헤더(header)를 가지고 있습니다.</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Incident Identifier: 3A0F07E3-874D-462F-9FFF-BCE88C98D224
CrashReporter Key:   28b54437587b1ef1e81059e98250b166b0d343c8
Hardware Model:      xxx
Process:             blaboo [2012]
Path:                /private/var/containers/Bundle/Application/488E158A-64B5-439E-82BC-F702CF26E5DA/blaboo.app/blaboo
Identifier:          io.github.dev-yakuza.blaboo
Version:             1 (1.0.6)
AppStoreTools:       10B63
Code Type:           ARM-64 (Native)
Role:                Non UI
Parent Process:      launchd [1]
Coalition:           io.github.dev-yakuza.blaboo [661]


Date/Time:           2018-12-10 17:20:22.0217 -0800
Launch Time:         2018-12-10 17:20:01.9857 -0800
OS Version:          iPhone OS 12.1 (16B92)
Baseband Version:    7.21.00
Report Version:      104

Exception Type:  EXC_CRASH (SIGKILL)
Exception Codes: 0x0000000000000000, 0x0000000000000000
Exception Note:  EXC_CORPSE_NOTIFY
Termination Reason: Namespace SPRINGBOARD, Code 0x8badf00d
Termination Description: SPRINGBOARD, scene-create watchdog transgression: io.github.dev-yakuza.blaboo exhausted real (wall clock) time allowance of 19.94 seconds | ProcessVisibility: Foreground | ProcessState: Running | WatchdogEvent: scene-create | WatchdogVisibility: Foreground | WatchdogCPUStatistics: ( | "Elapsed total CPU time (seconds): 24.600 (user 24.600, system 0.000), 41% CPU", | "Elapsed application CPU time (seconds): 0.237, 0% CPU" | )
Triggered by Thread:  0
</code></pre></div></div> <p>헤더(header)에 있는 <code class="highlighter-rouge">Exception Type</code>을 <a href="https://appstoreconnect.apple.com/WebObjects/iTunesConnect.woa/ra/ng/app/1441741187/platform/ios/resolutioncenter" rel="nofollow noreferrer" target="_blank">https://appstoreconnect.apple.com/WebObjects/iTunesConnect.woa/ra/ng/app/1441741187/platform/ios/resolutioncenter</a> 사이트에서 확인하는 것으로 대략적인 정보를 얻을 수 있습니다.</p> <p>예를 들어 <code class="highlighter-rouge">Bad Memory Access [EXC_BAD_ACCESS // SIGSEGV // SIGBUS]</code>인 경우는 프로세스가 유효하지 않은 메모리에 접근하려했거나 read-only 메모리에 쓰기 동작을 수행할 때 발생합니다.</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Exception Type:  EXC_CRASH (SIGKILL)
Exception Codes: 0x0000000000000000, 0x0000000000000000
Exception Note:  EXC_CORPSE_NOTIFY
Termination Reason: Namespace SPRINGBOARD, Code 0x8badf00d
Termination Description: SPRINGBOARD, scene-create watchdog transgression: io.github.dev-yakuza.blaboo exhausted real (wall clock) time allowance of 19.94 seconds | ProcessVisibility: Foreground | ProcessState: Running | WatchdogEvent: scene-create | WatchdogVisibility: Foreground | WatchdogCPUStatistics: ( | "Elapsed total CPU time (seconds): 24.600 (user 24.600, system 0.000), 41% CPU", | "Elapsed application CPU time (seconds): 0.237, 0% CPU" | )
Triggered by Thread:  0
</code></pre></div></div> <p>우리 앱은 <code class="highlighter-rouge">EXC_CRASH (SIGKILL)</code>이네요. 이 타입은 <code class="highlighter-rouge">Termination Reason</code>까지 확인해야 알 수 있습니다. <code class="highlighter-rouge">Termination Reason</code> 코드가 <code class="highlighter-rouge">0x8badf00d</code>입니다. 위에 링크에서 확인해보면 <code class="highlighter-rouge">The exception code 0x8badf00d indicates that an application has been terminated by iOS because a watchdog timeout occurred.</code>으로 타임아웃이 떨어져 에러가 발생한것으로 추정됩니다.</p> <p>그럼 어디에서 crash가 발생했는지 찾아보기 위해 터미널(terminal)을 이용해서 심볼 파일(dSYM)이 존재하는 폴더로 이동합니다.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 다운로드한 파일이 존재하는 폴더로 이동합니다.</span>
<span class="nb">cd</span> ~/Desktop/crash/
</code></pre></div></div> <p>그리고 애플이 보내준 App crash log 파일을 열고 제일 상단에 내용을 확인합니다.</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
    ...
    "slice_uuid":"7ed9caad-f7f7-31e6-8480-2d358fbef9c7",
    ...
}
...

Thread 0 name:  Dispatch queue: com.apple.main-thread
Thread 0 Crashed:
...
10  Security                      	0x00000001e938b6d8 0x1e9314000 + 489176
11  Security                      	0x00000001e938944c 0x1e9314000 + 480332
12  Security                      	0x00000001e938bcd0 0x1e9314000 + 490704
13  blaboo                        	0x0000000100969608 0x10093c000 + 185864
14  blaboo                        	0x000000010096ddf0 0x10093c000 + 204272
15  blaboo                        	0x000000010097190c 0x10093c000 + 219404
...
</code></pre></div></div> <p>여기에 표시된 <code class="highlighter-rouge">slice_uuid</code>와 매칭이되는 심볼 파일(dSYM)을 이용해서 App crash log를 분석합니다. 또한 <code class="highlighter-rouge">Thread 0 Crashed</code>에서 자신의 앱 이름가 보이는 부분을 찾습니다.</p> <p><a href="https://appstoreconnect.apple.com/WebObjects/iTunesConnect.woa/ra/ng/app/1441741187/platform/ios/resolutioncenter" rel="nofollow noreferrer" target="_blank">Tech Note TN2151 Understanding and Analyzing Application Crash Reports</a> 사이트에서 소개된 아래에 명령어를 통해 분석을 할 예정입니다.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>atos <span class="nt">-arch</span> arm64 <span class="nt">-o</span> TheElements.app.dSYM/Contents/Resources/DWARF/TheElements <span class="nt">-l</span> 0x1000e4000 0x00000001000effdc
</code></pre></div></div> <p>이 명령어를 위에서 조사한 내용으로 변경하면 아래와 같습니다.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># "slice_uuid":"7ed9caad-f7f7-31e6-8480-2d358fbef9c7",</span>
<span class="c"># 13  blaboo                        	0x0000000100969608 0x10093c000 + 185864</span>
<span class="c"># atos -arch arm64 -o [slice_uuid].dSYM/Contents/Resources/DWARF/[AppName] -l [4번째 문자열: 0x10093c000] [3번째 문자열: 0x0000000100969608]</span>
atos <span class="nt">-arch</span> arm64 <span class="nt">-o</span> 7ED9CAAD-F7F7-31E6-8480-2D358FBEF9C7.dSYM/Contents/Resources/DWARF/blaboo <span class="nt">-l</span> 0x10093c000 0x0000000100969608
</code></pre></div></div> <p>위와 같이 명령어를 입력하면 아래와 같은 결과를 볼 수 있습니다.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>-[FIRInstanceIDAuthKeychain removeItemsMatchingService:account:error:] <span class="o">(</span><span class="k">in </span>blaboo<span class="o">)</span> + 136
</code></pre></div></div> <p>위와 같이 앱의 crash가 발생한 부분을 대략적으로 확인할 수 있습니다.</p> <div class="in-feed-ads"> <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-7987914246691031" data-ad-slot="2718813593"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <h2 id="완료">완료</h2> <p>애플이 보내준 App crash log를 분석하는 방법에 대해서 알아봤습니다. 우리 앱의 App crash log를 분석해본 결과 Admob에서 문제가 발생하는 것 같아 확인해 본 결과 파이어베이스(Firebase)에서 다운받은 파일(<code class="highlighter-rouge">GoogleService-Info.plist</code>)에 <code class="highlighter-rouge">ADMOB_APP_ID</code>가 포함되어 있지 않았었습니다. 그래서 파이어베이스(Firebase)에서 새롭게 <code class="highlighter-rouge">GoogleService-Info.plist</code> 파일을 다운로드받아 적용했습니다.</p> <h2 id="참고">참고</h2> <ul> <li>Tech Note TN2151 Understanding and Analyzing Application Crash Reports: <a href="https://appstoreconnect.apple.com/WebObjects/iTunesConnect.woa/ra/ng/app/1441741187/platform/ios/resolutioncenter" rel="nofollow noreferrer" target="_blank">https://appstoreconnect.apple.com/WebObjects/iTunesConnect.woa/ra/ng/app/1441741187/platform/ios/resolutioncenter</a></li> </ul> <div class="buy_me_a_coffee_container"> <style> .bmc-button img { width: 27px !important; margin-bottom: 1px !important; box-shadow: none !important; border: none !important; vertical-align: middle !important; } .bmc-button { line-height: 36px !important; height: 37px !important; text-decoration: none !important; display: inline-flex !important; color: #ffffff !important; background-color: #ff813f !important; border-radius: 3px !important; border: 1px solid transparent !important; padding: 0px 9px !important; font-size: 17px !important; letter-spacing: -0.08px !important; box-shadow: 0px 1px 2px rgba(190, 190, 190, 0.5) !important; -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important; margin: 0 auto !important; font-family: 'Lato', sans-serif !important; -webkit-box-sizing: border-box !important; box-sizing: border-box !important; -o-transition: 0.3s all linear !important; -webkit-transition: 0.3s all linear !important; -moz-transition: 0.3s all linear !important; -ms-transition: 0.3s all linear !important; transition: 0.3s all linear !important; } .bmc-button:hover, .bmc-button:active, .bmc-button:focus { -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important; text-decoration: none !important; box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important; opacity: 0.85 !important; color: #ffffff !important; }</style><link href="https://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext" rel="stylesheet"/><a class="bmc-button" target="_blank" href="https://www.buymeacoffee.com/j0cXhWiza" rel="noopener noreferrer nofollow"><img src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg" alt="Buy me a coffee"/><span style="margin-left:5px">Buy me a coffee</span></a> </div> </article> <div class="col-lg-2 col-md-1 d-none d-lg-block right-ads"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:inline-block;width:120px;height:600px" data-ad-client="ca-pub-7987914246691031" data-ad-slot="9858937018"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> </div> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7987914246691031" data-ad-slot="1936214968" data-ad-format="auto" data-full-width-responsive="true"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> <div class="row"> <div class="col-lg-8 col-md-10 mx-auto"> <div class="post-list-container"> <div class="header"> <div class="header-title">Posts</div> </div> <div class="body"> <div class="list-group"></div> </div> <div class="footer"> <ul class="pagination"> <li class="page-item page-item--previous"> <div class="page-link" aria-label="Previous"> <span aria-hidden="true">&laquo;</span> <span class="sr-only">Previous</span> </div> </li> <li class="page-item page-item--next"> <div class="page-link" aria-label="Next"> <span aria-hidden="true">&raquo;</span> <span class="sr-only">Next</span> </div> </li> </ul> </div> </div> <script type="text/javascript">document.addEventListener("DOMContentLoaded",function(){$.get("/ko/api/react-native/posts.json",function(e){e.length>0&&($(".post-list-container").show(),e.forEach(function(e){var a=$(".post-list-container .body .list-group"),t=a.find(".page-"+e.page),i=e.url.indexOf(location.pathname)>=0?"active":"",s="";if(s+='<a href="'+e.url+'" class="list-group-item list-group-item-action flex-column align-items-start '+i+'">',s+='  <div class="d-flex w-100 justify-content-between">',s+='    <div class="mb-1">'+e.title+"</div>",s+="  </div>",s+='  <div class="body-text">'+e.description+"</div>",s+="</a>",t.length>0)t.addClass(i),t.append(s);else{var n="";n+='<div class="page page-'+e.page+" "+i+'">',n+=s,n+="</div>",a.append(n)}var p="";p+='<li class="page-item page-item--link '+i+'" data-page="'+e.page+'">',p+='  <div class="page-link" data-page="'+e.page+'">',p+=e.page,p+="  </div>",p+="</li>",0===$('.post-list-container .footer .page-item[data-page="'+e.page+'"]').length&&$(".post-list-container .footer .page-item--next").before(p),"active"===i&&$("li[data-page="+e.page+"]").addClass(i),e.page>1&&$(".footer").css("display","flex")}))}),$("body").on("click",".page-link",function(){var e=$(".post-list-container .body .list-group"),a=$(".footer .pagination"),t=a.find(".page-item.active"),i=t.find(".page-link").data("page"),s=$(this).data("page");if($(this).closest(".page-item").hasClass("page-item--previous"))s=i>1?i-1:1;else if($(this).closest(".page-item").hasClass("page-item--next")){var n=a.find(".page-item--link").length;s=i<n?i+1:n}else var s=$(this).data("page");e.find(".page").removeClass("active"),e.find(".page-"+s).addClass("active"),a.find(".page-item").removeClass("active"),a.find('.page-link[data-page="'+s+'"]').closest(".page-item").addClass("active")})});</script> </div> <div class="col-lg-8 col-md-10 mx-auto"> <hr/> <div id="disqus_thread"></div> <script>var disqus_config=function(){this.page.url="http://localhost:4000/react-native/ios-app-crash-debugging/",this.page.identifier="http://localhost:4000/react-native/ios-app-crash-debugging/"};!function(){var t=document,e=t.createElement("script");e.src="https://https-dev-yakuza-github-io-ko.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}();</script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> </div> </div> </div> </div> <hr/> <footer> <div class="container"> <div class="row"> <div class="col-lg-8 col-md-10 mx-auto share-title"> SHARE </div> <div class="col-lg-8 col-md-10 mx-auto"> <ul class="list-inline text-center"> <li class="list-inline-item"> <a href="https://twitter.com/intent/tweet?text=iOS App crash 분석&url=http://localhost:4000/react-native/ios-app-crash-debugging/" rel="nofollow noreferrer noopener" target="_blank"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> </li> <li class="list-inline-item"> <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/react-native/ios-app-crash-debugging/" rel="nofollow noreferrer noopener" target="_blank"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-facebook fa-stack-1x fa-inverse"></i> </span> </a> </li> <li class="list-inline-item"> <a href="http://localhost:4000/ko/feed.xml" rel="nofollow noreferrer noopener" target="_blank"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-rss-square fa-stack-1x fa-inverse" aria-hidden="true"></i> </span> </a> </li> </ul> <p class="copyright text-muted"> Copyright &copy; dev.yakuza@gmail.com 2019 </p> </div> </div> </div> </footer> <script src="/assets/vendor/jquery/jquery.min.js"></script> <script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script> <script src="/assets/vendor/startbootstrap-clean-blog/js/clean-blog.min.js"></script> <script src="/assets/scripts.js"></script> </body> </html>