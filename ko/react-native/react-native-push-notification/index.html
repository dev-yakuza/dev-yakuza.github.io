<!DOCTYPE html> <html lang="ko"> <head> <meta charset="euc-kr"/> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/> <meta name="twitter:title" content="Local Push Notificatoin"/> <meta name="twitter:description" content="react-native-push-notification 라이브러리를 이용하여 Local Push Notification, 즉 앱(App) 자체에서 알림을 보내는 방법에 대해서 알아보겠습니다."/> <meta name="twitter:card" content="summary_large_image"/> <meta name="twitter:site" content="@DevYakuza"/> <meta name="twitter:creator" content="@DevYakuza"/> <title>Local Push Notificatoin - react-native-push-notification 라이브러리를 이용하여 Local Push Notification, 즉 앱(App) 자체에서 알림을 보내는 방법에 대해서 알아보겠습니다.</title> <meta name="description" content="react-native-push-notification 라이브러리를 이용하여 Local Push Notification, 즉 앱(App) 자체에서 알림을 보내는 방법에 대해서 알아보겠습니다."/> <meta property="og:url" content="https://dev-yakuza.github.io/ko/react-native/react-native-push-notification/"/> <meta name="generator" content="Jekyll v3.8.5"/> <meta property="og:title" content="Local Push Notificatoin"/> <meta name="author" content="dev.yakuza@gmail.com"/> <meta property="og:locale" content="ko"/> <meta name="description" content="react-native-push-notification 라이브러리를 이용하여 Local Push Notification, 즉 앱(App) 자체에서 알림을 보내는 방법에 대해서 알아보겠습니다."/> <meta property="og:description" content="react-native-push-notification 라이브러리를 이용하여 Local Push Notification, 즉 앱(App) 자체에서 알림을 보내는 방법에 대해서 알아보겠습니다."/> <link rel="canonical" href="https://dev-yakuza.github.io/ko/react-native/react-native-push-notification/"/> <meta property="og:url" content="https://dev-yakuza.github.io/react-native/react-native-push-notification/"/> <meta property="og:site_name" content="Dreams the art through programming"/> <meta property="og:image" content="https://dev-yakuza.github.io/assets/images/category/react-native/2019/react-native-push-notification/background.jpg"/> <meta property="og:type" content="article"/> <meta property="article:published_time" content="2019-06-13T00:00:00+09:00"/> <script type="application/ld+json">
{"url":"https://dev-yakuza.github.io/react-native/react-native-push-notification/","image":"https://dev-yakuza.github.io/assets/images/category/react-native/2019/react-native-push-notification/background.jpg","headline":"Local Push Notificatoin","dateModified":"2019-06-14T15:40:48+09:00","datePublished":"2019-06-13T00:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://dev-yakuza.github.io/react-native/react-native-push-notification/"},"author":{"@type":"Person","name":"dev.yakuza@gmail.com"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://dev-yakuza.github.io/assets/images/icon.png"},"name":"dev.yakuza@gmail.com"},"description":"react-native-push-notification 라이브러리를 이용하여 Local Push Notification, 즉 앱(App) 자체에서 알림을 보내는 방법에 대해서 알아보겠습니다.","@type":"BlogPosting","@context":"http://schema.org"}</script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-125408913-1"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-125408913-1");</script> <link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR" rel="stylesheet"/> <link rel="stylesheet" href="/ko/assets/vendor/bootstrap/css/bootstrap.min.css"/> <link rel="stylesheet" href="/ko/assets/vendor/font-awesome/css/font-awesome.min.css"/> <link rel="stylesheet" href="/ko/assets/main.css?v=20191009"/> <link rel="alternate" type="application/rss+xml" title="Dreams the art through programming" href="/ko/feed.xml"/> <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "dev.yakuza",
      "url": "https://dev-yakuza.github.io",
      "sameAs": [
        "https://www.facebook.com/yakuza.dev.54",
        "https://www.instagram.com/dev_yakuza/",
        "https://twitter.com/DevYakuza"
      ]
    }
  </script> <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "https://dev-yakuza.github.io",
      "logo": "https://dev-yakuza.github.io/assets/images/icon.png"
    }
  </script><script type="application/ld+json">
    {
      "@context":"http://schema.org",
      "@type":"ItemList",
      "itemListElement":[{
          "@type":"ListItem",
          "position":1,"url": "https://dev-yakuza.github.io/ko/react-native/install-on-mac/"},{
          "@type":"ListItem",
          "position":2,"url": "https://dev-yakuza.github.io/ko/react-native/install-on-windows/"},{
          "@type":"ListItem",
          "position":3,"url": "https://dev-yakuza.github.io/ko/react-native/installation/"},{
          "@type":"ListItem",
          "position":4,"url": "https://dev-yakuza.github.io/ko/react-native/typescript/"},{
          "@type":"ListItem",
          "position":5,"url": "https://dev-yakuza.github.io/ko/react-native/styled-components/"},{
          "@type":"ListItem",
          "position":6,"url": "https://dev-yakuza.github.io/ko/react-native/react-navigation/"},{
          "@type":"ListItem",
          "position":7,"url": "https://dev-yakuza.github.io/ko/react-native/app-icon/"},{
          "@type":"ListItem",
          "position":8,"url": "https://dev-yakuza.github.io/ko/react-native/splash-image/"},{
          "@type":"ListItem",
          "position":9,"url": "https://dev-yakuza.github.io/ko/react-native/nativebase/"},{
          "@type":"ListItem",
          "position":10,"url": "https://dev-yakuza.github.io/ko/react-native/react-native-vector-icons/"},{
          "@type":"ListItem",
          "position":11,"url": "https://dev-yakuza.github.io/ko/react-native/react-native-device-info/"},{
          "@type":"ListItem",
          "position":12,"url": "https://dev-yakuza.github.io/ko/react-native/react-native-tts/"},{
          "@type":"ListItem",
          "position":13,"url": "https://dev-yakuza.github.io/ko/react-native/react-native-admob/"},{
          "@type":"ListItem",
          "position":14,"url": "https://dev-yakuza.github.io/ko/react-native/ios-test-on-device/"},{
          "@type":"ListItem",
          "position":15,"url": "https://dev-yakuza.github.io/ko/react-native/ios-running-on-device/"},{
          "@type":"ListItem",
          "position":16,"url": "https://dev-yakuza.github.io/ko/react-native/ios-enroll-developer-program/"},{
          "@type":"ListItem",
          "position":17,"url": "https://dev-yakuza.github.io/ko/react-native/ios-certification/"},{
          "@type":"ListItem",
          "position":18,"url": "https://dev-yakuza.github.io/ko/react-native/ios-testflight/"},{
          "@type":"ListItem",
          "position":19,"url": "https://dev-yakuza.github.io/ko/react-native/ios-app-store/"},{
          "@type":"ListItem",
          "position":20,"url": "https://dev-yakuza.github.io/ko/react-native/react-native-analytics-bridge/"},{
          "@type":"ListItem",
          "position":21,"url": "https://dev-yakuza.github.io/ko/react-native/react-native-firebase-admob/"},{
          "@type":"ListItem",
          "position":22,"url": "https://dev-yakuza.github.io/ko/react-native/android-test-on-device/"},{
          "@type":"ListItem",
          "position":23,"url": "https://dev-yakuza.github.io/ko/react-native/android-running-on-device/"},{
          "@type":"ListItem",
          "position":24,"url": "https://dev-yakuza.github.io/ko/react-native/ios-change-simulator/"},{
          "@type":"ListItem",
          "position":25,"url": "https://dev-yakuza.github.io/ko/react-native/react-native-firebase-analytics/"},{
          "@type":"ListItem",
          "position":26,"url": "https://dev-yakuza.github.io/ko/react-native/ios-app-crash-debugging/"},{
          "@type":"ListItem",
          "position":27,"url": "https://dev-yakuza.github.io/ko/react-native/firebase-crashlytics/"},{
          "@type":"ListItem",
          "position":28,"url": "https://dev-yakuza.github.io/ko/react-native/react-native-animatable/"},{
          "@type":"ListItem",
          "position":29,"url": "https://dev-yakuza.github.io/ko/react-native/android-enroll-google-play-developer/"},{
          "@type":"ListItem",
          "position":30,"url": "https://dev-yakuza.github.io/ko/react-native/android-google-play/"},{
          "@type":"ListItem",
          "position":31,"url": "https://dev-yakuza.github.io/ko/react-native/react-native-voice/"},{
          "@type":"ListItem",
          "position":32,"url": "https://dev-yakuza.github.io/ko/react-native/react-native-mail/"},{
          "@type":"ListItem",
          "position":33,"url": "https://dev-yakuza.github.io/ko/react-native/react-native-fs/"},{
          "@type":"ListItem",
          "position":34,"url": "https://dev-yakuza.github.io/ko/react-native/react-native-lottie/"},{
          "@type":"ListItem",
          "position":35,"url": "https://dev-yakuza.github.io/ko/react-native/react-native-swipe-gestures/"},{
          "@type":"ListItem",
          "position":36,"url": "https://dev-yakuza.github.io/ko/react-native/react-native-linear-gradient/"},{
          "@type":"ListItem",
          "position":37,"url": "https://dev-yakuza.github.io/ko/react-native/react-native-splash-screen/"},{
          "@type":"ListItem",
          "position":38,"url": "https://dev-yakuza.github.io/ko/react-native/react-native-rate/"},{
          "@type":"ListItem",
          "position":39,"url": "https://dev-yakuza.github.io/ko/react-native/react-native-itunes-share-file/"},{
          "@type":"ListItem",
          "position":40,"url": "https://dev-yakuza.github.io/ko/react-native/react-native-status-bar/"},{
          "@type":"ListItem",
          "position":41,"url": "https://dev-yakuza.github.io/ko/react-native/react-native-support-tablet/"},{
          "@type":"ListItem",
          "position":42,"url": "https://dev-yakuza.github.io/ko/react-native/react-native-sqlite-storage/"},{
          "@type":"ListItem",
          "position":43,"url": "https://dev-yakuza.github.io/ko/react-native/react-native-custom-font/"},{
          "@type":"ListItem",
          "position":44,"url": "https://dev-yakuza.github.io/ko/react-native/root-import/"},{
          "@type":"ListItem",
          "position":45,"url": "https://dev-yakuza.github.io/ko/react-native/open-file-with-app/"},{
          "@type":"ListItem",
          "position":46,"url": "https://dev-yakuza.github.io/ko/react-native/react-native-push-notification/"}]
    }
  </script><link rel="stylesheet" href="/ko/assets/highlight/railscasts.css"/> <script src="/assets/highlight/highlight.pack.js"></script> <script>hljs.initHighlightingOnLoad();</script> </head> <body> <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav"> <div class="container"> <a class="navbar-brand" href="/ko/"> <img src="/assets/images/icon.png" alt="dev.yakuza blog logo"/> ヤクザ </a> <div class="navbar-menu-container"> <div class="collapse navbar-collapse"> <ul class="navbar-nav ml-auto"> <li class="nav-item"> <a class="nav-link" href="/ko/">Home</a> </li> <li class="nav-item dropdown"> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Category </a> <div class="dropdown-menu" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/ko/ildangongbu/">일단공부</a> <a class="dropdown-item" href="/ko/laravel/">Laravel</a> <a class="dropdown-item" href="/ko/books/">책 집필</a> <a class="dropdown-item" href="/ko/blaboo/">BlaBoo</a> <a class="dropdown-item" href="/ko/environment/">개발 환경</a> <a class="dropdown-item" href="/ko/react-native/">React Native</a> <a class="dropdown-item" href="/ko/react/">React</a> <a class="dropdown-item" href="/ko/kumoncho/">kumoncho</a> <a class="dropdown-item" href="/ko/django/">장고(djanog)</a> <a class="dropdown-item" href="/ko/git/">git</a> <a class="dropdown-item" href="/ko/jekyll/">jekyll blog</a> </div> </li> <li class="nav-item"> <a class="nav-link" target="_blank" rel="noopener" href=" /app/list/ko/">Apps</a> </li> <li class="nav-item"> <a class="nav-link" href="/ko/contact/">Contact</a> </li> </ul> </div> <div class="btn-group-sm btn-translate-group dropdown"> <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="fa fa-language" aria-hidden="true"></i> </button> <div class="dropdown-menu"> <a class="dropdown-item menu-ko" href="/ko/react-native/react-native-push-notification/">한국어</a> <a class="dropdown-item menu-en" href="/en/react-native/react-native-push-notification/">English</a> <a class="dropdown-item menu-ja" href="/ko/react-native/react-native-push-notification/">日本語</a> </div> </div> <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"> Menu <i class="fa fa-bars"></i> </button> </div> <div class="collapse navbar-collapse" id="navbarResponsive"> <ul class="navbar-nav ml-auto"> <li class="nav-item"> <a class="nav-link" href="/ko/">Home</a> </li> <li class="nav-item dropdown"> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Category </a> <div class="dropdown-menu" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/ko/ildangongbu/">일단공부</a> <a class="dropdown-item" href="/ko/laravel/">Laravel</a> <a class="dropdown-item" href="/ko/books/">책 집필</a> <a class="dropdown-item" href="/ko/blaboo/">BlaBoo</a> <a class="dropdown-item" href="/ko/environment/">개발 환경</a> <a class="dropdown-item" href="/ko/react-native/">React Native</a> <a class="dropdown-item" href="/ko/react/">React</a> <a class="dropdown-item" href="/ko/kumoncho/">kumoncho</a> <a class="dropdown-item" href="/ko/django/">장고(djanog)</a> <a class="dropdown-item" href="/ko/git/">git</a> <a class="dropdown-item" href="/ko/jekyll/">jekyll blog</a> </div> </li> <li class="nav-item"> <a class="nav-link" target="_blank" rel="noopener" href=" /app/list/ko/">Apps</a> </li> <li class="nav-item"> <a class="nav-link" href="/ko/contact/">Contact</a> </li> </ul> </div> </div> </nav> <script>document.addEventListener("DOMContentLoaded",function(){var e=window.location.pathname;e.indexOf("/en/")>=0?($(".menu-ko").prop("href",e.replace("/en/","/ko/")),$(".menu-en").prop("href",e),$(".menu-ja").prop("href",e.replace("/en/","/"))):e.indexOf("/ko/")>=0?($(".menu-ko").prop("href",e),$(".menu-en").prop("href",e.replace("/ko/","/en/")),$(".menu-ja").prop("href",e.replace("/ko/","/"))):($(".menu-ko").prop("href","/ko"+e),$(".menu-en").prop("href","/en"+e),$(".menu-ja").prop("href",e)),$("body").on("show.bs.dropdown",".dropdown",function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideDown()}),$("body").on("hide.bs.dropdown",".dropdown",function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideUp()})});</script> <header class="masthead" style="background-image: url('/assets/images/category/react-native/2019/react-native-push-notification/background.jpg')"> <div class="overlay"></div> <div class="container"> <div class="row"> <div class="col-lg-8 col-md-10 mx-auto"> <div class="post-heading"> <h1>Local Push Notificatoin</h1> <div class="heading-date"> <i class="fa fa-calendar" aria-hidden="true"></i> 2019-06-14 </div> <h2 class="subheading">react-native-push-notification 라이브러리를 이용하여 Local Push Notification, 즉 앱(App) 자체에서 알림을 보내는 방법에 대해서 알아보겠습니다.</h2> </div> </div> </div> </div> </header> <div class="top-ads"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7987914246691031" data-ad-slot="3850742490" data-ad-format="auto" data-full-width-responsive="true"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <div class="container"> <div class="row"> <div class="col-lg-8 col-md-10 mx-auto"> <nav aria-label="breadcrumb"> <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList"> <li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"> <a itemtype="http://schema.org/Thing" itemprop="item" href="https://dev-yakuza.github.io"> <span itemprop="name">Home</span> </a> <meta itemprop="position" content="1"/> </li> <li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"> <a itemtype="http://schema.org/Thing" itemprop="item" href="https://dev-yakuza.github.io/ko/react-native"> <span itemprop="name">react-native</span> </a> <meta itemprop="position" content="2"/> </li> <li class="breadcrumb-item active" aria-current="page" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"> <a itemtype="http://schema.org/Thing" itemprop="item" href="https://dev-yakuza.github.io/ko/react-native/react-native-push-notification/"> <span itemprop="name">Local Push Notificatoin</span> </a> <meta itemprop="position" content="3"/> </li> </ol> </nav> </div> </div> <div class="row"> <div class="col-lg-2 col-md-1 d-none d-lg-block left-ads"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:inline-block;width:120px;height:600px" data-ad-client="ca-pub-7987914246691031" data-ad-slot="1333703444"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <article class="col-lg-8 col-md-10 mx-auto"> <h2 id="개요">개요</h2> <p>혼자서 개발한 단어 공부앱이 다운로드하는 사람은 많아졌지만, DAU(Daily Active User, 일일 활성화 사용자)가 별로 없는 것을 발견하게 되었습니다. 그래서 DAU(Daily Active User, 일일 활성화 사용자)를 높이기 위한 방법으로 메세지 전송(Push Notification)을 적용하려고 했습니다. 그러나, 가난한 개발자이다보니, 서버를 이용한 메세지 송신(Push Notification)이 아닌 앱(App) 자체에서 메세지를 보내는 방법(Local Push Notification)을 구현하게 되었습니다. 아래에는 여기서 소개해드린 방법이 적용된 저의 앱들입니다. 혹시 관심이 있으신 분들은 다운로드 해 보시기 바랍니다.</p> <ul> <li>일본어 단어 공부, 일단 공부: <a href="https://dev-yakuza.github.io/ko/app/ildangongbu/" target="_blank">https://dev-yakuza.github.io/app/ildangongbu/</a></li> <li>韓国語単語勉強、カンタン勉強: <a href="https://dev-yakuza.github.io/ko/app/kantanbenkyo/" target="_blank">https://dev-yakuza.github.io/app/kantanbenkyo/</a></li> <li>TOPIK単語勉強、TOPIK単語1/2: <a href="https://dev-yakuza.github.io/ko/app/topik12/" target="_blank">https://dev-yakuza.github.io/app/topik12/</a></li> <li>TOPIK単語勉強、TOPIK単語3/4: <a href="https://dev-yakuza.github.io/ko/app/topik34/" target="_blank">https://dev-yakuza.github.io/app/topik34/</a></li> <li>TOPIK単語勉強、TOPIK単語5/6: <a href="https://dev-yakuza.github.io/ko/app/topik56/" target="_blank">https://dev-yakuza.github.io/app/topik56/</a></li> </ul> <p>이 블로그 포스트에서는 <code class="highlighter-rouge">react-native-push-notification</code> 라이브러리르 이용하여 앱(App) 자체에서 메세지를 보내는 방법(Local Push Notification)에 대해서 알아보겠습니다.</p> <ul> <li>react-native-push-notification: <a href="https://github.com/zo0r/react-native-push-notification" rel="nofollow noreferrer" target="_blank">https://github.com/zo0r/react-native-push-notification</a></li> </ul> <h2 id="라이브러리-설치">라이브러리 설치</h2> <p>아래에 명령어로 <code class="highlighter-rouge">react-native-push-notification</code> 라이브러리를 설치합니다.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install <span class="nt">--save</span> react-native-push-notification
</code></pre></div></div> <p>아래에 명령어로 <code class="highlighter-rouge">react-native-push-notification</code> 라이브러리를 연결(Link)합니다.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>react-native link react-native-push-notification
</code></pre></div></div> <p>위에서 실행한 명령어의 결과를 보면 알 수 있듯이, 안드로이드(Android)만 연결(Link)되었습니다.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>info Linking <span class="s2">"react-native-push-notification"</span> Android dependency
info Android module <span class="s2">"react-native-push-notification"</span> has been successfully linked
</code></pre></div></div> <p>iOS는 아래에 링크를 참고하여 진행해야 합니다.</p> <ul> <li>iOS manual Installation: <a href="https://facebook.github.io/react-native/docs/linking-libraries-ios#manual-linking" rel="nofollow noreferrer" target="_blank">https://facebook.github.io/react-native/docs/linking-libraries-ios#manual-linking</a></li> </ul> <p>먼저 <code class="highlighter-rouge">/ios/[project-name].xcworkspace</code> 또는 <code class="highlighter-rouge">/ios/[project-name].xcodeproj</code>을 실행시켜 xcode로 실행합니다.</p> <p><img src="/assets/images/category/react-native/2019/react-native-push-notification/add-library.png" alt="react-native-push-notification 라이브러리 iOS 연결(link)"/></p> <p>위와 같이 <code class="highlighter-rouge">node_modules/react-native/libraries/PushNotificationIOS/RCTPushNotification.xcodeproj</code>를 xcode의 프로젝트명 하단의 <code class="highlighter-rouge">libraries</code>에 드래그해서 추가합니다. 주의해야할 사항은 node_modules의 react-native-push-notification가 아닌 <code class="highlighter-rouge">react-native</code>입니다.</p> <p>그 다음 아래와 같이 <code class="highlighter-rouge">프로젝트명 &gt; Build Phases &gt; Link Binary with Libraries</code>를 선택합니다.</p> <p><img src="/assets/images/category/react-native/2019/react-native-push-notification/build-phases.png" alt="react-native-push-notification 라이브러리 iOS 연결(link) - build phases"/></p> <p>하단에 있는 <code class="highlighter-rouge">+</code> 버튼을 누르고 <code class="highlighter-rouge">Push</code>를 검색합니다. 검색 결과에 있는 <code class="highlighter-rouge">libRCTPushNotification.a</code>를 선택하고 <code class="highlighter-rouge">Add</code>를 눌러 추가합니다.</p> <p><img src="/assets/images/category/react-native/2019/react-native-push-notification/add-library-to-build-phases.png" alt="react-native-push-notification 라이브러리 iOS 연결(link) - build phases에 라이브러리 추가"/></p> <div class="in-feed-ads"> <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-7987914246691031" data-ad-slot="2718813593"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <h2 id="react-native-push-notification-사용하기">react-native-push-notification 사용하기</h2> <p>아래에 코드는 실제 제가 사용하고 있는 코드입니다.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">AppState</span><span class="p">,</span> <span class="nx">PushNotificationIOS</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'react-native'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">PushNotification</span> <span class="k">from</span> <span class="s1">'react-native-push-notification'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">_handleAppStateChange</span> <span class="o">=</span> <span class="nx">nextAppState</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">nextAppState</span> <span class="o">===</span> <span class="s1">'active'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">_registerLocalNotification</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">_registerLocalNotification</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">PushNotification</span><span class="p">.</span><span class="nx">setApplicationIconBadgeNumber</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
  <span class="nx">PushNotification</span><span class="p">.</span><span class="nx">cancelAllLocalNotifications</span><span class="p">();</span>

  <span class="kd">const</span> <span class="nx">messages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'잠깐 시간내서 일본어 공부를 해보는건 어떨까요?'</span><span class="p">,</span>
    <span class="s1">'오늘 일본어 공부하셨나요?'</span><span class="p">,</span>
    <span class="s1">'일본어 단어를 공부해 보세요.'</span><span class="p">,</span>
    <span class="s1">'단어 공부는 매일매일 하는 것이 중요해요.'</span><span class="p">,</span>
    <span class="s1">'새로운 단어와 암기한 공부를 복습해 보세요.'</span><span class="p">,</span>
    <span class="s1">'일본어를 공부할 시간이에요.'</span><span class="p">,</span>
    <span class="s1">'테스트 기능을 사용해서 자신의 실력을 확인해 보세요.'</span><span class="p">,</span>
    <span class="s1">'일본어 단어들이 당신을 기다리고 있어요.'</span><span class="p">,</span>
    <span class="s1">'일본어, 어렵지 않아요. 공부해 봅시다.'</span><span class="p">,</span>
    <span class="s1">'일본어 마스터가 되기위해!'</span><span class="p">,</span>
  <span class="p">];</span>
  <span class="kd">const</span> <span class="nx">message</span> <span class="o">=</span> <span class="nx">messages</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">messages</span><span class="p">.</span><span class="nx">length</span><span class="p">)];</span>

  <span class="kd">let</span> <span class="nx">nextHour</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
  <span class="nx">nextHour</span><span class="p">.</span><span class="nx">setDate</span><span class="p">(</span><span class="nx">nextHour</span><span class="p">.</span><span class="nx">getDate</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
  <span class="nx">nextHour</span><span class="p">.</span><span class="nx">setHours</span><span class="p">(</span><span class="nx">nextHour</span><span class="p">.</span><span class="nx">getHours</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>


  <span class="nx">PushNotification</span><span class="p">.</span><span class="nx">localNotificationSchedule</span><span class="p">({</span>
    <span class="cm">/* Android Only Properties */</span>
    <span class="na">vibrate</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">vibration</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span>
    <span class="na">priority</span><span class="p">:</span> <span class="s1">'hight'</span><span class="p">,</span>
    <span class="na">visibility</span><span class="p">:</span> <span class="s1">'public'</span><span class="p">,</span>
    <span class="na">importance</span><span class="p">:</span> <span class="s1">'hight'</span><span class="p">,</span>

    <span class="cm">/* iOS and Android properties */</span>
    <span class="nx">message</span><span class="p">,</span> <span class="c1">// (required)</span>
    <span class="na">playSound</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">number</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">actions</span><span class="p">:</span> <span class="s1">'["OK"]'</span><span class="p">,</span>

    <span class="c1">// for production</span>
    <span class="na">repeatType</span><span class="p">:</span> <span class="s1">'day'</span><span class="p">,</span> <span class="c1">// (optional) Repeating interval. Check 'Repeating Notifications' section for more info.</span>
    <span class="na">date</span><span class="p">:</span> <span class="nx">nextHour</span><span class="p">,</span>

    <span class="c1">// test to trigger each miniute</span>
    <span class="c1">// repeatType: 'minute',</span>
    <span class="c1">// date: new Date(Date.now()),</span>

    <span class="c1">// test to trigger one time</span>
    <span class="c1">// date: new Date(Date.now() + 20 * 1000),</span>
  <span class="p">});</span>
<span class="p">};</span>
<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="na">register</span><span class="p">:</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">PushNotification</span><span class="p">.</span><span class="nx">configure</span><span class="p">({</span>
      <span class="na">onNotification</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">notification</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">notification</span><span class="p">.</span><span class="nx">finish</span><span class="p">(</span><span class="nx">PushNotificationIOS</span><span class="p">.</span><span class="nx">FetchResult</span><span class="p">.</span><span class="nx">NoData</span><span class="p">);</span>
      <span class="p">},</span>
      <span class="na">popInitialNotification</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="p">});</span>

    <span class="nx">_registerLocalNotification</span><span class="p">();</span>

    <span class="nx">AppState</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'change'</span><span class="p">,</span> <span class="nx">_handleAppStateChange</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="na">unregister</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">AppState</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s1">'change'</span><span class="p">,</span> <span class="nx">_handleAppStateChange</span><span class="p">);</span>
  <span class="p">},</span>
<span class="p">};</span>
</code></pre></div></div> <p>하나하나 상세하게 살펴보도록 하겠습니다.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">PushNotification</span> <span class="k">from</span> <span class="s1">'react-native-push-notification'</span><span class="p">;</span>
<span class="p">...</span>
<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="na">register</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">PushNotification</span><span class="p">.</span><span class="nx">configure</span><span class="p">({</span>
      <span class="na">onNotification</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">notification</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">notification</span><span class="p">.</span><span class="nx">finish</span><span class="p">(</span><span class="nx">PushNotificationIOS</span><span class="p">.</span><span class="nx">FetchResult</span><span class="p">.</span><span class="nx">NoData</span><span class="p">);</span>
      <span class="p">},</span>
      <span class="na">popInitialNotification</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="p">});</span>
    <span class="nx">_registerLocalNotification</span><span class="p">();</span>
    <span class="p">...</span>
  <span class="p">},</span>
  <span class="p">...</span>
<span class="p">};</span>
</code></pre></div></div> <p>우선 이 소스코드를 여러 앱에서 사용하므로 모듈화시켰습니다. <code class="highlighter-rouge">register()</code>라는 함수를 실행 시키면 <code class="highlighter-rouge">PushNotification</code>을 초기화한 후, 앱(App) 자체 알림(Local Push Notification)을 등록하는 함수를 호출합니다.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">_registerLocalNotification</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">PushNotification</span><span class="p">.</span><span class="nx">setApplicationIconBadgeNumber</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
  <span class="nx">PushNotification</span><span class="p">.</span><span class="nx">cancelAllLocalNotifications</span><span class="p">();</span>

  <span class="kd">const</span> <span class="nx">messages</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">...</span>
  <span class="p">];</span>
  <span class="kd">const</span> <span class="nx">message</span> <span class="o">=</span> <span class="nx">messages</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">messages</span><span class="p">.</span><span class="nx">length</span><span class="p">)];</span>

  <span class="kd">let</span> <span class="nx">nextHour</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
  <span class="nx">nextHour</span><span class="p">.</span><span class="nx">setDate</span><span class="p">(</span><span class="nx">nextHour</span><span class="p">.</span><span class="nx">getDate</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
  <span class="nx">nextHour</span><span class="p">.</span><span class="nx">setHours</span><span class="p">(</span><span class="nx">nextHour</span><span class="p">.</span><span class="nx">getHours</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>


  <span class="nx">PushNotification</span><span class="p">.</span><span class="nx">localNotificationSchedule</span><span class="p">({</span>
    <span class="cm">/* Android Only Properties */</span>
    <span class="na">vibrate</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">vibration</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span>
    <span class="na">priority</span><span class="p">:</span> <span class="s1">'hight'</span><span class="p">,</span>
    <span class="na">visibility</span><span class="p">:</span> <span class="s1">'public'</span><span class="p">,</span>
    <span class="na">importance</span><span class="p">:</span> <span class="s1">'hight'</span><span class="p">,</span>

    <span class="cm">/* iOS and Android properties */</span>
    <span class="nx">message</span><span class="p">,</span> <span class="c1">// (required)</span>
    <span class="na">playSound</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">number</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">actions</span><span class="p">:</span> <span class="s1">'["OK"]'</span><span class="p">,</span>

    <span class="c1">// for production</span>
    <span class="na">repeatType</span><span class="p">:</span> <span class="s1">'day'</span><span class="p">,</span> <span class="c1">// (optional) Repeating interval. Check 'Repeating Notifications' section for more info.</span>
    <span class="na">date</span><span class="p">:</span> <span class="nx">nextHour</span><span class="p">,</span>

    <span class="c1">// test to trigger each miniute</span>
    <span class="c1">// repeatType: 'minute',</span>
    <span class="c1">// date: new Date(Date.now()),</span>

    <span class="c1">// test to trigger one time</span>
    <span class="c1">// date: new Date(Date.now() + 20 * 1000),</span>
  <span class="p">});</span>
<span class="p">};</span>
</code></pre></div></div> <p>앱(App) 자체 알림(Local Push Notification)을 등록하기 위해 <code class="highlighter-rouge">_registerLocalNotification</code> 함수를 실행 시키면,</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">PushNotification</span><span class="p">.</span><span class="nx">setApplicationIconBadgeNumber</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="nx">PushNotification</span><span class="p">.</span><span class="nx">cancelAllLocalNotifications</span><span class="p">();</span>
</code></pre></div></div> <p>뱃지(Badge)를 초기화 시키고, 기존에 등록되어 있는 알림(Notification)을 전부 제거합니다. 기존에 등록된 알림(Notification)을 전부 제거한 이유는 앱이 실행될 때마다 등록을 시키기 때문에 중복되서 같은 메세지가 발송되는 문제가 있었습니다. AsyncStorage를 통해 제어하려고 하였지만, 그냥 전부 지우고 새로 등록하는 방식을 선택했습니다.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">...</span>
<span class="kd">const</span> <span class="nx">messages</span> <span class="o">=</span> <span class="p">[</span>
<span class="p">...</span>
<span class="p">];</span>
<span class="kd">const</span> <span class="nx">message</span> <span class="o">=</span> <span class="nx">messages</span><span class="p">[</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">messages</span><span class="p">.</span><span class="nx">length</span><span class="p">)];</span>

<span class="kd">let</span> <span class="nx">nextHour</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
<span class="nx">nextHour</span><span class="p">.</span><span class="nx">setDate</span><span class="p">(</span><span class="nx">nextHour</span><span class="p">.</span><span class="nx">getDate</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
<span class="nx">nextHour</span><span class="p">.</span><span class="nx">setHours</span><span class="p">(</span><span class="nx">nextHour</span><span class="p">.</span><span class="nx">getHours</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">...</span>
</code></pre></div></div> <p>알림 메세지를 랜덤으로 표시하기 위한 변수와, 앱(App)을 실행한 시간을 기준으로 다음날 동일 시간보다 한 시간 빠른 시간에 알림을 보내도록 설정하였습니다.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">PushNotification</span><span class="p">.</span><span class="nx">localNotificationSchedule</span><span class="p">({</span>
    <span class="cm">/* Android Only Properties */</span>
    <span class="na">vibrate</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">vibration</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span>
    <span class="na">priority</span><span class="p">:</span> <span class="s1">'hight'</span><span class="p">,</span>
    <span class="na">visibility</span><span class="p">:</span> <span class="s1">'public'</span><span class="p">,</span>
    <span class="na">importance</span><span class="p">:</span> <span class="s1">'hight'</span><span class="p">,</span>

    <span class="cm">/* iOS and Android properties */</span>
    <span class="nx">message</span><span class="p">,</span> <span class="c1">// (required)</span>
    <span class="na">playSound</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">number</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">actions</span><span class="p">:</span> <span class="s1">'["OK"]'</span><span class="p">,</span>

    <span class="c1">// for production</span>
    <span class="na">repeatType</span><span class="p">:</span> <span class="s1">'day'</span><span class="p">,</span> <span class="c1">// (optional) Repeating interval. Check 'Repeating Notifications' section for more info.</span>
    <span class="na">date</span><span class="p">:</span> <span class="nx">nextHour</span><span class="p">,</span>

    <span class="c1">// test to trigger each miniute</span>
    <span class="c1">// repeatType: 'minute',</span>
    <span class="c1">// date: new Date(Date.now()),</span>

    <span class="c1">// test to trigger one time</span>
    <span class="c1">// date: new Date(Date.now() + 20 * 1000),</span>
<span class="p">});</span>
</code></pre></div></div> <p>앱 자체 알림(Local Push Notification)을 등록합니다. 다양한 옵션이 있습니다. 아래에 링크를 통해 확인해 주세요.</p> <ul> <li><a href="https://github.com/zo0r/react-native-push-notification#local-notifications" rel="nofollow noreferrer" target="_blank">https://github.com/zo0r/react-native-push-notification#local-notifications</a></li> </ul> <p>저는 배포(Production) 상태에서는</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">repeatType</span><span class="p">:</span> <span class="s1">'day'</span><span class="p">,</span> <span class="c1">// (optional) Repeating interval. Check 'Repeating Notifications' section for more info.</span>
<span class="nx">date</span><span class="p">:</span> <span class="nx">nextHour</span><span class="p">,</span>
</code></pre></div></div> <p>매일, 마지막 접속한 시간보다 한시간 빠른 시간에 메세지(Local Push Notification)를 표시하도록 하였습니다. 테스트할 때는</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// test to trigger one time</span>
<span class="nx">date</span><span class="p">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">+</span> <span class="mi">20</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">),</span>
</code></pre></div></div> <p>20초 후 메세지(Local Push Notification)를 표시하게 하거나</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// test to trigger each miniute</span>
<span class="nx">repeatType</span><span class="p">:</span> <span class="s1">'minute'</span><span class="p">,</span>
<span class="nx">date</span><span class="p">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()),</span>
</code></pre></div></div> <p>지금부터 매 분 메세지를 표시하게 해서 테스트하였습니다.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">AppState</span><span class="p">,</span> <span class="nx">PushNotificationIOS</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'react-native'</span><span class="p">;</span>
<span class="p">...</span>
<span class="kd">const</span> <span class="nx">_handleAppStateChange</span> <span class="o">=</span> <span class="nx">nextAppState</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">nextAppState</span> <span class="o">===</span> <span class="s1">'active'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">_registerLocalNotification</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">};</span>
<span class="p">...</span>
<span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="na">register</span><span class="p">:</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
   <span class="p">...</span>
    <span class="nx">AppState</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'change'</span><span class="p">,</span> <span class="nx">_handleAppStateChange</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="na">unregister</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">AppState</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s1">'change'</span><span class="p">,</span> <span class="nx">_handleAppStateChange</span><span class="p">);</span>
  <span class="p">},</span>
<span class="p">};</span>
</code></pre></div></div> <p>AppState를 사용하여 앱(App)이 백그라운드(Background)로 들어갈 때, 활성화(Active)될 때를 체크하여 앱(App) 내부 알림 기능(Local Push Notification)을 다시 등록하였습니다. 이렇게 한 이유는 앱 메세지(Local Push Notification)를 랜덤으로 표시하기 위해서입니다.</p> <div class="in-feed-ads"> <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-7987914246691031" data-ad-slot="2718813593"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <h2 id="앱app에-적용하기">앱(App)에 적용하기</h2> <p>위에서 모듈화 시킨 앱(App) 내부 알림 기능(Local Push Notification)을 사용하기 위해 앱(App)이 실행되면 꼭 실행되는 화면 컴포넌트(Component)에서 아래와 같이 사용합니다.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">...</span>
<span class="k">import</span> <span class="nx">LocalNotification</span> <span class="k">from</span> <span class="s1">'~/Util/LocalNotification'</span><span class="p">;</span>
<span class="p">...</span>
<span class="k">export</span> <span class="k">default</span> <span class="kd">class</span> <span class="nx">LevelScreen</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="o">&lt;</span><span class="nx">Props</span><span class="p">,</span> <span class="nx">State</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="p">...</span>
    <span class="nx">componentWillUnmount</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">LocalNotification</span><span class="p">.</span><span class="nx">unregister</span><span class="p">();</span>
        <span class="p">...</span>
    <span class="p">}</span>
    <span class="nx">componentDidMount</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">LocalNotification</span><span class="p">.</span><span class="nx">register</span><span class="p">();</span>
        <span class="p">...</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <h2 id="안드로이드-ic_launcher-아이콘">안드로이드 ic_launcher 아이콘</h2> <p>안드로이드(Android) 알림(Push Notification)을 보면 왼쪽 상단에 작은 아이콘이 표시되는 것을 확인할 수 있습니다. 이 아이콘을 만들기 위해서는 <code class="highlighter-rouge">generator-rn-toolbox</code>을 사용하였습니다.</p> <ul> <li>generator-rn-toolbox: <a href="https://github.com/bamlab/generator-rn-toolbox/blob/master/generators/assets/README.md#generate-android-notification-icons" rel="nofollow noreferrer" target="_blank">https://github.com/bamlab/generator-rn-toolbox/blob/master/generators/assets/README.md#generate-android-notification-icons</a></li> </ul> <p>96x96 px 사이즈의 png 파일을 만들고 아래에 사이트에서 이 이미지가 ic_launcher로 잘 표시되는지 확인합니다.</p> <ul> <li>icons-notification: <a href="http://romannurik.github.io/AndroidAssetStudio/icons-notification.html#source.type=image&amp;source.space.trim=0&amp;source.space.pad=-0.1&amp;name=ic_stat_ic_notification" rel="nofollow noreferrer" target="_blank">http://romannurik.github.io/AndroidAssetStudio/icons-notification.html#source.type=image&amp;source.space.trim=0&amp;source.space.pad=-0.1&amp;name=ic_stat_ic_notification</a></li> </ul> <p>마지막으로, 아래에 명령어로 ic_launcher 아이콘을 생성합니다</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yo rn-toolbox:assets <span class="nt">--android-notification-icon</span> icon.png
</code></pre></div></div> <p>generator-rn-toolbox에 대한 설치나 사용법은 이전 블로그 포스트를 참고하시기 바랍니다.</p> <ul> <li><a href="https://dev-yakuza.github.io/ko/react-native/app-icon/" target="_blank">App icon</a></li> <li><a href="https://dev-yakuza.github.io/ko/react-native/splash-image/" target="_blank">Splash 이미지</a></li> </ul> <h2 id="확인">확인</h2> <p>확인을 위해 앱(App) 내부 알림 기능(Local Push Notification)을 등록할 때, 아래에 옵션을 사용하였습니다.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">repeatType</span><span class="p">:</span> <span class="s1">'minute'</span><span class="p">,</span>
<span class="nx">date</span><span class="p">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()),</span>
</code></pre></div></div> <p>앱(App)을 실행시키고, 앱(App)을 비활성화(종료 또는 백그라운드) 시키면, 1분후 아래와 같이 메세지(Local Push Notification)가 표시되는 것을 확인할 수 있습니다.</p> <p><img src="/assets/images/category/react-native/2019/react-native-push-notification/local-push-notification.png" alt="react-native-push-notification 앱(App) 내부 알림 기능(Local Push Notification) 확인"/></p> <p>앱(App)을 꼭 실행해야 한다는 점과 앱(App)을 비활성화해야 메세지가 표시된다는 점을 주의하시기 바랍니다.</p> <h2 id="문제점">문제점</h2> <p>앱(App)을 실행시키면, 앱(App) 내부 알림(Local Push Notification)이 등록됩니다. 이때 메세지도 함께 등록이 됩니다만, 앱(App)을 다시 실행시켜 앱(App) 내부 알림(Local Push Notification)을 다시 등록하지 않는 이상 항상 같은 메세지가 표시됩니다.</p> <p>좀 더 다양한 메세지를 표시하고 싶지만, 앱(App)을 다시 실행하지 않는 사용자에게는 항상 같은 메세지가 보이는 불편함이 있습니다.</p> <h2 id="완료">완료</h2> <p>굉장히 좋은 라이브러인거 같습니다. 앱(App) 내부 이외에도 외부 메세지(Push Notification)도 처리할 수 있는거 같습니다. 나중에 가난에서 벗어나면, 서버를 통한 메세지(Push Notification)도 구현해 봐야겠습니다.</p> <p>또한, 이 기능이 DAU(Daily Active User, 일일 활성화 사용자)를 높일 것인지, 짜증이나서 앱(App)을 지우게 될지는 좀 더 지켜봐야할 거 같습니다.</p> <div class="buy_me_a_coffee_container"> <style> .bmc-button img { width: 27px !important; margin-bottom: 1px !important; box-shadow: none !important; border: none !important; vertical-align: middle !important; } .bmc-button { line-height: 36px !important; height: 37px !important; text-decoration: none !important; display: inline-flex !important; color: #ffffff !important; background-color: #ff813f !important; border-radius: 3px !important; border: 1px solid transparent !important; padding: 0px 9px !important; font-size: 17px !important; letter-spacing: -0.08px !important; box-shadow: 0px 1px 2px rgba(190, 190, 190, 0.5) !important; -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important; margin: 0 auto !important; font-family: 'Lato', sans-serif !important; -webkit-box-sizing: border-box !important; box-sizing: border-box !important; -o-transition: 0.3s all linear !important; -webkit-transition: 0.3s all linear !important; -moz-transition: 0.3s all linear !important; -ms-transition: 0.3s all linear !important; transition: 0.3s all linear !important; } .bmc-button:hover, .bmc-button:active, .bmc-button:focus { -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important; text-decoration: none !important; box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important; opacity: 0.85 !important; color: #ffffff !important; }</style><link href="https://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext" rel="stylesheet"/><a class="bmc-button" target="_blank" href="https://www.buymeacoffee.com/j0cXhWiza" rel="noopener noreferrer nofollow"><img src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg" alt="Buy me a coffee"/><span style="margin-left:5px">Buy me a coffee</span></a> </div> </article> <div class="col-lg-2 col-md-1 d-none d-lg-block right-ads"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:inline-block;width:120px;height:600px" data-ad-client="ca-pub-7987914246691031" data-ad-slot="9858937018"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> </div> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7987914246691031" data-ad-slot="1936214968" data-ad-format="auto" data-full-width-responsive="true"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> <div class="row"> <div class="col-lg-8 col-md-10 mx-auto"> <div class="post-list-container"> <div class="header"> <div class="header-title">Posts</div> </div> <div class="body"> <div class="list-group"></div> </div> <div class="footer"> <ul class="pagination"> <li class="page-item page-item--previous"> <div class="page-link" aria-label="Previous"> <span aria-hidden="true">&laquo;</span> <span class="sr-only">Previous</span> </div> </li> <li class="page-item page-item--next"> <div class="page-link" aria-label="Next"> <span aria-hidden="true">&raquo;</span> <span class="sr-only">Next</span> </div> </li> </ul> </div> </div> <script type="text/javascript">document.addEventListener("DOMContentLoaded",function(){$.get("/ko/api/react-native/posts.json",function(e){e.length>0&&($(".post-list-container").show(),e.forEach(function(e){var a=$(".post-list-container .body .list-group"),t=a.find(".page-"+e.page),i=e.url.indexOf(location.pathname)>=0?"active":"",s="";if(s+='<a href="'+e.url+'" class="list-group-item list-group-item-action flex-column align-items-start '+i+'">',s+='  <div class="d-flex w-100 justify-content-between">',s+='    <div class="mb-1">'+e.title+"</div>",s+="  </div>",s+='  <div class="body-text">'+e.description+"</div>",s+="</a>",t.length>0)t.addClass(i),t.append(s);else{var n="";n+='<div class="page page-'+e.page+" "+i+'">',n+=s,n+="</div>",a.append(n)}var p="";p+='<li class="page-item page-item--link '+i+'" data-page="'+e.page+'">',p+='  <div class="page-link" data-page="'+e.page+'">',p+=e.page,p+="  </div>",p+="</li>",0===$('.post-list-container .footer .page-item[data-page="'+e.page+'"]').length&&$(".post-list-container .footer .page-item--next").before(p),"active"===i&&$("li[data-page="+e.page+"]").addClass(i),e.page>1&&$(".footer").css("display","flex")}))}),$("body").on("click",".page-link",function(){var e=$(".post-list-container .body .list-group"),a=$(".footer .pagination"),t=a.find(".page-item.active"),i=t.find(".page-link").data("page"),s=$(this).data("page");if($(this).closest(".page-item").hasClass("page-item--previous"))s=i>1?i-1:1;else if($(this).closest(".page-item").hasClass("page-item--next")){var n=a.find(".page-item--link").length;s=i<n?i+1:n}else var s=$(this).data("page");e.find(".page").removeClass("active"),e.find(".page-"+s).addClass("active"),a.find(".page-item").removeClass("active"),a.find('.page-link[data-page="'+s+'"]').closest(".page-item").addClass("active")})});</script> </div> <div class="col-lg-8 col-md-10 mx-auto"> <hr/> <div id="disqus_thread"></div> <script>var disqus_config=function(){this.page.url="https://dev-yakuza.github.io/react-native/react-native-push-notification/",this.page.identifier="https://dev-yakuza.github.io/react-native/react-native-push-notification/"};!function(){var t=document,i=t.createElement("script");i.src="https://https-dev-yakuza-github-io-ko.disqus.com/embed.js",i.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(i)}();</script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> </div> </div> </div> </div> <hr/> <footer> <div class="container"> <div class="row"> <div class="col-lg-8 col-md-10 mx-auto share-title"> SHARE </div> <div class="col-lg-8 col-md-10 mx-auto"> <ul class="list-inline text-center"> <li class="list-inline-item"> <a href="https://twitter.com/intent/tweet?text=Local Push Notificatoin&url=https://dev-yakuza.github.io/react-native/react-native-push-notification/" rel="nofollow noreferrer noopener" target="_blank"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> </li> <li class="list-inline-item"> <a href="https://www.facebook.com/sharer/sharer.php?u=https://dev-yakuza.github.io/react-native/react-native-push-notification/" rel="nofollow noreferrer noopener" target="_blank"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-facebook fa-stack-1x fa-inverse"></i> </span> </a> </li> <li class="list-inline-item"> <a href="https://dev-yakuza.github.io/ko/feed.xml" rel="nofollow noreferrer noopener" target="_blank"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-rss-square fa-stack-1x fa-inverse" aria-hidden="true"></i> </span> </a> </li> </ul> <p class="copyright text-muted"> Copyright &copy; dev.yakuza@gmail.com 2019 </p> </div> </div> </div> </footer> <script src="/assets/vendor/jquery/jquery.min.js"></script> <script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script> <script src="/assets/vendor/startbootstrap-clean-blog/js/clean-blog.min.js"></script> <script src="/assets/scripts.js"></script> </body> </html>