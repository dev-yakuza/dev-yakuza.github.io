<!DOCTYPE html><html lang="en"><head><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/><link rel="preconnect" href="https://www.googletagmanager.com/"/><link rel="preconnect" href="https://pagead2.googlesyndication.com/"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="google-site-verification" content="rHTd8BRbOeSqAskkyVusn529XiwZ2eHbv1tnB1IDnjA"/><link rel="apple-touch-icon" sizes="57x57" href="/en/assets/favicon/apple-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/en/assets/favicon/apple-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/en/assets/favicon/apple-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/en/assets/favicon/apple-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/en/assets/favicon/apple-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/en/assets/favicon/apple-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/en/assets/favicon/apple-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/en/assets/favicon/apple-icon-152x152.png"/><link rel="apple-touch-icon" sizes="180x180" href="/en/assets/favicon/apple-icon-180x180.png"/><link rel="icon" type="image/png" sizes="192x192" href="/en/assets/favicon/android-icon-192x192.png"/><link rel="icon" type="image/png" sizes="32x32" href="/en/assets/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/en/assets/favicon/favicon-96x96.png"/><link rel="icon" type="image/png" sizes="16x16" href="/en/assets/favicon/favicon-16x16.png"/><link rel="manifest" href="/en/assets/favicon/manifest.json"/><meta name="msapplication-TileColor" content="#ffffff"/><meta name="msapplication-TileImage" content="/assets/favicon/ms-icon-144x144.png"/><meta name="theme-color" content="#ffffff"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="apple-mobile-web-app-title" content="dev-yakuza blog"/><link rel="apple-touch-icon" href="/en/assets/favicon/android-icon-144x144.png"/><meta name="twitter:title" content="[Django] Model test"/><meta name="twitter:description" content="Let's see how to make a test code for Models on Django project."/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@DevYakuza"/><meta name="twitter:creator" content="@DevYakuza"/><title>[Django] Model test - Let's see how to make a test code for Models on Django project.</title><meta name="description" content="Let&#39;s see how to make a test code for Models on Django project."/><meta http-equiv="Content-Language" content="en"><link rel="alternate" hreflang="ja" href="https://dev-yakuza.posstree.com/django/test/models/"/><link rel="alternate" hreflang="ko" href="https://dev-yakuza.posstree.com/ko/django/test/models/"/><link rel="alternate" hreflang="en" href="https://dev-yakuza.posstree.com/en/django/test/models/"/><meta property="og:url" content="https://dev-yakuza.posstree.com/en/django/test/models/"/><meta name="generator" content="Jekyll v3.9.2"/><meta property="og:title" content="[Django] Model test"/><meta name="author" content="dev.yakuza@gmail.com"/><meta property="og:locale" content="en"/><meta name="description" content="Let’s see how to make a test code for Models on Django project."/><meta property="og:description" content="Let’s see how to make a test code for Models on Django project."/><link rel="canonical" href="https://dev-yakuza.posstree.com/en/django/test/models/"/><meta property="og:url" content="https://dev-yakuza.posstree.com/django/test/models/"/><meta property="og:site_name" content="dev-yakuza"/><meta property="og:image" content="https://dev-yakuza.posstree.com/assets/images/category/django/2021/test-models/background.jpg"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2021-03-19T00:00:00+09:00"/><meta name="twitter:card" content="summary_large_image"/><meta property="twitter:image" content="https://dev-yakuza.posstree.com/assets/images/category/django/2021/test-models/background.jpg"/><meta property="twitter:title" content="[Django] Model test"/><script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"dev.yakuza@gmail.com"},"dateModified":"2021-03-19T20:51:14+09:00","datePublished":"2021-03-19T00:00:00+09:00","description":"Let’s see how to make a test code for Models on Django project.","headline":"[Django] Model test","image":"https://dev-yakuza.posstree.com/assets/images/category/django/2021/test-models/background.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"https://dev-yakuza.posstree.com/django/test/models/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://dev-yakuza.posstree.com/assets/images/icon.jpg"},"name":"dev.yakuza@gmail.com"},"url":"https://dev-yakuza.posstree.com/django/test/models/"}</script><link rel="preload" as="style" href="https://fonts.googleapis.com/css?family=Noto+Sans"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans"/><link rel="preload" as="style" href="/en/assets/vendor/bootstrap/css/bootstrap.min.css"/><link rel="stylesheet" href="/en/assets/vendor/bootstrap/css/bootstrap.min.css"/><link rel="preload" as="style" href="/en/assets/vendor/font-awesome/css/font-awesome.min.css"/><link rel="stylesheet" href="/en/assets/vendor/font-awesome/css/font-awesome.min.css"/><link rel="preload" as="style" href="/en/assets/main.css?v=20230831"/><link rel="stylesheet" href="/en/assets/main.css?v=20230831"/><link rel="alternate" type="application/rss+xml" title="dev-yakuza" href="/en/feed.xml"/><script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "dev.yakuza",
      "url": "https://dev-yakuza.posstree.com/",
      "sameAs": [
        "https://www.facebook.com/yakuza.dev.54",
        "https://www.instagram.com/dev_yakuza/",
        "https://twitter.com/DevYakuza"
      ]
    }
  </script><script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "https://dev-yakuza.posstree.com/",
      "logo": "https://dev-yakuza.posstree.com/assets/images/icon.jpg"
    }
  </script><script type="application/ld+json">
    {
      "@context":"http://schema.org",
      "@type":"ItemList",
      "itemListElement":[{
          "@type":"ListItem",
          "name": "Django installation",
          "description" : "let's see how to install django and how to configure django.",
          "position":1,"url": "https://dev-yakuza.posstree.com/en/django/installation/",
          "item": "https://dev-yakuza.posstree.com/en/django/installation/"},{
          "@type":"ListItem",
          "name": "Start Django Project",
          "description" : "let's start django project with django command and let's see how to configure django project and connect DB(mysql).",
          "position":2,"url": "https://dev-yakuza.posstree.com/en/django/start/",
          "item": "https://dev-yakuza.posstree.com/en/django/start/"},{
          "@type":"ListItem",
          "name": "Use Models in Django",
          "description" : "let's see how to create an application in django project and, how to make and use Models for storing the data required in the project.",
          "position":3,"url": "https://dev-yakuza.posstree.com/en/django/models/",
          "item": "https://dev-yakuza.posstree.com/en/django/models/"},{
          "@type":"ListItem",
          "name": "django Administrator Page",
          "description" : "let's see how to use the administrator page that django basically provides",
          "position":4,"url": "https://dev-yakuza.posstree.com/en/django/admin/",
          "item": "https://dev-yakuza.posstree.com/en/django/admin/"},{
          "@type":"ListItem",
          "name": "django Routing",
          "description" : "let's see how to manage the website routing via django url management feature.",
          "position":5,"url": "https://dev-yakuza.posstree.com/en/django/routing/",
          "item": "https://dev-yakuza.posstree.com/en/django/routing/"},{
          "@type":"ListItem",
          "name": "django ORM",
          "description" : "let's see what ORM(Object-Relational Mapping) is and how to create, read, update, delete a data via django ORM(Object-Relational Mapping).",
          "position":6,"url": "https://dev-yakuza.posstree.com/en/django/orm/",
          "item": "https://dev-yakuza.posstree.com/en/django/orm/"},{
          "@type":"ListItem",
          "name": "django View",
          "description" : "let's see how to make View and how to use View in django for web pages.",
          "position":7,"url": "https://dev-yakuza.posstree.com/en/django/view/",
          "item": "https://dev-yakuza.posstree.com/en/django/view/"},{
          "@type":"ListItem",
          "name": "django Form",
          "description" : "let't see how to add or edit a data via django Form.",
          "position":8,"url": "https://dev-yakuza.posstree.com/en/django/form/",
          "item": "https://dev-yakuza.posstree.com/en/django/form/"},{
          "@type":"ListItem",
          "name": "Upload django project to Heroku",
          "description" : "let's see how to upload(deploy) django project to Heroku for production web service.",
          "position":9,"url": "https://dev-yakuza.posstree.com/en/django/heroku/",
          "item": "https://dev-yakuza.posstree.com/en/django/heroku/"},{
          "@type":"ListItem",
          "name": "Insert master data to django project",
          "description" : "let's see how to insert master data or test data to django proejct(data-seed)",
          "position":10,"url": "https://dev-yakuza.posstree.com/en/django/data-seed/",
          "item": "https://dev-yakuza.posstree.com/en/django/data-seed/"},{
          "@type":"ListItem",
          "name": "Convert django Models to JSON for response",
          "description" : "let's see how to convert QuerySet from Models to JSON type and response it when we use django for API.",
          "position":11,"url": "https://dev-yakuza.posstree.com/en/django/response-model-to-json/",
          "item": "https://dev-yakuza.posstree.com/en/django/response-model-to-json/"},{
          "@type":"ListItem",
          "name": "Use JWT in django",
          "description" : "let's see how to use JWT(Json Web Token) for API in django project.",
          "position":12,"url": "https://dev-yakuza.posstree.com/en/django/jwt/",
          "item": "https://dev-yakuza.posstree.com/en/django/jwt/"},{
          "@type":"ListItem",
          "name": "Django Customm User Model",
          "description" : "let's see how to make Custom User Model in django.",
          "position":13,"url": "https://dev-yakuza.posstree.com/en/django/custom-user-model/",
          "item": "https://dev-yakuza.posstree.com/en/django/custom-user-model/"},{
          "@type":"ListItem",
          "name": "Send email via Gmail SMTP",
          "description" : "Let's see how to send email via Gmail SMTP on django project, and I share my issue when I sent email.",
          "position":14,"url": "https://dev-yakuza.posstree.com/en/django/gmail-smtp/",
          "item": "https://dev-yakuza.posstree.com/en/django/gmail-smtp/"},{
          "@type":"ListItem",
          "name": "[Django] how to use flake8",
          "description" : "Let's see how to use flake8 that is a static code analysis for python on Django project to keep the same code style.",
          "position":15,"url": "https://dev-yakuza.posstree.com/en/django/flake8/",
          "item": "https://dev-yakuza.posstree.com/en/django/flake8/"},{
          "@type":"ListItem",
          "name": "[Django] how to use pre-commit",
          "description" : "Let's see how to use pre-commit to execute the flake8 when you commit to Git.",
          "position":16,"url": "https://dev-yakuza.posstree.com/en/django/pre-commit/",
          "item": "https://dev-yakuza.posstree.com/en/django/pre-commit/"},{
          "@type":"ListItem",
          "name": "[Django] Model test",
          "description" : "Let's see how to make a test code for Models on Django project.",
          "position":17,"url": "https://dev-yakuza.posstree.com/en/django/test/models/",
          "item": "https://dev-yakuza.posstree.com/en/django/test/models/"}]
    }
  </script><script async src="/assets//vendor/lazysizes/lazysizes.min.js" async></script><script type="text/javascript">function downloadJSAtOnload(){setTimeout(function(){var o=document.createElement("script");o.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",document.body.appendChild(o)})}window.addEventListener?window.addEventListener("load",downloadJSAtOnload,!1):window.attachEvent?window.attachEvent("onload",downloadJSAtOnload):window.onload=downloadJSAtOnload;</script><link href="https://www.googletagmanager.com/gtag/js?id=UA-125408913-1" rel="preload" as="script"/><script defer src="https://www.googletagmanager.com/gtag/js?id=UA-125408913-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-125408913-1");</script></head><body><nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav"><div class="container"><a class="navbar-brand" href="/en/"><img src="/assets/images/deku.svg" alt="[DeKu] DevYakuza blog logo"/><span class="name">DeKu</span></a><div class="navbar-menu-container"><div class="collapse navbar-collapse"><ul class="navbar-nav ml-auto"><li class="nav-item"><a class="nav-link" href="/en/">Home</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Category </a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" href="/en/kubernetes/">Kubernetes</a><a class="dropdown-item" href="/en/git/">git</a><a class="dropdown-item" href="/en/ruby-on-rails/">Ruby on Rails</a><a class="dropdown-item" href="/en/ildangongbu/">일단공부(Il-Dan-Gong-Bu)</a><a class="dropdown-item" href="/en/clog/">Clog</a><a class="dropdown-item" href="/en/vue/">Vue</a><a class="dropdown-item" href="/en/code_quality/">Code Quality</a><a class="dropdown-item" href="/en/environment/">dev environment</a><a class="dropdown-item" href="/en/ruby/">Ruby</a><a class="dropdown-item" href="/en/books/">Writing Books</a><a class="dropdown-item" href="/en/share/">Share</a><a class="dropdown-item" href="/en/tensorflow/">TensorFlow</a><a class="dropdown-item" href="/en/flutter/">Flutter</a><a class="dropdown-item" href="/en/golang/">Golang</a><a class="dropdown-item" href="/en/blaboo/">BlaBoo</a><a class="dropdown-item" href="/en/jest/">Jest</a><a class="dropdown-item" href="/en/kumoncho/">kumoncho</a><a class="dropdown-item" href="/en/react/">React</a><a class="dropdown-item" href="/en/jekyll/">jekyll blog</a><a class="dropdown-item" href="/en/laravel/">Laravel</a><a class="dropdown-item" href="/en/django/">django</a><a class="dropdown-item" href="/en/web/">Knowledge about Web</a><a class="dropdown-item" href="/en/react-native/">React Native</a></div></li><li class="nav-item"><a class="nav-link" target="_blank" rel="noopener" href=" /app/list/en/">Apps</a></li><li class="nav-item"><a class="nav-link" href="/en/contact/">Contact</a></li></ul></div><div class="btn-group-sm btn-translate-group dropdown"><button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" aria-label="change language button"><i class="fa fa-language" aria-hidden="true"></i></button><div class="dropdown-menu"><a class="dropdown-item menu-ko" href="/ko/django/test/models/">한국어</a><a class="dropdown-item menu-en" href="/en/django/test/models/">English</a><a class="dropdown-item menu-ja" href="/en/django/test/models/">日本語</a></div></div><button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"> Menu <i class="fa fa-bars"></i></button></div><div class="collapse navbar-collapse" id="navbarResponsive"><ul class="navbar-nav ml-auto"><li class="nav-item"><a class="nav-link" href="/en/">Home</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" id="scrollNavbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Category </a><div class="dropdown-menu" aria-labelledby="scrollNavbarDropdown"><a class="dropdown-item" href="/en/kubernetes/">Kubernetes</a><a class="dropdown-item" href="/en/git/">git</a><a class="dropdown-item" href="/en/ruby-on-rails/">Ruby on Rails</a><a class="dropdown-item" href="/en/ildangongbu/">일단공부(Il-Dan-Gong-Bu)</a><a class="dropdown-item" href="/en/clog/">Clog</a><a class="dropdown-item" href="/en/vue/">Vue</a><a class="dropdown-item" href="/en/code_quality/">Code Quality</a><a class="dropdown-item" href="/en/environment/">dev environment</a><a class="dropdown-item" href="/en/ruby/">Ruby</a><a class="dropdown-item" href="/en/books/">Writing Books</a><a class="dropdown-item" href="/en/share/">Share</a><a class="dropdown-item" href="/en/tensorflow/">TensorFlow</a><a class="dropdown-item" href="/en/flutter/">Flutter</a><a class="dropdown-item" href="/en/golang/">Golang</a><a class="dropdown-item" href="/en/blaboo/">BlaBoo</a><a class="dropdown-item" href="/en/jest/">Jest</a><a class="dropdown-item" href="/en/kumoncho/">kumoncho</a><a class="dropdown-item" href="/en/react/">React</a><a class="dropdown-item" href="/en/jekyll/">jekyll blog</a><a class="dropdown-item" href="/en/laravel/">Laravel</a><a class="dropdown-item" href="/en/django/">django</a><a class="dropdown-item" href="/en/web/">Knowledge about Web</a><a class="dropdown-item" href="/en/react-native/">React Native</a></div></li><li class="nav-item"><a class="nav-link" target="_blank" rel="noopener" href=" /app/list/en/">Apps</a></li><li class="nav-item"><a class="nav-link" href="/en/contact/">Contact</a></li></ul></div></div></nav><script defer>document.addEventListener("DOMContentLoaded",function(){var e=window.location.pathname;e.indexOf("/en/")>=0?($(".menu-ko").prop("href",e.replace("/en/","/ko/")),$(".menu-en").prop("href",e),$(".menu-ja").prop("href",e.replace("/en/","/"))):e.indexOf("/ko/")>=0?($(".menu-ko").prop("href",e),$(".menu-en").prop("href",e.replace("/ko/","/en/")),$(".menu-ja").prop("href",e.replace("/ko/","/"))):($(".menu-ko").prop("href","/ko"+e),$(".menu-en").prop("href","/en"+e),$(".menu-ja").prop("href",e)),$("body").on("show.bs.dropdown",".dropdown",function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideDown()}),$("body").on("hide.bs.dropdown",".dropdown",function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideUp()})});</script><header class="masthead"><div class="background-image"><picture><source srcset="/assets/images/category/django/2021/test-models/background.avif" type="image/avif"/><source srcset="/assets/images/category/django/2021/test-models/background.webp" type="image/webp"/><img src="/assets/images/category/django/2021/test-models/background.jpg" alt="[Django] Model test"/></picture></div><div class="overlay"></div><div class="container"><div class="row"><div class="col-lg-8 col-md-10 mx-auto"><div class="post-heading"><h1>[Django] Model test</h1><div class="heading-date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-03-19 <img style="width: inherit;" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fgithub.com%2Fdev-yakuza.github.io%2F/django/test/models/&count_bg=%2379C83D&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=hits&edge_flat=false" alt="hit count image"/></div><h2 class="subheading">Let's see how to make a test code for Models on Django project.</h2><div class="sponsor_container"><a href="https://github.com/sponsors/dev-yakuza" target="_blank" rel="noopener" style=" background-color: #e6ebf1; background-image: linear-gradient(-180deg, #f0f3f6, #e6ebf1 90%); background-position: -0.5em; color: #24292e; text-decoration: none; border: 1px solid rgba(27, 31, 35, 0.35); padding: 6px 10px; user-select: none; background-repeat: repeat-x; background-position: -1px -1px; background-size: 110% 110%; border: 1px solid rgba(27, 31, 35, 0.2); border-radius: 0.25em; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; -webkit-appearance: none; -moz-appearance: none; appearance: none; white-space: nowrap; vertical-align: middle; font-size: 17px; font-family: 'Lato', sans-serif !important; margin: 10px; display: inline-block; "><svg style="color: #ea4aaa; vertical-align: text-bottom !important;" viewBox="0 0 12 16" version="1.1" width="16" height="20" aria-hidden="true"><path fill-rule="evenodd" d="M8.727 3C7.091 3 6.001 4.65 6.001 4.65S4.909 3 3.273 3C1.636 3 0 4.1 0 6.3 0 9.6 6 14 6 14s6-4.4 6-7.7C12 4.1 10.364 3 8.727 3z"></path></svg> Github Sponsor </a><style> .bmc-button img { width: 27px !important; margin-bottom: 1px !important; border: none !important; vertical-align: middle !important; } .bmc-button { line-height: 36px !important; height: 37px !important; text-decoration: none !important; display: inline-block !important; color: #0E0C23 !important; background-color: #FEDD03 !important; border-radius: 3px !important; border: 1px solid transparent !important; padding: 0px 9px !important; font-size: 17px !important; letter-spacing: -0.08px !important; margin: 10px !important; font-family: 'Lato', sans-serif !important; -webkit-box-sizing: border-box !important; box-sizing: border-box !important; -o-transition: 0.3s all linear !important; -webkit-transition: 0.3s all linear !important; -moz-transition: 0.3s all linear !important; -ms-transition: 0.3s all linear !important; transition: 0.3s all linear !important; } .bmc-button:hover, .bmc-button:active, .bmc-button:focus { -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important; text-decoration: none !important; box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important; opacity: 0.85 !important; color: #ffffff !important; }</style><link rel="preload" as="style" href="https://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext"/><link href="https://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext" rel="stylesheet"/><a class="bmc-button" target="_blank" href="https://www.buymeacoffee.com/j0cXhWiza" rel="noopener noreferrer nofollow"><img src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg" alt="Buy me a coffee"/><span style="margin-left:5px">Buy me a coffee</span></a></div></div></div></div></div></header><div class="ads-container" style="height: 280px !important;"><div class="ads-block ads-left top-left-ads" aria-hidden="true"><script>var topLeftAds=document.getElementsByClassName("top-left-ads")[0];null!=topLeftAds.offsetParent&&setTimeout(function(){topLeftAds.innerHTML='<ins class="adsbygoogle" style="display: block;" data-ad-client="ca-pub-7987914246691031" data-ad-slot="3850742490" data-ad-format="auto" data-full-width-responsive="true"></ins>',(adsbygoogle=window.adsbygoogle||[]).push({})},400);</script></div></div><div class="container container-contents"><div class="row"><div class="col-lg-8 col-md-10 mx-auto"><nav aria-label="breadcrumb"><ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList"><li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a itemtype="http://schema.org/Thing" itemprop="item" href="/en/"><span itemprop="name">Home</span></a><meta itemprop="position" content="1"/></li><li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a itemtype="http://schema.org/Thing" itemprop="item" href="/en/django"><span itemprop="name">django</span></a><meta itemprop="position" content="2"/></li><li class="breadcrumb-item active" aria-current="page" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a itemtype="http://schema.org/Thing" itemprop="item" href="/en/django/test/models/"><span itemprop="name">[Django] Model test</span></a><meta itemprop="position" content="3"/></li></ol></nav></div></div><div class="row"><div class="col-lg-2 col-md-1 d-none d-xl-block left-ads" aria-hidden="true"><script>var leftAds=document.getElementsByClassName("left-ads")[0];null!=leftAds.offsetParent&&setTimeout(function(){leftAds.innerHTML='<ins class="adsbygoogle sticky-top" style="display:block; padding-top: 80px; margin-bottom: 80px;" data-ad-client="ca-pub-7987914246691031" data-ad-slot="1333703444" data-ad-format="auto" data-full-width-responsive="true"></ins>',(adsbygoogle=window.adsbygoogle||[]).push({})},400);</script></div><article class="col-lg-8 col-md-10 mx-auto"><div id="contents_list"><h2 id="content">Content</h2><ul><li><a href="#outline">Outline</a></li><li><a href="#prepare-project">Prepare project</a></li><li><a href="#user-model">User Model</a></li><li><a href="#user-model-test">User Model test</a><ul><li><a href="#test_default_values">test_default_values</a></li><li><a href="#test_updated_at">test_updated_at</a></li></ul></li><li><a href="#execute-the-test">Execute the test</a></li><li><a href="#completed">Completed</a></li></ul></div><h2 id="outline">Outline</h2><p>Recently, developing with the test code is normal in our life. The test code brings great benefits to the company such as increasing the quality of the service, reducing the time for service verification, and improving development productivity.</p><p>In this blog post, I’ll introduce how to test the Model in Django project.</p><ul><li>Mozilla Web Docs: <a href="https://developer.mozilla.org/en-US/docs/Learn/Server-side/Django/Testing" rel="nofollow noreferrer" target="_blank">Testing a Django web application</a></li></ul><h2 id="prepare-project">Prepare project</h2><p>See the links below to create a new Django porject.</p><ul><li><a href="https://dev-yakuza.posstree.com/en/django/installation/" target="_blank">Django installation</a></li><li><a href="https://dev-yakuza.posstree.com/en/django/start/" target="_blank">Start Django Project</a></li><li><a href="https://dev-yakuza.posstree.com/en/django/models/" target="_blank">Use Models in Django</a></li></ul><div class="in-feed-ads ads-container"><div class="ads-block ads-left in-feed-left-ads" aria-hidden="true"></div></div><h2 id="user-model">User Model</h2><p>First, let’s see the User model that is the test target. The User Model is like below.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>
<span class="kn">from</span> <span class="nn">django.contrib.auth.models</span> <span class="kn">import</span> <span class="p">(</span><span class="n">BaseUserManager</span><span class="p">,</span> <span class="n">AbstractBaseUser</span><span class="p">)</span>
<span class="p">...</span>
<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">AbstractBaseUser</span><span class="p">):</span>
    <span class="n">email</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">EmailField</span><span class="p">(</span>
        <span class="n">verbose_name</span><span class="o">=</span><span class="s">'email'</span><span class="p">,</span>
        <span class="n">unique</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">wrong_pw</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">DecimalField</span><span class="p">(</span><span class="n">max_digits</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">decimal_places</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">password_lock</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">certificated_at</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">null</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">is_active</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">is_admin</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">created_at</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">auto_now_add</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">updated_at</span> <span class="o">=</span> <span class="n">models</span><span class="p">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">auto_now</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

    <span class="n">objects</span> <span class="o">=</span> <span class="n">UserManager</span><span class="p">()</span>
    <span class="n">USERNAME_FIELD</span> <span class="o">=</span> <span class="s">'email'</span>
    <span class="n">REQUIRED_FIELDS</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">email</span>

    <span class="k">def</span> <span class="nf">has_perm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">perm</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">True</span>

    <span class="k">def</span> <span class="nf">has_module_perms</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app_label</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">True</span>

    <span class="o">@</span><span class="nb">property</span>
    <span class="k">def</span> <span class="nf">is_staff</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">is_admin</span>
</code></pre></div></div><p>The User Model is the customized User Model for Django. If you want to know how to create the Custom User Model, see the blog post below.</p><ul><li><a href="https://dev-yakuza.posstree.com/en/django/custom-user-model/" target="_blank">Django Customm User Model</a></li></ul><p>This User Model has the features below.</p><ul><li>email: Use the email instead of the user name.</li><li>wrong_pw: Store the wrong password inserting count.</li><li>password_lock: If the user inserts the wrong password 3 times continuously, the user can’t insert the password for one hour.</li><li>certificated_at: The time when the user email is certificated.</li><li>created_at: The time when the user is created.</li><li>updated_at: The time when the user information is updated.</li></ul><p>Next, let’s see how to test the User Model which has thease features.</p><div class="in-feed-ads ads-container"><div class="ads-block ads-left in-feed-left-ads" aria-hidden="true"></div></div><h2 id="user-model-test">User Model test</h2><p>Let’s make the test code for the User Model above. We need to create the test code file like <code class="language-plaintext highlighter-rouge">./AppName/test_models.py</code> and modify it like below.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.test</span> <span class="kn">import</span> <span class="n">TestCase</span>
<span class="kn">from</span> <span class="nn">unittest</span> <span class="kn">import</span> <span class="n">mock</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">User</span>

<span class="k">class</span> <span class="nc">UserModelTest</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test_default_values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">mock_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">703055</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">mock</span><span class="p">.</span><span class="n">patch</span><span class="p">(</span><span class="s">'django.utils.timezone.now'</span><span class="p">)</span> <span class="k">as</span> <span class="n">mock_now</span><span class="p">:</span>
            <span class="n">mock_now</span><span class="p">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="n">mock_date</span>
            <span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">create</span><span class="p">(</span><span class="n">email</span><span class="o">=</span><span class="s">'test@test.test'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'12345'</span><span class="p">)</span>

        <span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">email</span><span class="p">,</span> <span class="s">'test@test.test'</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">wrong_pw</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">password_lock</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">certificated_at</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">is_active</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">is_admin</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">created_at</span><span class="p">,</span> <span class="n">mock_date</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">updated_at</span><span class="p">,</span> <span class="n">mock_date</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_updated_at</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">mock_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">703055</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">mock</span><span class="p">.</span><span class="n">patch</span><span class="p">(</span><span class="s">'django.utils.timezone.now'</span><span class="p">)</span> <span class="k">as</span> <span class="n">mock_now</span><span class="p">:</span>
            <span class="n">mock_now</span><span class="p">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="n">mock_date</span>
            <span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">create</span><span class="p">(</span><span class="n">email</span><span class="o">=</span><span class="s">'test@test.test'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'12345'</span><span class="p">)</span>

        <span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">created_at</span><span class="p">,</span> <span class="n">mock_date</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">updated_at</span><span class="p">,</span> <span class="n">mock_date</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">updated_at</span><span class="p">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">"%Y-%m-%d"</span><span class="p">),</span> <span class="s">'2021-03-04'</span><span class="p">)</span>

        <span class="n">mock_update_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">703055</span><span class="p">)</span>
        <span class="k">with</span> <span class="n">mock</span><span class="p">.</span><span class="n">patch</span><span class="p">(</span><span class="s">'django.utils.timezone.now'</span><span class="p">)</span> <span class="k">as</span> <span class="n">mock_now</span><span class="p">:</span>
            <span class="n">mock_now</span><span class="p">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="n">mock_update_date</span>
            <span class="n">user</span><span class="p">.</span><span class="n">is_admin</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="n">user</span><span class="p">.</span><span class="n">save</span><span class="p">()</span>

        <span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">created_at</span><span class="p">,</span> <span class="n">mock_date</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">updated_at</span><span class="p">,</span> <span class="n">mock_update_date</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">updated_at</span><span class="p">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">"%Y-%m-%d"</span><span class="p">),</span> <span class="s">'2021-03-05'</span><span class="p">)</span>
</code></pre></div></div><p>Let’s see the details of the test code.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">UserModelTest</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test_default_values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="p">...</span>
    <span class="k">def</span> <span class="nf">test_updated_at</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="p">...</span>
</code></pre></div></div><p>This test code has <code class="language-plaintext highlighter-rouge">test_default_values</code> and <code class="language-plaintext highlighter-rouge">test_updated_at</code> cases.</p><ul><li>test_default_values: The test case to check the default values when we create the data via the Model.</li><li>test_updated_at: When we update the data via the Model, 모델을 통해 데이터를 업데이트 했을 때, <code class="language-plaintext highlighter-rouge">updated_at</code>이 잘 동작하는지 확인하는 테스트</li></ul><div class="in-feed-ads ads-container"><div class="ads-block ads-left in-feed-left-ads" aria-hidden="true"></div></div><h3 id="test_default_values">test_default_values</h3><p>When the new data is created, The timestamp stores on the <code class="language-plaintext highlighter-rouge">created_at</code>. If we want to check this, we need to mock the system time.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mock_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">703055</span><span class="p">)</span>
<span class="k">with</span> <span class="n">mock</span><span class="p">.</span><span class="n">patch</span><span class="p">(</span><span class="s">'django.utils.timezone.now'</span><span class="p">)</span> <span class="k">as</span> <span class="n">mock_now</span><span class="p">:</span>
    <span class="n">mock_now</span><span class="p">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="n">mock_date</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">create</span><span class="p">(</span><span class="n">email</span><span class="o">=</span><span class="s">'test@test.test'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'12345'</span><span class="p">)</span>
</code></pre></div></div><p>Like above, we create a new User data with Mocking time. And the, check the default value of the new data.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">email</span><span class="p">,</span> <span class="s">'test@test.test'</span><span class="p">)</span>
<span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">wrong_pw</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">password_lock</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
<span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">certificated_at</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
<span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">is_active</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
<span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">is_admin</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
<span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">created_at</span><span class="p">,</span> <span class="n">mock_date</span><span class="p">)</span>
<span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">updated_at</span><span class="p">,</span> <span class="n">mock_date</span><span class="p">)</span>
</code></pre></div></div><p>At this time, we can check <code class="language-plaintext highlighter-rouge">created_at</code> and <code class="language-plaintext highlighter-rouge">updated_at</code> have a Mocking time that we’ve created above.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">created_at</span><span class="p">,</span> <span class="n">mock_date</span><span class="p">)</span>
<span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">updated_at</span><span class="p">,</span> <span class="n">mock_date</span><span class="p">)</span>
</code></pre></div></div><h3 id="test_updated_at">test_updated_at</h3><p>This test case is to check <code class="language-plaintext highlighter-rouge">updated_at</code> is updated well When we update the data via the Model.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mock_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">703055</span><span class="p">)</span>
<span class="k">with</span> <span class="n">mock</span><span class="p">.</span><span class="n">patch</span><span class="p">(</span><span class="s">'django.utils.timezone.now'</span><span class="p">)</span> <span class="k">as</span> <span class="n">mock_now</span><span class="p">:</span>
    <span class="n">mock_now</span><span class="p">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="n">mock_date</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="p">.</span><span class="n">objects</span><span class="p">.</span><span class="n">create</span><span class="p">(</span><span class="n">email</span><span class="o">=</span><span class="s">'test@test.test'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'12345'</span><span class="p">)</span>

<span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">created_at</span><span class="p">,</span> <span class="n">mock_date</span><span class="p">)</span>
<span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">updated_at</span><span class="p">,</span> <span class="n">mock_date</span><span class="p">)</span>
<span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">updated_at</span><span class="p">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">"%Y-%m-%d"</span><span class="p">),</span> <span class="s">'2021-03-04'</span><span class="p">)</span>
</code></pre></div></div><p>First, create a new user with the Mocking time. And then, check the data has the Mocking time.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mock_update_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">703055</span><span class="p">)</span>
<span class="k">with</span> <span class="n">mock</span><span class="p">.</span><span class="n">patch</span><span class="p">(</span><span class="s">'django.utils.timezone.now'</span><span class="p">)</span> <span class="k">as</span> <span class="n">mock_now</span><span class="p">:</span>
    <span class="n">mock_now</span><span class="p">.</span><span class="n">return_value</span> <span class="o">=</span> <span class="n">mock_update_date</span>
    <span class="n">user</span><span class="p">.</span><span class="n">is_admin</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">user</span><span class="p">.</span><span class="n">save</span><span class="p">()</span>

<span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">created_at</span><span class="p">,</span> <span class="n">mock_date</span><span class="p">)</span>
<span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">updated_at</span><span class="p">,</span> <span class="n">mock_update_date</span><span class="p">)</span>
<span class="bp">self</span><span class="p">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">user</span><span class="p">.</span><span class="n">updated_at</span><span class="p">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">"%Y-%m-%d"</span><span class="p">),</span> <span class="s">'2021-03-05'</span><span class="p">)</span>
</code></pre></div></div><p>Next, create a new Mocking time and update the User data with it. After updating, check the <code class="language-plaintext highlighter-rouge">updated_at</code> has the new Mocking time.</p><h2 id="execute-the-test">Execute the test</h2><p>We’ve created the test case that we can do with the Model. Let’s check the test case is working well. Execute the command below to execute the test code.</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python manage.py <span class="nb">test</span>
</code></pre></div></div><p>After executing, you can see the results on the terminal like below. And we can know all test codes are passed.</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Creating <span class="nb">test </span>database <span class="k">for </span><span class="nb">alias</span> <span class="s1">'default'</span>...
System check identified no issues <span class="o">(</span>0 silenced<span class="o">)</span><span class="nb">.</span>
......................
<span class="nt">----------------------------------------------------------------------</span>
Ran 22 tests <span class="k">in </span>2.453s
</code></pre></div></div><h2 id="completed">Completed</h2><p>We’ve seen how to test the Model in the Django project. The Model didn’t have a big logic, so we can make a simple test code to test the Model.</p><p>Next, let’s create a test code for your project!</p><div class="sponsor_container"><a href="https://github.com/sponsors/dev-yakuza" target="_blank" rel="noopener" style=" background-color: #e6ebf1; background-image: linear-gradient(-180deg, #f0f3f6, #e6ebf1 90%); background-position: -0.5em; color: #24292e; text-decoration: none; border: 1px solid rgba(27, 31, 35, 0.35); padding: 6px 10px; user-select: none; background-repeat: repeat-x; background-position: -1px -1px; background-size: 110% 110%; border: 1px solid rgba(27, 31, 35, 0.2); border-radius: 0.25em; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; -webkit-appearance: none; -moz-appearance: none; appearance: none; white-space: nowrap; vertical-align: middle; font-size: 17px; font-family: 'Lato', sans-serif !important; margin: 10px; display: inline-block; "><svg style="color: #ea4aaa; vertical-align: text-bottom !important;" viewBox="0 0 12 16" version="1.1" width="16" height="20" aria-hidden="true"><path fill-rule="evenodd" d="M8.727 3C7.091 3 6.001 4.65 6.001 4.65S4.909 3 3.273 3C1.636 3 0 4.1 0 6.3 0 9.6 6 14 6 14s6-4.4 6-7.7C12 4.1 10.364 3 8.727 3z"></path></svg> Github Sponsor </a><style> .bmc-button img { width: 27px !important; margin-bottom: 1px !important; border: none !important; vertical-align: middle !important; } .bmc-button { line-height: 36px !important; height: 37px !important; text-decoration: none !important; display: inline-block !important; color: #0E0C23 !important; background-color: #FEDD03 !important; border-radius: 3px !important; border: 1px solid transparent !important; padding: 0px 9px !important; font-size: 17px !important; letter-spacing: -0.08px !important; margin: 10px !important; font-family: 'Lato', sans-serif !important; -webkit-box-sizing: border-box !important; box-sizing: border-box !important; -o-transition: 0.3s all linear !important; -webkit-transition: 0.3s all linear !important; -moz-transition: 0.3s all linear !important; -ms-transition: 0.3s all linear !important; transition: 0.3s all linear !important; } .bmc-button:hover, .bmc-button:active, .bmc-button:focus { -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important; text-decoration: none !important; box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important; opacity: 0.85 !important; color: #ffffff !important; }</style><link rel="preload" as="style" href="https://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext"/><link href="https://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext" rel="stylesheet"/><a class="bmc-button" target="_blank" href="https://www.buymeacoffee.com/j0cXhWiza" rel="noopener noreferrer nofollow"><img src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg" alt="Buy me a coffee"/><span style="margin-left:5px">Buy me a coffee</span></a></div><p><code class="language-plaintext highlighter-rouge"> Was my blog helpful? Please leave a comment at the bottom. it will be a great help to me! </code></p><h2>App promotion</h2><div class="book-greeting"> You can use the applications that are created by this blog writer <code class="highlighter-rouge">Deku</code>.<br/><code class="highlighter-rouge">Deku</code> created the applications with Flutter.<br/><br/> If you have interested, please try to download them for free.<br/><br/><div class="row" style="display: flex;"><div class="col-lg-4 col-md-4 col-sm-auto col-auto" style="margin-bottom: 40px; display: flex; align-items: center;"><a class="app_container" href="/en/app/blaboo/en/" target="_blank"><img class="app_logo_image" src="/assets/images/logo/blaboo.png" alt="word learning app for kids, BlaBoo" loading="lazy"/><div><div class="app_description">word learning app for kids</div><div class="app_title">BlaBoo</div></div></a></div><div class="col-lg-4 col-md-4 col-sm-auto col-auto" style="margin-bottom: 40px; display: flex; align-items: center;"><a class="app_container" href="/en/app/koreanwords/" target="_blank"><img class="app_logo_image" src="/assets/images/logo/koreanwords.png" alt="Korean vocabulary, TOPIK words" loading="lazy"/><div><div class="app_description">Korean TOPIK vocabulary app</div><div class="app_title">TOPIK words</div></div></a></div><div class="col-lg-4 col-md-4 col-sm-auto col-auto" style="margin-bottom: 40px; display: flex; align-items: center;"><a class="app_container" href="/en/app/japanesewords/" target="_blank"><img class="app_logo_image" src="/assets/images/logo/japanesewords.png" alt="Japanese vocabulary app" loading="lazy"/><div><div class="app_description">Japanese vocabulary app</div><div class="app_title">Japanese words</div></div></a></div></div><div class="row" style="display: flex;"><div class="col-lg-4 col-md-4 col-sm-auto col-auto" style="margin-bottom: 40px; display: flex; align-items: center;"><a class="app_container" href="/en/app/chinesewords/" target="_blank"><img class="app_logo_image" src="/assets/images/logo/hskwordsen.png" alt="Chinese HSK vocabulary app" loading="lazy"/><div><div class="app_description">Chinese HSK vocabulary app</div><div class="app_title">HSK words</div></div></a></div></div></div></article><div class="col-lg-2 col-md-1 d-none d-xl-block right-ads" aria-hidden="true"><script>var rightAds=document.getElementsByClassName("right-ads")[0];null!=rightAds.offsetParent&&setTimeout(function(){rightAds.innerHTML='<ins class="adsbygoogle sticky-top" style="display:block; padding-top: 80px; margin-bottom: 80px;" data-ad-client="ca-pub-7987914246691031" data-ad-slot="9858937018" data-ad-format="auto" data-full-width-responsive="true"></ins>',(adsbygoogle=window.adsbygoogle||[]).push({})},400);</script></div></div><div class="ads-container" style="height: 280px !important;"><div class="ads-block ads-left bottom-left-ads" aria-hidden="true"><script>var bottomLeftAds=document.getElementsByClassName("bottom-left-ads")[0];null!=bottomLeftAds.offsetParent&&setTimeout(function(){bottomLeftAds.innerHTML='<ins class="adsbygoogle" style="display: block;" data-ad-client="ca-pub-7987914246691031" data-ad-slot="1936214968" data-ad-format="auto" data-full-width-responsive="true"></ins>',(adsbygoogle=window.adsbygoogle||[]).push({})},400);</script></div></div><div class="row"><div class="col-lg-8 col-md-10 mx-auto"><div class="post-list-container"><div class="header"><div class="header-title">Posts</div><div id="search-bar"><label for="search" style="width: 0; height: 0; overflow: hidden; float: left;">Search</label><i class="fa fa-search" aria-hidden="true"></i><input id="search" type="text" placeholder="Search..."/></div></div><div class="body"><div class="list-group"></div></div><div class="footer"><ul class="pagination"><li class="page-item page-item--previous"><div class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span><span class="sr-only">Previous</span></div></li><li class="page-item page-item--next"><div class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span><span class="sr-only">Next</span></div></li></ul></div></div><script defer type="text/javascript">document.addEventListener("DOMContentLoaded",function(){function e(e,a){$(".page").remove(),$(".page-item--link").remove();var t=$(".post-list-container .body .list-group");e.forEach(function(e,i){var s=Math.floor(i/8)+1,n=t.find(".page-"+s),o=!1===a&&e.url.indexOf(location.pathname)>=0?"active":"",l="";if(l+='<a href="'+e.url+'" class="list-group-item list-group-item-action flex-column align-items-start '+o+'">',l+='  <div class="d-flex w-100 justify-content-between">',l+='    <div class="mb-1">'+e.title+"</div>",l+="  </div>",l+='  <div class="body-text">'+e.description+"</div>",l+="</a>",n.length>0)n.addClass(!0===a&&1===s?"active":o),n.append(l);else{var d="";d+='<div class="page page-'+s+" "+(!0===a&&1===s?"active":o)+'">',d+=l,d+="</div>",t.append(d)}var p="";p+='<li class="page-item page-item--link '+o+'" data-page="'+s+'">',p+='  <div class="page-link" data-page="'+s+'">',p+=s,p+="  </div>",p+="</li>",0===$('.post-list-container .footer .page-item[data-page="'+s+'"]').length&&$(".post-list-container .footer .page-item--next").before(p),!0===a?$("li[data-page=1]").addClass("active"):"active"===o&&$("li[data-page="+s+"]").addClass(o),s>1&&$(".footer").css("display","flex")})}var a=[];$.get("/en/api/django/posts.json",function(t){a=t,t.length>0&&($(".post-list-container").show(),e(t,!1))}),$("body").on("click",".page-link",function(){var e=$(".post-list-container .body .list-group"),a=$(".footer .pagination"),t=a.find(".page-item.active"),i=t.find(".page-link").data("page"),s=$(this).data("page");if($(this).closest(".page-item").hasClass("page-item--previous"))s=i>1?i-1:1;else if($(this).closest(".page-item").hasClass("page-item--next")){var n=a.find(".page-item--link").length;s=i<n?i+1:n}else var s=$(this).data("page");e.find(".page").removeClass("active"),e.find(".page-"+s).addClass("active"),a.find(".page-item").removeClass("active"),a.find('.page-link[data-page="'+s+'"]').closest(".page-item").addClass("active")}),$("#search").on("keyup",function(){var t=this.value.toLowerCase(),i=[];if($(".footer .pagination"),t.length>0){for(var s=0;s<a.length;s++){var n=a[s];(n.title.toLowerCase().indexOf(t)>=0||n.description.toLowerCase().indexOf(t)>=0)&&i.push(n)}e(i,!0)}else e(a,!1)})});</script></div><div class="col-lg-8 col-md-10 mx-auto"><hr/><script src="https://utteranc.es/client.js" repo="dev-yakuza/dev-yakuza.github.io" issue-term="title" label="comment" theme="github-light" crossorigin="anonymous" async></script></div></div></div></div><footer><div class="container"><div class="row"><div class="col-lg-8 col-md-10 mx-auto share-title"> SHARE </div><div class="col-lg-8 col-md-10 mx-auto"><ul class="list-inline text-center"><li class="list-inline-item"><a href="https://twitter.com/intent/tweet?text=[Django] Model test&url=https://dev-yakuza.posstree.com/django/test/models/" rel="nofollow noreferrer noopener" target="_blank"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-twitter fa-stack-1x fa-inverse"></i></span><div style="width: 0; height: 0; overflow: hidden; float: left;"> Twitter </div></a></li><li class="list-inline-item"><a href="https://www.facebook.com/sharer/sharer.php?u=https://dev-yakuza.posstree.com/django/test/models/" rel="nofollow noreferrer noopener" target="_blank"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-facebook fa-stack-1x fa-inverse"></i></span><div style="width: 0; height: 0; overflow: hidden; float: left;"> Facebook </div></a></li><li class="list-inline-item"><a href="https://dev-yakuza.posstree.com/en/feed.xml" rel="nofollow noreferrer noopener" target="_blank"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-rss-square fa-stack-1x fa-inverse" aria-hidden="true"></i></span><div style="width: 0; height: 0; overflow: hidden; float: left;"> RSS </div></a></li></ul><p class="copyright"> Copyright &copy; dev.yakuza@gmail.com 2023 </p></div></div></div></footer><link href="/en/assets/vendor/jquery/jquery.min.js" rel="preload" as="script"/><script async src="/assets/vendor/jquery/jquery.min.js"></script><script async src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script><script async src="/assets/vendor/startbootstrap-clean-blog/js/clean-blog.min.js"></script><script async src="/assets/scripts.js?v=20230831"></script><link rel="preload" as="style" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/styles/monokai-sublime.min.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/styles/monokai-sublime.min.css"><script defer src="/assets/highlight/highlight.pack.js"></script><script defer>document.addEventListener("DOMContentLoaded",function(){hljs.initHighlightingOnLoad()});</script><script>document.addEventListener("DOMContentLoaded",function(){for(var a=document.getElementsByClassName("in-feed-left-ads"),e=0;e<a.length;e++){var t=a[e];null!=t.offsetParent&&(t.innerHTML='<ins class="adsbygoogle" style="display: block; text-align: center" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-7987914246691031" data-ad-slot="2718813593"></ins>',(adsbygoogle=window.adsbygoogle||[]).push({}))}}),document.addEventListener("DOMContentLoaded",function(){for(var a=document.getElementsByClassName("in-feed-center-ads"),e=0;e<a.length;e++){var t=a[e];null!=t.offsetParent&&(t.innerHTML='<ins class="adsbygoogle" style="display: block; text-align: center" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-7987914246691031" data-ad-slot="6492035359"></ins>',(adsbygoogle=window.adsbygoogle||[]).push({}))}});</script></body></html>