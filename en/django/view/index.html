<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"/> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/> <meta name="twitter:title" content="django View"/> <meta name="twitter:description" content="let's see how to make View and how to use View in django for web pages."/> <meta name="twitter:card" content="summary_large_image"/> <meta name="twitter:site" content="@DevYakuza"/> <meta name="twitter:creator" content="@DevYakuza"/> <title>django View - let's see how to make View and how to use View in django for web pages.</title> <meta name="description" content="let&#39;s see how to make View and how to use View in django for web pages."/> <meta property="og:url" content="https://dev-yakuza.github.io/en/django/view/"/> <meta name="generator" content="Jekyll v3.8.5"/> <meta property="og:title" content="django View"/> <meta name="author" content="dev.yakuza@gmail.com"/> <meta property="og:locale" content="en"/> <meta name="description" content="let’s see how to make View and how to use View in django for web pages."/> <meta property="og:description" content="let’s see how to make View and how to use View in django for web pages."/> <link rel="canonical" href="https://dev-yakuza.github.io/en/django/view/"/> <meta property="og:url" content="https://dev-yakuza.github.io/django/view/"/> <meta property="og:site_name" content="Dreams the art through programming"/> <meta property="og:image" content="https://dev-yakuza.github.io/assets/images/category/django/2019/view/background.jpg"/> <meta property="og:type" content="article"/> <meta property="article:published_time" content="2019-05-23T00:00:00+09:00"/> <script type="application/ld+json">
{"url":"https://dev-yakuza.github.io/django/view/","image":"https://dev-yakuza.github.io/assets/images/category/django/2019/view/background.jpg","headline":"django View","dateModified":"2019-06-03T18:42:46+09:00","datePublished":"2019-05-23T00:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://dev-yakuza.github.io/django/view/"},"author":{"@type":"Person","name":"dev.yakuza@gmail.com"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://dev-yakuza.github.io/assets/images/icon.png"},"name":"dev.yakuza@gmail.com"},"description":"let’s see how to make View and how to use View in django for web pages.","@type":"BlogPosting","@context":"http://schema.org"}</script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-125408913-1"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-125408913-1");</script> <link href="https://fonts.googleapis.com/css?family=Noto+Sans" rel="stylesheet"/> <link rel="stylesheet" href="/en/assets/vendor/bootstrap/css/bootstrap.min.css"/> <link rel="stylesheet" href="/en/assets/vendor/font-awesome/css/font-awesome.min.css"/> <link rel="stylesheet" href="/en/assets/main.css?v=20191015"/> <link rel="alternate" type="application/rss+xml" title="Dreams the art through programming" href="/en/feed.xml"/> <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "dev.yakuza",
      "url": "https://dev-yakuza.github.io",
      "sameAs": [
        "https://www.facebook.com/yakuza.dev.54",
        "https://www.instagram.com/dev_yakuza/",
        "https://twitter.com/DevYakuza"
      ]
    }
  </script> <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "https://dev-yakuza.github.io",
      "logo": "https://dev-yakuza.github.io/assets/images/icon.png"
    }
  </script><script type="application/ld+json">
    {
      "@context":"http://schema.org",
      "@type":"ItemList",
      "itemListElement":[{
          "@type":"ListItem",
          "position":1,"url": "https://dev-yakuza.github.io/en/django/installation/"},{
          "@type":"ListItem",
          "position":2,"url": "https://dev-yakuza.github.io/en/django/start/"},{
          "@type":"ListItem",
          "position":3,"url": "https://dev-yakuza.github.io/en/django/models/"},{
          "@type":"ListItem",
          "position":4,"url": "https://dev-yakuza.github.io/en/django/admin/"},{
          "@type":"ListItem",
          "position":5,"url": "https://dev-yakuza.github.io/en/django/routing/"},{
          "@type":"ListItem",
          "position":6,"url": "https://dev-yakuza.github.io/en/django/orm/"},{
          "@type":"ListItem",
          "position":7,"url": "https://dev-yakuza.github.io/en/django/view/"},{
          "@type":"ListItem",
          "position":8,"url": "https://dev-yakuza.github.io/en/django/form/"},{
          "@type":"ListItem",
          "position":9,"url": "https://dev-yakuza.github.io/en/django/heroku/"},{
          "@type":"ListItem",
          "position":10,"url": "https://dev-yakuza.github.io/en/django/data-seed/"},{
          "@type":"ListItem",
          "position":11,"url": "https://dev-yakuza.github.io/en/django/response-model-to-json/"},{
          "@type":"ListItem",
          "position":12,"url": "https://dev-yakuza.github.io/en/django/jwt/"},{
          "@type":"ListItem",
          "position":13,"url": "https://dev-yakuza.github.io/en/django/custom-user-model/"}]
    }
  </script><link rel="stylesheet" href="/en/assets/highlight/railscasts.css"/> <script src="/assets/highlight/highlight.pack.js"></script> <script>hljs.initHighlightingOnLoad();</script> </head> <body> <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav"> <div class="container"> <a class="navbar-brand" href="/en/"> <img src="/assets/images/icon.png" alt="dev.yakuza blog logo"/> ヤクザ </a> <div class="navbar-menu-container"> <div class="collapse navbar-collapse"> <ul class="navbar-nav ml-auto"> <li class="nav-item"> <a class="nav-link" href="/en/">Home</a> </li> <li class="nav-item dropdown"> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Category </a> <div class="dropdown-menu" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/en/laravel/">Laravel</a> <a class="dropdown-item" href="/en/books/">Writing Books</a> <a class="dropdown-item" href="/en/kubernetes/">Kubernetes</a> <a class="dropdown-item" href="/en/blaboo/">BlaBoo</a> <a class="dropdown-item" href="/en/environment/">dev environment</a> <a class="dropdown-item" href="/en/ildangongbu/">일단공부(Il-Dan-Gong-Bu)</a> <a class="dropdown-item" href="/en/react-native/">React Native</a> <a class="dropdown-item" href="/en/react/">React</a> <a class="dropdown-item" href="/en/kumoncho/">kumoncho</a> <a class="dropdown-item" href="/en/git/">git</a> <a class="dropdown-item" href="/en/django/">djanog</a> <a class="dropdown-item" href="/en/jekyll/">jekyll blog</a> </div> </li> <li class="nav-item"> <a class="nav-link" target="_blank" rel="noopener" href=" /app/list/en/">Apps</a> </li> <li class="nav-item"> <a class="nav-link" href="/en/contact/">Contact</a> </li> </ul> </div> <div class="btn-group-sm btn-translate-group dropdown"> <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="fa fa-language" aria-hidden="true"></i> </button> <div class="dropdown-menu"> <a class="dropdown-item menu-ko" href="/ko/django/view/">한국어</a> <a class="dropdown-item menu-en" href="/en/django/view/">English</a> <a class="dropdown-item menu-ja" href="/en/django/view/">日本語</a> </div> </div> <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"> Menu <i class="fa fa-bars"></i> </button> </div> <div class="collapse navbar-collapse" id="navbarResponsive"> <ul class="navbar-nav ml-auto"> <li class="nav-item"> <a class="nav-link" href="/en/">Home</a> </li> <li class="nav-item dropdown"> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Category </a> <div class="dropdown-menu" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/en/laravel/">Laravel</a> <a class="dropdown-item" href="/en/books/">Writing Books</a> <a class="dropdown-item" href="/en/kubernetes/">Kubernetes</a> <a class="dropdown-item" href="/en/blaboo/">BlaBoo</a> <a class="dropdown-item" href="/en/environment/">dev environment</a> <a class="dropdown-item" href="/en/ildangongbu/">일단공부(Il-Dan-Gong-Bu)</a> <a class="dropdown-item" href="/en/react-native/">React Native</a> <a class="dropdown-item" href="/en/react/">React</a> <a class="dropdown-item" href="/en/kumoncho/">kumoncho</a> <a class="dropdown-item" href="/en/git/">git</a> <a class="dropdown-item" href="/en/django/">djanog</a> <a class="dropdown-item" href="/en/jekyll/">jekyll blog</a> </div> </li> <li class="nav-item"> <a class="nav-link" target="_blank" rel="noopener" href=" /app/list/en/">Apps</a> </li> <li class="nav-item"> <a class="nav-link" href="/en/contact/">Contact</a> </li> </ul> </div> </div> </nav> <script>document.addEventListener("DOMContentLoaded",function(){var e=window.location.pathname;e.indexOf("/en/")>=0?($(".menu-ko").prop("href",e.replace("/en/","/ko/")),$(".menu-en").prop("href",e),$(".menu-ja").prop("href",e.replace("/en/","/"))):e.indexOf("/ko/")>=0?($(".menu-ko").prop("href",e),$(".menu-en").prop("href",e.replace("/ko/","/en/")),$(".menu-ja").prop("href",e.replace("/ko/","/"))):($(".menu-ko").prop("href","/ko"+e),$(".menu-en").prop("href","/en"+e),$(".menu-ja").prop("href",e)),$("body").on("show.bs.dropdown",".dropdown",function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideDown()}),$("body").on("hide.bs.dropdown",".dropdown",function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideUp()})});</script> <header class="masthead" style="background-image: url('/assets/images/category/django/2019/view/background.jpg')"> <div class="overlay"></div> <div class="container"> <div class="row"> <div class="col-lg-8 col-md-10 mx-auto"> <div class="post-heading"> <h1>django View</h1> <div class="heading-date"> <i class="fa fa-calendar" aria-hidden="true"></i> 2019-06-03 </div> <h2 class="subheading">let's see how to make View and how to use View in django for web pages.</h2> </div> </div> </div> </div> </header> <div class="top-ads"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7987914246691031" data-ad-slot="3850742490" data-ad-format="auto" data-full-width-responsive="true"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <div class="container"> <div class="row"> <div class="col-lg-8 col-md-10 mx-auto"> <nav aria-label="breadcrumb"> <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList"> <li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"> <a itemtype="http://schema.org/Thing" itemprop="item" href="https://dev-yakuza.github.io"> <span itemprop="name">Home</span> </a> <meta itemprop="position" content="1"/> </li> <li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"> <a itemtype="http://schema.org/Thing" itemprop="item" href="https://dev-yakuza.github.io/en/django"> <span itemprop="name">django</span> </a> <meta itemprop="position" content="2"/> </li> <li class="breadcrumb-item active" aria-current="page" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"> <a itemtype="http://schema.org/Thing" itemprop="item" href="https://dev-yakuza.github.io/en/django/view/"> <span itemprop="name">django View</span> </a> <meta itemprop="position" content="3"/> </li> </ol> </nav> </div> </div> <div class="row"> <div class="col-lg-2 col-md-1 d-none d-lg-block left-ads"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:inline-block;width:120px;height:600px" data-ad-client="ca-pub-7987914246691031" data-ad-slot="1333703444"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <article class="col-lg-8 col-md-10 mx-auto"> <h2 id="outline">Outline</h2> <p>we’ve done many things to serve a web service - connecting the database to store the data, how to Create Read Update Delete(CRUD) the data, and how to create and connect URL. in this blog post, we’ll see how to make django View for a web page and how to use it.</p> <p>this blog is a series. if you want to check other blog posts of the series, see the links below.</p> <ul> <li><a href="https://dev-yakuza.github.io/en/django/installation/" target="_blank">django installation</a></li> <li><a href="https://dev-yakuza.github.io/en/django/start/" target="_blank">Start django Project</a></li> <li><a href="https://dev-yakuza.github.io/en/django/models/" target="_blank">Use Models in django</a></li> <li><a href="https://dev-yakuza.github.io/en/django/admin/" target="_blank">django Administrator Page</a></li> <li><a href="https://dev-yakuza.github.io/en/django/routing/" target="_blank">django Routing</a></li> <li><a href="https://dev-yakuza.github.io/en/django/orm/" target="_blank">django ORM</a></li> <li>django View</li> <li><a href="https://dev-yakuza.github.io/en/django/form/" target="_blank">django Form</a></li> <li><a href="https://dev-yakuza.github.io/en/django/heroku/" target="_blank">Upload django project to Heroku</a></li> </ul> <p>also, this blog series source code is opened on Github. you can see full source code via the link below.</p> <ul> <li>github: <a href="https://github.com/dev-yakuza/django_exercise" target="_blank">https://github.com/dev-yakuza/django_exercise</a></li> </ul> <h2 id="review-url">Review URL</h2> <p>in the previous blog post(<a href="https://dev-yakuza.github.io/en/django/routing/" target="_blank">django Routing</a>), we’ve seen how to connect URL to HTML. execute the django command to start the test server, and open <code class="highlighter-rouge">http://127.0.0.1:8000/</code> on the browser. we can see <code class="highlighter-rouge">Hello World</code> on the web page.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># source venv/bin/activate</span>
<span class="c"># cd django_exercise/</span>
python manage.py runserver
</code></pre></div></div> <h2 id="data-transmission">Data Transmission</h2> <p>now we try to transmit the data that we’ve created in the previous blog post(<a href="https://dev-yakuza.github.io/en/django/orm/" target="_blank">django ORM</a>) to View to show on the web page. open and modify <code class="highlighter-rouge">blog/views.py</code> like below.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">render</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Post</span>

<span class="k">def</span> <span class="nf">posts</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">posts</span> <span class="o">=</span> <span class="n">Post</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="nb">filter</span><span class="p">(</span><span class="n">published_at__isnull</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s">'-published_at'</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">'blog/posts.html'</span><span class="p">,</span> <span class="p">{</span><span class="s">'posts'</span><span class="p">:</span> <span class="n">posts</span><span class="p">})</span>
</code></pre></div></div> <ul> <li><code class="highlighter-rouge">from .models import Post</code>: load(import) <code class="highlighter-rouge">Post</code> Model</li> <li><code class="highlighter-rouge">posts = Post.objects.filter(published_at__isnull=False).order_by('-published_at')</code> <ul> <li><code class="highlighter-rouge">published_at__isnull=False</code>: get the data to query published_at is not null(<code class="highlighter-rouge">__isnull=False</code>)</li> <li><code class="highlighter-rouge">order_by('-published_at')</code>: sort the data descending with <code class="highlighter-rouge">published_at</code>.</li> </ul> </li> <li><code class="highlighter-rouge">return render(request, 'blog/posts.html', {'posts': posts})</code>: transmit the data named posts variable(<code class="highlighter-rouge">{'posts': posts}</code>) to <code class="highlighter-rouge">blog/posts.html</code> page.</li> </ul> <div class="in-feed-ads"> <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-7987914246691031" data-ad-slot="2718813593"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <h2 id="display-data">Display Data</h2> <p>let’s try to display the data that we transmitted above. open <code class="highlighter-rouge">blog/templates/blog/posts.html</code> and modify it like below.</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;&lt;title&gt;</span>Hello World<span class="nt">&lt;/title&gt;&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    {% for post in posts %}
    <span class="nt">&lt;div&gt;</span>
      <span class="nt">&lt;h1&gt;</span>
        {{ post.title }}<span class="nt">&lt;small&gt;</span>(published: {{ post.published_at }})<span class="nt">&lt;/small&gt;</span>
      <span class="nt">&lt;/h1&gt;</span>
      <span class="nt">&lt;p&gt;</span>{{ post.content | linebreaksbr }}<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    {% endfor %}
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre></div></div> <ul> <li><code class="highlighter-rouge">{% for post in posts %}...{% endfor %}</code>: make a loop to get a <code class="highlighter-rouge">post</code> data from <code class="highlighter-rouge">posts</code> data list we created above.</li> <li><code class="highlighter-rouge">{{ post.title }}&lt;small&gt;(published: {{ post.published_at }})&lt;/small&gt;</code>: display <code class="highlighter-rouge">title</code> / <code class="highlighter-rouge">published_at</code> field values in post</li> <li><code class="highlighter-rouge">&lt;p&gt;{{ post.content | linebreaksbr }}&lt;/p&gt;</code>: display <code class="highlighter-rouge">content</code> field value in post data with changing linebreak(<code class="highlighter-rouge">\n</code>) to linebreak tag(<code class="highlighter-rouge">&lt;br/&gt;</code>).</li> </ul> <p>after editing, when you open <code class="highlighter-rouge">http://127.0.0.1:8000/</code> on the browser, you can see the data is displayed on the screen like below.</p> <p><img src="/assets/images/category/django/2019/view/show-data.png" alt="display data in django View"/></p> <p>let’s make the detail page for the practice. modify <code class="highlighter-rouge">blog/templates/blog/posts.html</code> file we created above like below.</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;&lt;title&gt;</span>Hello World<span class="nt">&lt;/title&gt;&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    {% for post in posts %}
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{% url 'post_detail' id=post.id %}"</span><span class="nt">&gt;</span> <span class="c">&lt;!-- &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; here --&gt;</span>
      <span class="nt">&lt;h1&gt;</span>
        {{ post.title }}<span class="nt">&lt;small&gt;</span>(published: {{ post.published_at }})<span class="nt">&lt;/small&gt;</span>
      <span class="nt">&lt;/h1&gt;</span>
      <span class="nt">&lt;p&gt;</span>{{ post.content | linebreaksbr }}<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;/a&gt;</span> <span class="c">&lt;!-- &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; here --&gt;</span>
    {% endfor %}
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre></div></div> <ul> <li><code class="highlighter-rouge">{% url 'post_detail' id=post.id %}</code>: django searches <code class="highlighter-rouge">post_detail</code> name in <code class="highlighter-rouge">django_exercise/urls.py</code> and <code class="highlighter-rouge">blog/urls.py</code> we’ve defined and changes it to URL. at this time, django creates <code class="highlighter-rouge">id</code> parameter and input <code class="highlighter-rouge">Post</code> id to it.</li> </ul> <p>we don’t make URL mapped <code class="highlighter-rouge">post_detail</code> not yet. let’s make <code class="highlighter-rouge">post_detail</code> URL and View. create <code class="highlighter-rouge">blog/templates/blog/post_detail.html</code> file and modify it like below.</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;&lt;title&gt;</span>Hello World<span class="nt">&lt;/title&gt;&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{% url 'posts' %}"</span><span class="nt">&gt;</span>
      Post List
    <span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;h1&gt;</span>
      {{ post.title }}
    <span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;p&gt;</span>created: {{ post.created_at }}<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;p&gt;</span>updated: {{ post.updated_at }}<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;p&gt;</span>published: {{ post.published_at }}<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;p&gt;</span>author: {{ post.author.username }}<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;p&gt;</span>{{ post.content | linebreaksbr }}<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre></div></div> <ul> <li><code class="highlighter-rouge">{% url 'posts' %}</code>: search <code class="highlighter-rouge">posts</code> name of URL and change it to the URL.</li> <li><code class="highlighter-rouge">author: {{ post.author.username }}</code>: we’ve connected our <code class="highlighter-rouge">Post</code> Model and <code class="highlighter-rouge">auth.User</code> that dajango basically provides to make <code class="highlighter-rouge">author</code> field. so we can get and display <code class="highlighter-rouge">username</code> from <code class="highlighter-rouge">auth.User</code> Model.</li> </ul> <p>the page is ready. open and modify <code class="highlighter-rouge">blog/urls.py</code> like below.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">path</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">views</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s">''</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">posts</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">'posts'</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s">'post/&lt;int:id&gt;/'</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">post_detail</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">'post_detail'</span><span class="p">),</span> <span class="c"># &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; here</span>
<span class="p">]</span>
</code></pre></div></div> <ul> <li><code class="highlighter-rouge">post/&lt;int:id&gt;/</code>: make URL with <code class="highlighter-rouge">id</code> parameter data that is integer data type.</li> <li><code class="highlighter-rouge">name='post_detail'</code>: URL name is <code class="highlighter-rouge">post_detail</code> and mapped <code class="highlighter-rouge">views.post_detail</code>.</li> </ul> <p>now, we can ready to use <code class="highlighter-rouge">{% url 'post_detail' id=post.id %}</code> to show <code class="highlighter-rouge">post/&lt;int:id&gt;/</code> URL and connect <code class="highlighter-rouge">views.post_detail</code>. open <code class="highlighter-rouge">blog/views.py</code> and modify it like below.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">render</span><span class="p">,</span> <span class="n">get_object_or_404</span> <span class="c"># &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; here</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Post</span>


<span class="k">def</span> <span class="nf">posts</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">posts</span> <span class="o">=</span> <span class="n">Post</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="nb">filter</span><span class="p">(</span>
        <span class="n">published_at__isnull</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s">'-published_at'</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">'blog/posts.html'</span><span class="p">,</span> <span class="p">{</span><span class="s">'posts'</span><span class="p">:</span> <span class="n">posts</span><span class="p">})</span>

<span class="c"># &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; here</span>
<span class="k">def</span> <span class="nf">post_detail</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
    <span class="n">post</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Post</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="nb">id</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">'blog/post_detail.html'</span><span class="p">,</span> <span class="p">{</span><span class="s">'post'</span><span class="p">:</span> <span class="n">post</span><span class="p">})</span>
</code></pre></div></div> <ul> <li><code class="highlighter-rouge">get_object_or_404</code>: load(import) the function that django basically provides. this function tries to get the data from the Object, but if the data doesn’t exist, the function occurs <code class="highlighter-rouge">404</code> error.</li> <li><code class="highlighter-rouge">def post_detail(request, id):</code>: new function mapped with new URL. the function can get <code class="highlighter-rouge">id</code> parameter.</li> </ul> <p>done! we’ve created the detail page. open <code class="highlighter-rouge">http://127.0.0.1:8000</code> on the browser. you can see the screen lik below.</p> <p><img src="/assets/images/category/django/2019/view/main-page-with-link.png" alt="django Models - detail page link"/></p> <p>when you click the detail page lik, you’ll go to the detail page URL(<code class="highlighter-rouge">http://127.0.0.1:8000/post/2/</code>) and you can see the detail page like below.</p> <p><img src="/assets/images/category/django/2019/view/post-detail-page.png" alt="django Models - detail page"/></p> <div class="in-feed-ads"> <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-7987914246691031" data-ad-slot="2718813593"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <h2 id="templage-file">Templage File</h2> <p>we were used to making new View and URL, and display it. however, there are many duplicated code in HTML. even we didn’t insert <code class="highlighter-rouge">css, js</code> or <code class="highlighter-rouge">meta</code> tag. if we insert them, duplicate code will be more and more. so let’s see how to make Template that includes common codes and use it.</p> <p>first, let’s see how to add static files(<code class="highlighter-rouge">css, js, etc</code>). create <code class="highlighter-rouge">blog/static/css/main.css</code> file and modify it like below.</p> <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">h1</span> <span class="p">{</span>
  <span class="nl">color</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <p>in here, we won’t consider the design of the site. if you want to make the site more beautiful, modify this file. django will search the folder named <code class="highlighter-rouge">static</code> automatically, so we don’t need any additional action to register it.</p> <p>now, create <code class="highlighter-rouge">blog/templates/blog/layout.html</code> and modify it like below.</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{% load static %}
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>Hello World<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"{% static 'css/main.css' %}"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    {% block content %} {% endblock %}
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre></div></div> <ul> <li><code class="highlighter-rouge">{% load static %}</code>: load(import) <code class="highlighter-rouge">static</code> folder to make this file can use <code class="highlighter-rouge">static</code> files.</li> <li><code class="highlighter-rouge">&lt;link rel="stylesheet" href="{% static 'css/main.css' %}" /&gt;</code>: search <code class="highlighter-rouge">css/main.css</code> file in <code class="highlighter-rouge">static</code> folder we loaded and change this to the URL.</li> <li><code class="highlighter-rouge">{% block content %} {% endblock %}</code>: make the block named <code class="highlighter-rouge">content</code> to display Template. if we make the block like <code class="highlighter-rouge">block [name]</code>, we can use it on the other Template files and change this to their block.</li> </ul> <p>open and modify <code class="highlighter-rouge">blog/templates/blog/posts.html</code> like below to use layout Template file</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{% extends 'blog/layout.html' %}

{% block content %}
  {% for post in posts %}
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{% url 'post_detail' id=post.id %}"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;h1&gt;</span>
        {{ post.title }}<span class="nt">&lt;small&gt;</span>(published: {{ post.published_at }})<span class="nt">&lt;/small&gt;</span>
      <span class="nt">&lt;/h1&gt;</span>
      <span class="nt">&lt;p&gt;</span>{{ post.content | linebreaksbr }}<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;/a&gt;</span>
  {% endfor %}
{% endblock %}

</code></pre></div></div> <ul> <li><code class="highlighter-rouge">{% extends 'blog/layout.html' %}</code>: this file(posts.html) will use the layout file(layout.html) we made.</li> <li><code class="highlighter-rouge">{% block content %}...{% endblock %}</code>: this block contents will insert to the layout file(layout.html) block named <code class="highlighter-rouge">content</code>.</li> </ul> <p>and then, open and modify <code class="highlighter-rouge">blog/templates/blog/post_detail.html</code> like below.</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
{% extends 'blog/layout.html' %}

{% block content %}
  {% for post in posts %}
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{% url 'post_detail' id=post.id %}"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;h1&gt;</span>
        {{ post.title }}<span class="nt">&lt;small&gt;</span>(published: {{ post.published_at }})<span class="nt">&lt;/small&gt;</span>
      <span class="nt">&lt;/h1&gt;</span>
      <span class="nt">&lt;p&gt;</span>{{ post.content | linebreaksbr }}<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;/a&gt;</span>
  {% endfor %}
{% endblock %}

</code></pre></div></div> <p>it’s the same as above. search the block named <code class="highlighter-rouge">content</code> in the layout file(layout.html) and insert this block to there.</p> <div class="in-feed-ads"> <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-7987914246691031" data-ad-slot="2718813593"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <h2 id="check">Check</h2> <p>let’s connect <code class="highlighter-rouge">http://127.0.0.1:8000/</code> via the browser. you can see the screen applied <code class="highlighter-rouge">css</code> file we made like below.(if you couldn’t see the screen applied <code class="highlighter-rouge">css</code> file, try to restart the test server.)</p> <p><img src="/assets/images/category/django/2019/view/main-page-with-static.png" alt="use django Template - main page"/></p> <p>click the detail page link to go to the URL(<code class="highlighter-rouge">http://127.0.0.1:8000/post/2/</code>). you can see the screen applied <code class="highlighter-rouge">css</code> file like below.</p> <p><img src="/assets/images/category/django/2019/view/post-detail-page-with-static.png" alt="use django Template - detail page"/></p> <p>done! we’ve seen how to use dajgno Template file to reduce duplicate codes and how to insert static files(css, js, etc) to the Template.</p> <h2 id="completed">Completed</h2> <p>in this blog post, we’ve seen how to use django View briefly. and we’ve seen how to use django Template to manage the code and display the data in the page. also, we’ve seen how to insert static files like css, js. now we can ready to make normal web service site!</p> <div class="buy_me_a_coffee_container"> <style> .bmc-button img { width: 27px !important; margin-bottom: 1px !important; box-shadow: none !important; border: none !important; vertical-align: middle !important; } .bmc-button { line-height: 36px !important; height: 37px !important; text-decoration: none !important; display: inline-flex !important; color: #ffffff !important; background-color: #ff813f !important; border-radius: 3px !important; border: 1px solid transparent !important; padding: 0px 9px !important; font-size: 17px !important; letter-spacing: -0.08px !important; box-shadow: 0px 1px 2px rgba(190, 190, 190, 0.5) !important; -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important; margin: 0 auto !important; font-family: 'Lato', sans-serif !important; -webkit-box-sizing: border-box !important; box-sizing: border-box !important; -o-transition: 0.3s all linear !important; -webkit-transition: 0.3s all linear !important; -moz-transition: 0.3s all linear !important; -ms-transition: 0.3s all linear !important; transition: 0.3s all linear !important; } .bmc-button:hover, .bmc-button:active, .bmc-button:focus { -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important; text-decoration: none !important; box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important; opacity: 0.85 !important; color: #ffffff !important; }</style><link href="https://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext" rel="stylesheet"/><a class="bmc-button" target="_blank" href="https://www.buymeacoffee.com/j0cXhWiza" rel="noopener noreferrer nofollow"><img src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg" alt="Buy me a coffee"/><span style="margin-left:5px">Buy me a coffee</span></a> </div> </article> <div class="col-lg-2 col-md-1 d-none d-lg-block right-ads"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:inline-block;width:120px;height:600px" data-ad-client="ca-pub-7987914246691031" data-ad-slot="9858937018"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> </div> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7987914246691031" data-ad-slot="1936214968" data-ad-format="auto" data-full-width-responsive="true"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> <div class="row"> <div class="col-lg-8 col-md-10 mx-auto"> <div class="post-list-container"> <div class="header"> <div class="header-title">Posts</div> </div> <div class="body"> <div class="list-group"></div> </div> <div class="footer"> <ul class="pagination"> <li class="page-item page-item--previous"> <div class="page-link" aria-label="Previous"> <span aria-hidden="true">&laquo;</span> <span class="sr-only">Previous</span> </div> </li> <li class="page-item page-item--next"> <div class="page-link" aria-label="Next"> <span aria-hidden="true">&raquo;</span> <span class="sr-only">Next</span> </div> </li> </ul> </div> </div> <script type="text/javascript">document.addEventListener("DOMContentLoaded",function(){$.get("/en/api/django/posts.json",function(e){e.length>0&&($(".post-list-container").show(),e.forEach(function(e){var a=$(".post-list-container .body .list-group"),t=a.find(".page-"+e.page),i=e.url.indexOf(location.pathname)>=0?"active":"",s="";if(s+='<a href="'+e.url+'" class="list-group-item list-group-item-action flex-column align-items-start '+i+'">',s+='  <div class="d-flex w-100 justify-content-between">',s+='    <div class="mb-1">'+e.title+"</div>",s+="  </div>",s+='  <div class="body-text">'+e.description+"</div>",s+="</a>",t.length>0)t.addClass(i),t.append(s);else{var n="";n+='<div class="page page-'+e.page+" "+i+'">',n+=s,n+="</div>",a.append(n)}var p="";p+='<li class="page-item page-item--link '+i+'" data-page="'+e.page+'">',p+='  <div class="page-link" data-page="'+e.page+'">',p+=e.page,p+="  </div>",p+="</li>",0===$('.post-list-container .footer .page-item[data-page="'+e.page+'"]').length&&$(".post-list-container .footer .page-item--next").before(p),"active"===i&&$("li[data-page="+e.page+"]").addClass(i),e.page>1&&$(".footer").css("display","flex")}))}),$("body").on("click",".page-link",function(){var e=$(".post-list-container .body .list-group"),a=$(".footer .pagination"),t=a.find(".page-item.active"),i=t.find(".page-link").data("page"),s=$(this).data("page");if($(this).closest(".page-item").hasClass("page-item--previous"))s=i>1?i-1:1;else if($(this).closest(".page-item").hasClass("page-item--next")){var n=a.find(".page-item--link").length;s=i<n?i+1:n}else var s=$(this).data("page");e.find(".page").removeClass("active"),e.find(".page-"+s).addClass("active"),a.find(".page-item").removeClass("active"),a.find('.page-link[data-page="'+s+'"]').closest(".page-item").addClass("active")})});</script> </div> <div class="col-lg-8 col-md-10 mx-auto"> <hr/> <div id="disqus_thread"></div> <script>var disqus_config=function(){this.page.url="https://dev-yakuza.github.io/django/view/",this.page.identifier="https://dev-yakuza.github.io/django/view/"};!function(){var t=document,e=t.createElement("script");e.src="https://https-dev-yakuza-github-io-en.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}();</script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> </div> </div> </div> </div> <hr/> <footer> <div class="container"> <div class="row"> <div class="col-lg-8 col-md-10 mx-auto share-title"> SHARE </div> <div class="col-lg-8 col-md-10 mx-auto"> <ul class="list-inline text-center"> <li class="list-inline-item"> <a href="https://twitter.com/intent/tweet?text=django View&url=https://dev-yakuza.github.io/django/view/" rel="nofollow noreferrer noopener" target="_blank"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> </li> <li class="list-inline-item"> <a href="https://www.facebook.com/sharer/sharer.php?u=https://dev-yakuza.github.io/django/view/" rel="nofollow noreferrer noopener" target="_blank"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-facebook fa-stack-1x fa-inverse"></i> </span> </a> </li> <li class="list-inline-item"> <a href="https://dev-yakuza.github.io/en/feed.xml" rel="nofollow noreferrer noopener" target="_blank"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-rss-square fa-stack-1x fa-inverse" aria-hidden="true"></i> </span> </a> </li> </ul> <p class="copyright text-muted"> Copyright &copy; dev.yakuza@gmail.com 2019 </p> </div> </div> </div> </footer> <script src="/assets/vendor/jquery/jquery.min.js"></script> <script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script> <script src="/assets/vendor/startbootstrap-clean-blog/js/clean-blog.min.js"></script> <script src="/assets/scripts.js"></script> </body> </html>