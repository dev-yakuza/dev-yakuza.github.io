<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"/> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/> <meta name="twitter:title" content="register Android App store"/> <meta name="twitter:description" content="we'll introduce how to register RN(React Native) Android App to Android App store(Google Play)."/> <meta name="twitter:card" content="summary_large_image"/> <meta name="twitter:site" content="@DevYakuza"/> <meta name="twitter:creator" content="@DevYakuza"/> <title>register Android App store - we'll introduce how to register RN(React Native) Android App to Android App store(Google Play).</title> <meta name="description" content="we&#39;ll introduce how to register RN(React Native) Android App to Android App store(Google Play)."/> <meta property="og:url" content="https://dev-yakuza.github.io/en/react-native/android-google-play/"/> <meta name="generator" content="Jekyll v3.8.5"/> <meta property="og:title" content="register Android App store"/> <meta name="author" content="dev.yakuza@gmail.com"/> <meta property="og:locale" content="en"/> <meta name="description" content="we’ll introduce how to register RN(React Native) Android App to Android App store(Google Play)."/> <meta property="og:description" content="we’ll introduce how to register RN(React Native) Android App to Android App store(Google Play)."/> <link rel="canonical" href="https://dev-yakuza.github.io/en/react-native/android-google-play/"/> <meta property="og:url" content="https://dev-yakuza.github.io/react-native/android-google-play/"/> <meta property="og:site_name" content="Dreams the art through programming"/> <meta property="og:image" content="https://dev-yakuza.github.io/assets/images/category/react-native/android-google-play.jpg"/> <meta property="og:type" content="article"/> <meta property="article:published_time" content="2019-01-12T00:00:00+09:00"/> <script type="application/ld+json">
{"description":"we’ll introduce how to register RN(React Native) Android App to Android App store(Google Play).","author":{"@type":"Person","name":"dev.yakuza@gmail.com"},"@type":"BlogPosting","url":"https://dev-yakuza.github.io/react-native/android-google-play/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://dev-yakuza.github.io/assets/images/icon.png"},"name":"dev.yakuza@gmail.com"},"image":"https://dev-yakuza.github.io/assets/images/category/react-native/android-google-play.jpg","headline":"register Android App store","dateModified":"2019-06-11T12:04:45+09:00","datePublished":"2019-01-12T00:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://dev-yakuza.github.io/react-native/android-google-play/"},"@context":"http://schema.org"}</script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-125408913-1"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-125408913-1");</script> <link href="https://fonts.googleapis.com/css?family=Noto+Sans" rel="stylesheet"/> <link rel="stylesheet" href="/en/assets/vendor/bootstrap/css/bootstrap.min.css"/> <link rel="stylesheet" href="/en/assets/vendor/font-awesome/css/font-awesome.min.css"/> <link rel="stylesheet" href="/en/assets/main.css?v=20190613"/> <link rel="alternate" type="application/rss+xml" title="Dreams the art through programming" href="/en/feed.xml"/> <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "dev.yakuza",
      "url": "https://dev-yakuza.github.io",
      "sameAs": [
        "https://www.facebook.com/yakuza.dev.54",
        "https://www.instagram.com/dev_yakuza/",
        "https://twitter.com/DevYakuza"
      ]
    }
  </script> <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "https://dev-yakuza.github.io",
      "logo": "https://dev-yakuza.github.io/assets/images/icon.png"
    }
  </script><script type="application/ld+json">
    {
      "@context":"http://schema.org",
      "@type":"ItemList",
      "itemListElement":[{
          "@type":"ListItem",
          "position":1,"url": "https://dev-yakuza.github.io/en/react-native/installation/"},{
          "@type":"ListItem",
          "position":2,"url": "https://dev-yakuza.github.io/en/react-native/typescript/"},{
          "@type":"ListItem",
          "position":3,"url": "https://dev-yakuza.github.io/en/react-native/styled-components/"},{
          "@type":"ListItem",
          "position":4,"url": "https://dev-yakuza.github.io/en/react-native/react-navigation/"},{
          "@type":"ListItem",
          "position":5,"url": "https://dev-yakuza.github.io/en/react-native/app-icon/"},{
          "@type":"ListItem",
          "position":6,"url": "https://dev-yakuza.github.io/en/react-native/splash-image/"},{
          "@type":"ListItem",
          "position":7,"url": "https://dev-yakuza.github.io/en/react-native/nativebase/"},{
          "@type":"ListItem",
          "position":8,"url": "https://dev-yakuza.github.io/en/react-native/react-native-vector-icons/"},{
          "@type":"ListItem",
          "position":9,"url": "https://dev-yakuza.github.io/en/react-native/react-native-device-info/"},{
          "@type":"ListItem",
          "position":10,"url": "https://dev-yakuza.github.io/en/react-native/react-native-tts/"},{
          "@type":"ListItem",
          "position":11,"url": "https://dev-yakuza.github.io/en/react-native/react-native-admob/"},{
          "@type":"ListItem",
          "position":12,"url": "https://dev-yakuza.github.io/en/react-native/ios-test-on-device/"},{
          "@type":"ListItem",
          "position":13,"url": "https://dev-yakuza.github.io/en/react-native/ios-running-on-device/"},{
          "@type":"ListItem",
          "position":14,"url": "https://dev-yakuza.github.io/en/react-native/ios-enroll-developer-program/"},{
          "@type":"ListItem",
          "position":15,"url": "https://dev-yakuza.github.io/en/react-native/ios-certification/"},{
          "@type":"ListItem",
          "position":16,"url": "https://dev-yakuza.github.io/en/react-native/ios-testflight/"},{
          "@type":"ListItem",
          "position":17,"url": "https://dev-yakuza.github.io/en/react-native/ios-app-store/"},{
          "@type":"ListItem",
          "position":18,"url": "https://dev-yakuza.github.io/en/react-native/react-native-analytics-bridge/"},{
          "@type":"ListItem",
          "position":19,"url": "https://dev-yakuza.github.io/en/react-native/react-native-firebase-admob/"},{
          "@type":"ListItem",
          "position":20,"url": "https://dev-yakuza.github.io/en/react-native/android-test-on-device/"},{
          "@type":"ListItem",
          "position":21,"url": "https://dev-yakuza.github.io/en/react-native/android-running-on-device/"},{
          "@type":"ListItem",
          "position":22,"url": "https://dev-yakuza.github.io/en/react-native/ios-change-simulator/"},{
          "@type":"ListItem",
          "position":23,"url": "https://dev-yakuza.github.io/en/react-native/react-native-firebase-analytics/"},{
          "@type":"ListItem",
          "position":24,"url": "https://dev-yakuza.github.io/en/react-native/ios-app-crash-debugging/"},{
          "@type":"ListItem",
          "position":25,"url": "https://dev-yakuza.github.io/en/react-native/firebase-crashlytics/"},{
          "@type":"ListItem",
          "position":26,"url": "https://dev-yakuza.github.io/en/react-native/react-native-animatable/"},{
          "@type":"ListItem",
          "position":27,"url": "https://dev-yakuza.github.io/en/react-native/android-enroll-google-play-developer/"},{
          "@type":"ListItem",
          "position":28,"url": "https://dev-yakuza.github.io/en/react-native/android-google-play/"},{
          "@type":"ListItem",
          "position":29,"url": "https://dev-yakuza.github.io/en/react-native/react-native-voice/"},{
          "@type":"ListItem",
          "position":30,"url": "https://dev-yakuza.github.io/en/react-native/react-native-mail/"},{
          "@type":"ListItem",
          "position":31,"url": "https://dev-yakuza.github.io/en/react-native/react-native-fs/"},{
          "@type":"ListItem",
          "position":32,"url": "https://dev-yakuza.github.io/en/react-native/react-native-lottie/"},{
          "@type":"ListItem",
          "position":33,"url": "https://dev-yakuza.github.io/en/react-native/react-native-swipe-gestures/"},{
          "@type":"ListItem",
          "position":34,"url": "https://dev-yakuza.github.io/en/react-native/react-native-linear-gradient/"},{
          "@type":"ListItem",
          "position":35,"url": "https://dev-yakuza.github.io/en/react-native/react-native-splash-screen/"},{
          "@type":"ListItem",
          "position":36,"url": "https://dev-yakuza.github.io/en/react-native/react-native-rate/"},{
          "@type":"ListItem",
          "position":37,"url": "https://dev-yakuza.github.io/en/react-native/react-native-itunes-share-file/"},{
          "@type":"ListItem",
          "position":38,"url": "https://dev-yakuza.github.io/en/react-native/react-native-status-bar/"},{
          "@type":"ListItem",
          "position":39,"url": "https://dev-yakuza.github.io/en/react-native/react-native-support-tablet/"},{
          "@type":"ListItem",
          "position":40,"url": "https://dev-yakuza.github.io/en/react-native/react-native-sqlite-storage/"},{
          "@type":"ListItem",
          "position":41,"url": "https://dev-yakuza.github.io/en/react-native/react-native-custom-font/"},{
          "@type":"ListItem",
          "position":42,"url": "https://dev-yakuza.github.io/en/react-native/root-import/"},{
          "@type":"ListItem",
          "position":43,"url": "https://dev-yakuza.github.io/en/react-native/open-file-with-app/"}]
    }
  </script><link rel="stylesheet" href="/en/assets/highlight/railscasts.css"/> <script src="/assets/highlight/highlight.pack.js"></script> <script>hljs.initHighlightingOnLoad();</script> </head> <body> <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav"> <div class="container"> <a class="navbar-brand" href="/en/"> <img src="/assets/images/icon.png" alt="dev.yakuza blog logo"/> ヤクザ </a> <div class="navbar-menu-container"> <div class="collapse navbar-collapse"> <ul class="navbar-nav ml-auto"> <li class="nav-item"> <a class="nav-link" href="/en/">Home</a> </li> <li class="nav-item dropdown"> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Category </a> <div class="dropdown-menu" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/en/laravel/">Laravel</a> <a class="dropdown-item" href="/en/environment/">dev environment</a> <a class="dropdown-item" href="/en/ildangongbu/">일단공부(Il-Dan-Gong-Bu)</a> <a class="dropdown-item" href="/en/react-native/">React Native</a> <a class="dropdown-item" href="/en/blaboo/">BlaBoo</a> <a class="dropdown-item" href="/en/kumoncho/">kumoncho</a> <a class="dropdown-item" href="/en/react/">React</a> <a class="dropdown-item" href="/en/git/">git</a> <a class="dropdown-item" href="/en/django/">djanog</a> <a class="dropdown-item" href="/en/jekyll/">jekyll blog</a> </div> </li> <li class="nav-item"> <a class="nav-link" target="_blank" rel="noopener" href=" /app/list/en/">Apps</a> </li> <li class="nav-item"> <a class="nav-link" href="/en/contact/">Contact</a> </li> </ul> </div> <div class="btn-group-sm btn-translate-group dropdown"> <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="fa fa-language" aria-hidden="true"></i> </button> <div class="dropdown-menu"> <a class="dropdown-item menu-ko" href="/ko/react-native/android-google-play/">한국어</a> <a class="dropdown-item menu-en" href="/en/react-native/android-google-play/">English</a> <a class="dropdown-item menu-ja" href="/en/react-native/android-google-play/">日本語</a> </div> </div> <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"> Menu <i class="fa fa-bars"></i> </button> </div> <div class="collapse navbar-collapse" id="navbarResponsive"> <ul class="navbar-nav ml-auto"> <li class="nav-item"> <a class="nav-link" href="/en/">Home</a> </li> <li class="nav-item dropdown"> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Category </a> <div class="dropdown-menu" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/en/laravel/">Laravel</a> <a class="dropdown-item" href="/en/environment/">dev environment</a> <a class="dropdown-item" href="/en/ildangongbu/">일단공부(Il-Dan-Gong-Bu)</a> <a class="dropdown-item" href="/en/react-native/">React Native</a> <a class="dropdown-item" href="/en/blaboo/">BlaBoo</a> <a class="dropdown-item" href="/en/kumoncho/">kumoncho</a> <a class="dropdown-item" href="/en/react/">React</a> <a class="dropdown-item" href="/en/git/">git</a> <a class="dropdown-item" href="/en/django/">djanog</a> <a class="dropdown-item" href="/en/jekyll/">jekyll blog</a> </div> </li> <li class="nav-item"> <a class="nav-link" target="_blank" rel="noopener" href=" /app/list/en/">Apps</a> </li> <li class="nav-item"> <a class="nav-link" href="/en/contact/">Contact</a> </li> </ul> </div> </div> </nav> <script>document.addEventListener("DOMContentLoaded",function(){var e=window.location.pathname;e.indexOf("/en/")>=0?($(".menu-ko").prop("href",e.replace("/en/","/ko/")),$(".menu-en").prop("href",e),$(".menu-ja").prop("href",e.replace("/en/","/"))):e.indexOf("/ko/")>=0?($(".menu-ko").prop("href",e),$(".menu-en").prop("href",e.replace("/ko/","/en/")),$(".menu-ja").prop("href",e.replace("/ko/","/"))):($(".menu-ko").prop("href","/ko"+e),$(".menu-en").prop("href","/en"+e),$(".menu-ja").prop("href",e)),$("body").on("show.bs.dropdown",".dropdown",function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideDown()}),$("body").on("hide.bs.dropdown",".dropdown",function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideUp()})});</script> <header class="masthead" style="background-image: url('/assets/images/category/react-native/android-google-play.jpg')"> <div class="overlay"></div> <div class="container"> <div class="row"> <div class="col-lg-8 col-md-10 mx-auto"> <div class="post-heading"> <h1>register Android App store</h1> <div class="heading-date"> <i class="fa fa-calendar" aria-hidden="true"></i> 2019-06-11 </div> <h2 class="subheading">we'll introduce how to register RN(React Native) Android App to Android App store(Google Play).</h2> </div> </div> </div> </div> </header> <div class="top-ads"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7987914246691031" data-ad-slot="3850742490" data-ad-format="auto" data-full-width-responsive="true"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <div class="container"> <div class="row"> <div class="col-lg-8 col-md-10 mx-auto"> <nav aria-label="breadcrumb"> <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList"> <li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"> <a itemtype="http://schema.org/Thing" itemprop="item" href="https://dev-yakuza.github.io"> <span itemprop="name">Home</span> </a> <meta itemprop="position" content="1"/> </li> <li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"> <a itemtype="http://schema.org/Thing" itemprop="item" href="https://dev-yakuza.github.io/en/react-native"> <span itemprop="name">react-native</span> </a> <meta itemprop="position" content="2"/> </li> <li class="breadcrumb-item active" aria-current="page" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"> <a itemtype="http://schema.org/Thing" itemprop="item" href="https://dev-yakuza.github.io/en/react-native/android-google-play/"> <span itemprop="name">register Android App store</span> </a> <meta itemprop="position" content="3"/> </li> </ol> </nav> </div> </div> <div class="row"> <div class="col-lg-2 col-md-1 d-none d-lg-block left-ads"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:inline-block;width:120px;height:600px" data-ad-client="ca-pub-7987914246691031" data-ad-slot="1333703444"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <article class="col-lg-8 col-md-10 mx-auto"> <h2 id="outline">Outline</h2> <p>we want to register RN(React Native) Android App to Android App store(Google Play). we need to enroll Android Developer(Google Play Developer) to register Android App to Android App store(Google Play). if you didn’t enroll Android Developer(Google Play Developer), see our previous blog to enroll Android Developer(Google Play Developer).(<a href="https://dev-yakuza.github.io/en/react-native/android-enroll-google-play-developer/" target="_blank">enroll Android developer</a>)</p> <p>this blog post is a series. it’s better to see below together.</p> <ul> <li><a href="https://dev-yakuza.github.io/en/react-native/android-test-on-device/" target="_blank">Android device test</a></li> <li><a href="https://dev-yakuza.github.io/en/react-native/android-running-on-device/" target="_blank">Android build and test</a></li> <li><a href="https://dev-yakuza.github.io/en/react-native/android-enroll-google-play-developer/" target="_blank">enroll Android developer</a></li> </ul> <h2 id="prepare">Prepare</h2> <p>we need RN(React Native) Android App build to register Android App store(Google Play). if you don’t know how to register Android Signing Key and how to build, see our previous blog.</p> <ul> <li><a href="https://dev-yakuza.github.io/en/react-native/android-running-on-device/" target="_blank">Android build and test</a></li> </ul> <div class="in-feed-ads"> <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-7987914246691031" data-ad-slot="2718813593"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <h2 id="reduce-build-file-size">Reduce Build File size</h2> <p>in previous blog(<a href="https://dev-yakuza.github.io/en/react-native/android-running-on-device/" target="_blank">Android build and test</a>), Android build we generated is not minimum file size. we need to reduce RN(React Native) Android build file size to upload Android App store(Google Play).</p> <p>open <code class="highlighter-rouge">android/app/build.gradle</code> in RN(React Native) project folder and modify like below.</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...
defaultConfig {
    ...
    // ndk {
    //     abiFilters "armeabi-v7a", "x86"
    // }
}
...
def enableSeparateBuildPerCPUArchitecture = true

def enableProguardInReleaseBuilds = true
...
buildTypes {
    release {
        shrinkResources enableProguardInReleaseBuilds
        ...
    }
}
..
</code></pre></div></div> <p>and then, execute below command to build RN(React Native) Android App.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># react-native bundle --platform android --dev false --entry-file index.js --bundle-output android/app/src/main/assets/index.android.bundle</span>
<span class="c"># cd android</span>
<span class="c"># ./gradlew assembleRelease</span>
./gradlew app:assembleRelease <span class="nt">--stacktrace</span>
</code></pre></div></div> <p>in here, I added <code class="highlighter-rouge">--stacktrace</code> option, because sometimes build errors occurs when <code class="highlighter-rouge">enableProguardInReleaseBuilds = true</code> is set.</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...
Note: the configuration keeps the entry point 'okhttp3.internal.ws.WebSocketWriter { void writePong(okio.ByteString); }', but not the descriptor class 'okio.ByteString'
Note: the configuration keeps the entry point 'okhttp3.internal.ws.WebSocketWriter { void writeClose(int,okio.ByteString); }', but not the descriptor class 'okio.ByteString'
Note: the configuration keeps the entry point 'okhttp3.internal.ws.WebSocketWriter { void writeControlFrame(int,okio.ByteString); }', but not the descriptor class 'okio.ByteString'
Note: the configuration keeps the entry point 'okhttp3.internal.ws.WebSocketWriter$FrameSink { void write(okio.Buffer,long); }', but not the descriptor class 'okio.Buffer'
Note: the configuration keeps the entry point 'okio.AsyncTimeout { void scheduleTimeout(okio.AsyncTimeout,long,boolean); }', but not the descriptor class 'okio.AsyncTimeout'
Note: the configuration keeps the entry point 'okio.AsyncTimeout { boolean cancelScheduledTimeout(okio.AsyncTimeout); }', but not the descriptor class 'okio.AsyncTimeout'
Note: the configuration keeps the entry point 'okio.AsyncTimeout { okio.Sink sink(okio.Sink); }', but not the descriptor class 'okio.Sink'
Note: the configuration keeps the entry point 'okio.AsyncTimeout { okio.Source source(okio.Source); }', but not the descriptor class 'okio.Source'
Note: the configuration keeps the entry point 'okio.ForwardingSink { ForwardingSink(okio.Sink); }', but not the descriptor class 'okio.Sink'
Note: the configuration keeps the entry point 'okio.ForwardingSink { void write(okio.Buffer,long); }', but not the descriptor class 'okio.Buffer'
Note: the configuration keeps the entry point 'okio.ForwardingSource { ForwardingSource(okio.Source); }', but not the descriptor class 'okio.Source'
Note: the configuration keeps the entry point 'okio.ForwardingSource { long read(okio.Buffer,long); }', but not the descriptor class 'okio.Buffer'
...
* What went wrong:
Execution failed for task ':app:transformClassesAndResourcesWithProguardForRelease'.
&gt; Job failed, see logs for details
...
</code></pre></div></div> <p>if you see the build error like above, modify <code class="highlighter-rouge">android/app/proguard-rules.pro</code> file like below.</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Note: the configuration keeps the entry point 'okio.AsyncTimeout { void scheduleTimeout(okio.AsyncTimeout,long,boolean); }', but not the descriptor class 'okio.AsyncTimeou
-dontwarn okio.**
# Note: the configuration keeps the entry point 'okhttp3.internal.ws.WebSocketWriter$FrameSink { void write(okio.Buffer,long); }', but not the descriptor class 'okio.Buffer'
-dontwarn okhttp3.**
</code></pre></div></div> <p>you could get more build errors depends on what libraries you use. if you get more errors, check the error message and modify <code class="highlighter-rouge">android/app/proguard-rules.pro</code>.</p> <p>you can find build files on below path.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>android/app/build/outputs/apk/release/app-arm64-v8a-release.apk.apk
android/app/build/outputs/apk/release/app-armeabi-v7a-release.apk.apk
android/app/build/outputs/apk/release/app-x86_64-release.apk.apk
android/app/build/outputs/apk/release/app-x86-release.apk.apk
</code></pre></div></div> <p>we need to upload all these files.</p> <div class="in-feed-ads"> <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-7987914246691031" data-ad-slot="2718813593"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <h2 id="register-app">Register App</h2> <p>click below link to go to Google Play Console..</p> <ul> <li>Google Play Console: <a href="https://play.google.com/apps/publish/" rel="nofollow noreferrer" target="_blank">https://play.google.com/apps/publish/</a></li> </ul> <p>when you go to Google Play Console, you can see below screen.</p> <p><img src="/assets/images/category/react-native/android-google-play/google-play-console-home.png" alt="Google Play Console Home"/></p> <p>click <code class="highlighter-rouge">PUBLISH AN ANDROID APP ON GOOGLE PLAY</code> button on top of the screen.</p> <p><img src="/assets/images/category/react-native/android-google-play/app-title.png" alt="Google Play Console App Title"/></p> <p>insert App name and default language to display on Android App store(Google Play).</p> <p><img src="/assets/images/category/react-native/android-google-play/app-info.png" alt="Google Play Console App info"/></p> <p>insert App information to display on Android App store(Google Play).</p> <ul> <li>Title: 50 characters</li> <li>Short description): 80 characters</li> <li>Full description): 4000 characters</li> <li>App Screenshots</li> <li>App icon: 512x512(32-bit PNG, alpha), 1024x500(JPG or 24-bit PNG), 180x120(JPG or 24-bit PNG), 1280x720(JPG or 24-bit PNG), 4096x4096(JPG or 24-bit PNG)</li> <li>Promo Video</li> <li>App Category</li> <li>Developer’s Contact details</li> <li>Privacy Policy</li> </ul> <p>if you finished to insert above informations, let’s see how to register apk file.</p> <p>whne you click <code class="highlighter-rouge">App release</code> menu on the left of the screen, you can see below screen.</p> <p><img src="/assets/images/category/react-native/android-google-play/app-register.png" alt="Google Play App Register"/></p> <p>click <code class="highlighter-rouge">MANAGE</code> button on the <code class="highlighter-rouge">Production</code> in <code class="highlighter-rouge">Production track</code> section.</p> <p><img src="/assets/images/category/react-native/android-google-play/app-production.png" alt="Google Play create production app"/></p> <p>when you see above screen, click <code class="highlighter-rouge">CREATE RELEASE</code> on the bottom of the screen.</p> <p><img src="/assets/images/category/react-native/android-google-play/register-signing-key.png" alt="Google Play register app signing key"/></p> <p>if you want to do App Signing by Google Play, click <code class="highlighter-rouge">FINISH</code> button.</p> <p><img src="/assets/images/category/react-native/android-google-play/accept-agreement.png" alt="Google Play accept agreement"/></p> <p>when you see above screen, click <code class="highlighter-rouge">ACCEPT</code> button to accept the agreement.</p> <p><img src="/assets/images/category/react-native/android-google-play/app_apk.png" alt="Google Play apk upload"/></p> <p>upload <code class="highlighter-rouge">apk</code> file we built.</p> <p><img src="/assets/images/category/react-native/android-google-play/app_release_note.png" alt="Google Play apk release note"/></p> <p>insert App release name and note. click <code class="highlighter-rouge">SAVE</code> button on the right bottom of the screen. and then, you can see <code class="highlighter-rouge">REVIEW</code> button activate. click <code class="highlighter-rouge">REVIEW</code> button.</p> <p><img src="/assets/images/category/react-native/android-google-play/not_yet.png" alt="Google Play register not available"/></p> <p>we didn’t finish all procedures to register app, so <code class="highlighter-rouge">START ROLLOUT TO PRODUCTION</code> button on right bottom of the screen is not activated. click <code class="highlighter-rouge">Content rating</code> on left menu.</p> <p><img src="/assets/images/category/react-native/android-google-play/app_content_rating.png" alt="Google Play Content rating"/></p> <p>this screen is the screen to set Content Rating. click <code class="highlighter-rouge">CONTINUE</code> button.</p> <p><img src="/assets/images/category/react-native/android-google-play/app_content_rating_insert_info.png" alt="Google Play insert Content Rating info"/></p> <p>insert your email information and select App category.</p> <p><img src="/assets/images/category/react-native/android-google-play/app_content_rating_agreement.png" alt="Google Play accept Content Rating info"/></p> <p>select App informations for Google to decide Content rating. after selecting all, click <code class="highlighter-rouge">SAVE QUESTIONNAIRE</code> button and click <code class="highlighter-rouge">CALCULATE RATING</code> if it’s activate.</p> <p><img src="/assets/images/category/react-native/android-google-play/app_content_rating_completed.png" alt="Google Play completed to select Content rating info"/></p> <p>you can see the result based on the information you selected. after checking the result, click <code class="highlighter-rouge">APPLYING RATING</code> button.</p> <p><img src="/assets/images/category/react-native/android-google-play/calculated_content_rating.png" alt="Google Play completed to set Content rating"/></p> <p>completed to set Content rating. iif you have any update to affect Content rating, you should recalculate it by above procedure.</p> <p><img src="/assets/images/category/react-native/android-google-play/content_rating.png" alt="Google Play Content rating"/></p> <p>let’s go to the end of the procedure. click <code class="highlighter-rouge">Pricing &amp; distribution</code> on left menu.</p> <p><img src="/assets/images/category/react-native/android-google-play/app_price_info.png" alt="Google Play set App price info"/></p> <p>this screen is the screen to set App price. we’ll provide our app for free so we configured <code class="highlighter-rouge">FREE</code>. and there are questions about your app is to target the children, or your app includes advertisements, etc. after selecting all requirements, click <code class="highlighter-rouge">SAVE DRAFT</code> on the bottom of the screen.</p> <div class="in-feed-ads"> <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-7987914246691031" data-ad-slot="2718813593"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <h2 id="apply-app-review">Apply App Review</h2> <p>finally, we’re ready to apply App review. click <code class="highlighter-rouge">App release</code> menu.</p> <p><img src="/assets/images/category/react-native/android-google-play/app_review.png" alt="Google Play App review"/></p> <p>click <code class="highlighter-rouge">EDIT RELEASE</code> in <code class="highlighter-rouge">Producion</code> section.</p> <p><img src="/assets/images/category/react-native/android-google-play/app_review_info.png" alt="Google Play App review infor"/></p> <p>we can see contents we wrote. scroll to the bottom and click <code class="highlighter-rouge">REVIEW</code> button.</p> <p><img src="/assets/images/category/react-native/android-google-play/apply_app_review_info.png" alt="Google Play apply App review"/></p> <p>when you see above screen, scroll down and click <code class="highlighter-rouge">START ROLLOUT TO PRODUCTION</code>.</p> <p><img src="/assets/images/category/react-native/android-google-play/register_app.png" alt="Google Play register App"/></p> <p>if you’re ready to apply App review, click <code class="highlighter-rouge">CONFIRM</code> button.</p> <h2 id="fix-error">Fix Error</h2> <p>when you execute the command below,</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./gradlew assembleRelease
</code></pre></div></div> <p>sometime, you get the error message like below and build is failed.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Execution failed <span class="k">for </span>task <span class="s1">':app:transformDexArchiveWithExternalLibsDexMergerForRelease'</span><span class="nb">.</span>
</code></pre></div></div> <p>add the code below to <code class="highlighter-rouge">android/app/build.gradle</code> and try to build again.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">defaultConfig</span> <span class="p">{</span>
    <span class="p">...</span>
    <span class="nx">multiDexEnabled</span> <span class="kc">true</span>
<span class="p">}</span>
</code></pre></div></div> <h3 id="fix-build-error">Fix Build Error</h3> <p>when I built RN(React Native) version 0.58 with the command below,</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./gradlew assembleRelease
</code></pre></div></div> <p>I got the error like below.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">--auto-add-overlay</span><span class="se">\</span>
          <span class="nt">--non-final-ids</span><span class="se">\</span>
          <span class="nt">-0</span><span class="se">\</span>
          apk<span class="se">\</span>
          <span class="nt">--no-version-vectors</span>
  Daemon:  AAPT2 aapt2-3.2.1-4818971-osx Daemon <span class="c">#0</span>
</code></pre></div></div> <p>execute the command below to build.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./gradlew app:assembleRelease
</code></pre></div></div> <h3 id="permission-error">Permission Error</h3> <p>after building RN(React Native) 0.58, when I uploaded the file to Google Play, I got the error message like my file include <code class="highlighter-rouge">android.permission.READ_PHONE_STATE</code> permission.</p> <p>the solution is on the official site.</p> <p><a href="https://facebook.github.io/react-native/docs/removing-default-permissions" rel="nofollow noreferrer" target="_blank">https://facebook.github.io/react-native/docs/removing-default-permissions</a></p> <p>let’s do it!</p> <p>open and edit <code class="highlighter-rouge">android/app/src/main/AndroidManifest.xml</code> file like below.</p> <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;manifest</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">package=</span><span class="s">"XXXXXXXX"</span>
<span class="err">+</span>   <span class="na">xmlns:tools=</span><span class="s">"http://schemas.android.com/tools"</span>
    <span class="nt">&gt;</span>

    <span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">"android.permission.INTERNET"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">"android.permission.SYSTEM_ALERT_WINDOW"</span> <span class="nt">/&gt;</span>
+   <span class="nt">&lt;uses-permission</span> <span class="na">tools:node=</span><span class="s">"remove"</span> <span class="na">android:name=</span><span class="s">"android.permission.READ_PHONE_STATE"</span> <span class="nt">/&gt;</span>
+   <span class="nt">&lt;uses-permission</span> <span class="na">tools:node=</span><span class="s">"remove"</span> <span class="na">android:name=</span><span class="s">"android.permission.WRITE_EXTERNAL_STORAGE"</span> <span class="nt">/&gt;</span>
+   <span class="nt">&lt;uses-permission</span> <span class="na">tools:node=</span><span class="s">"remove"</span> <span class="na">android:name=</span><span class="s">"android.permission.READ_EXTERNAL_STORAGE"</span> <span class="nt">/&gt;</span>
...
</code></pre></div></div> <p>and create <code class="highlighter-rouge">android/app/src/release/AndroidManifest.xml</code> file and copy-paste the content below to it.(you must change the package name with yours)</p> <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;manifest</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">package=</span><span class="s">"XXXXXXX"</span>
    <span class="na">xmlns:tools=</span><span class="s">"http://schemas.android.com/tools"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;uses-permission</span> <span class="na">tools:node=</span><span class="s">"remove"</span> <span class="na">android:name=</span><span class="s">"android.permission.SYSTEM_ALERT_WINDOW"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;/manifest&gt;</span>
</code></pre></div></div> <p>completed! you can upload with no problems!</p> <div class="in-feed-ads"> <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-7987914246691031" data-ad-slot="2718813593"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> <h3 id="android-442-kitkat">Android 4.4.2 Kitkat</h3> <p>when I tested the build file of RN(React Native) 0.58 on Android 4.4.2(Kitkat) device, the app was not executed with the crash. the problem was <code class="highlighter-rouge">multiDexEnabled</code> and I added some code like below to resolve it.</p> <p>open <code class="highlighter-rouge">android/app/build.gradle</code> file in RN(React Native) and modify it like below.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dependencies <span class="o">{</span>
    implementation project<span class="o">(</span><span class="s1">':react-native-firebase'</span><span class="o">)</span>
    ...
    implementation <span class="s1">'com.android.support:multidex:1.0.1'</span>
<span class="o">}</span>
</code></pre></div></div> <p>also, modify <code class="highlighter-rouge">MainApplication.java</code> file like below.</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">android.app.Application</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.content.Context</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.support.multidex.MultiDex</span><span class="o">;</span>
<span class="o">...</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainApplication</span> <span class="kd">extends</span> <span class="n">Application</span> <span class="kd">implements</span> <span class="n">ReactApplication</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">attachBaseContext</span><span class="o">(</span><span class="n">Context</span> <span class="n">base</span><span class="o">)</span> <span class="o">{</span>
      <span class="kd">super</span><span class="o">.</span><span class="na">attachBaseContext</span><span class="o">(</span><span class="n">base</span><span class="o">);</span>
      <span class="n">MultiDex</span><span class="o">.</span><span class="na">install</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
  <span class="o">}</span>
  <span class="o">...</span>
<span class="o">}</span>
</code></pre></div></div> <p>after editing, you can see your app work on Android 4.4.2(KitKat).</p> <h3 id="unoptimised-apk">Unoptimised APK</h3> <p>recently, when I uploaded APK files for update, I got warning message like below.</p> <p><img src="/assets/images/category/react-native/android-google-play/unoptimised-apk-android-app-bundle.png" alt="unoptimised apk android app bundle warning"/></p> <p>execute the command below to make app bundle file instead of apk file</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./gradlew app:bundleRelease
</code></pre></div></div> <p>you can find <code class="highlighter-rouge">android/app/build/outputs/bundle/release/app.aab</code> created.</p> <p>just upload this one file!</p> <p>in my case, I use script in <code class="highlighter-rouge">package.json</code> like below.</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">...</span><span class="w">
</span><span class="s2">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="err">...</span><span class="w">
    </span><span class="s2">"prebuild-android"</span><span class="p">:</span><span class="w"> </span><span class="s2">"react-native bundle --platform android --dev false --entry-file index.js --bundle-output android/app/src/main/assets/index.android.bundle"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"build-android"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cd ./android &amp;&amp; ./gradlew app:bundleRelease --stacktrace "</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="err">...</span><span class="w">
</span></code></pre></div></div> <p>and execute the command below to build.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm run build-android
</code></pre></div></div> <h2 id="completed">Completed</h2> <p>we’ve done to register App to Android App store(Google Play). App review takes 2 ~ 3 hours. if App review is finished, you can search and download your App in Android App store(Google Play).</p> <div class="buy_me_a_coffee_container"> <style> .bmc-button img { width: 27px !important; margin-bottom: 1px !important; box-shadow: none !important; border: none !important; vertical-align: middle !important; } .bmc-button { line-height: 36px !important; height: 37px !important; text-decoration: none !important; display: inline-flex !important; color: #ffffff !important; background-color: #ff813f !important; border-radius: 3px !important; border: 1px solid transparent !important; padding: 0px 9px !important; font-size: 17px !important; letter-spacing: -0.08px !important; box-shadow: 0px 1px 2px rgba(190, 190, 190, 0.5) !important; -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important; margin: 0 auto !important; font-family: 'Lato', sans-serif !important; -webkit-box-sizing: border-box !important; box-sizing: border-box !important; -o-transition: 0.3s all linear !important; -webkit-transition: 0.3s all linear !important; -moz-transition: 0.3s all linear !important; -ms-transition: 0.3s all linear !important; transition: 0.3s all linear !important; } .bmc-button:hover, .bmc-button:active, .bmc-button:focus { -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important; text-decoration: none !important; box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important; opacity: 0.85 !important; color: #ffffff !important; }</style><link href="https://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext" rel="stylesheet"/><a class="bmc-button" target="_blank" href="https://www.buymeacoffee.com/j0cXhWiza" rel="noopener noreferrer nofollow"><img src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg" alt="Buy me a coffee"/><span style="margin-left:5px">Buy me a coffee</span></a> </div> </article> <div class="col-lg-2 col-md-1 d-none d-lg-block right-ads"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:inline-block;width:120px;height:600px" data-ad-client="ca-pub-7987914246691031" data-ad-slot="9858937018"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> </div> </div> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7987914246691031" data-ad-slot="1936214968" data-ad-format="auto" data-full-width-responsive="true"></ins> <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script> <div class="row"> <div class="col-lg-8 col-md-10 mx-auto"> <div class="post-list-container"> <div class="header"> <div class="header-title">Posts</div> </div> <div class="body"> <div class="list-group"></div> </div> <div class="footer"> <ul class="pagination"> <li class="page-item page-item--previous"> <div class="page-link" aria-label="Previous"> <span aria-hidden="true">&laquo;</span> <span class="sr-only">Previous</span> </div> </li> <li class="page-item page-item--next"> <div class="page-link" aria-label="Next"> <span aria-hidden="true">&raquo;</span> <span class="sr-only">Next</span> </div> </li> </ul> </div> </div> <script type="text/javascript">document.addEventListener("DOMContentLoaded",function(){$.get("/en/api/react-native/posts.json",function(e){e.length>0&&($(".post-list-container").show(),e.forEach(function(e){var a=$(".post-list-container .body .list-group"),t=a.find(".page-"+e.page),i=e.url.indexOf(location.pathname)>=0?"active":"",s="";if(s+='<a href="'+e.url+'" class="list-group-item list-group-item-action flex-column align-items-start '+i+'">',s+='  <div class="d-flex w-100 justify-content-between">',s+='    <div class="mb-1">'+e.title+"</div>",s+="  </div>",s+='  <div class="body-text">'+e.description+"</div>",s+="</a>",t.length>0)t.addClass(i),t.append(s);else{var n="";n+='<div class="page page-'+e.page+" "+i+'">',n+=s,n+="</div>",a.append(n)}var p="";p+='<li class="page-item page-item--link '+i+'" data-page="'+e.page+'">',p+='  <div class="page-link" data-page="'+e.page+'">',p+=e.page,p+="  </div>",p+="</li>",0===$('.post-list-container .footer .page-item[data-page="'+e.page+'"]').length&&$(".post-list-container .footer .page-item--next").before(p),"active"===i&&$("li[data-page="+e.page+"]").addClass(i),e.page>1&&$(".footer").css("display","flex")}))}),$("body").on("click",".page-link",function(){var e=$(".post-list-container .body .list-group"),a=$(".footer .pagination"),t=a.find(".page-item.active"),i=t.find(".page-link").data("page"),s=$(this).data("page");if($(this).closest(".page-item").hasClass("page-item--previous"))s=i>1?i-1:1;else if($(this).closest(".page-item").hasClass("page-item--next")){var n=a.find(".page-item--link").length;s=i<n?i+1:n}else var s=$(this).data("page");e.find(".page").removeClass("active"),e.find(".page-"+s).addClass("active"),a.find(".page-item").removeClass("active"),a.find('.page-link[data-page="'+s+'"]').closest(".page-item").addClass("active")})});</script> </div> <div class="col-lg-8 col-md-10 mx-auto"> <hr/> <div id="disqus_thread"></div> <script>var disqus_config=function(){this.page.url="https://dev-yakuza.github.io/react-native/android-google-play/",this.page.identifier="https://dev-yakuza.github.io/react-native/android-google-play/"};!function(){var t=document,e=t.createElement("script");e.src="https://https-dev-yakuza-github-io-en.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}();</script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> </div> </div> </div> </div> <hr/> <footer> <div class="container"> <div class="row"> <div class="col-lg-8 col-md-10 mx-auto share-title"> SHARE </div> <div class="col-lg-8 col-md-10 mx-auto"> <ul class="list-inline text-center"> <li class="list-inline-item"> <a href="https://twitter.com/intent/tweet?text=register Android App store&url=https://dev-yakuza.github.io/react-native/android-google-play/" rel="nofollow noreferrer noopener" target="_blank"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> </li> <li class="list-inline-item"> <a href="https://www.facebook.com/sharer/sharer.php?u=https://dev-yakuza.github.io/react-native/android-google-play/" rel="nofollow noreferrer noopener" target="_blank"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-facebook fa-stack-1x fa-inverse"></i> </span> </a> </li> <li class="list-inline-item"> <a href="https://dev-yakuza.github.io/en/feed.xml" rel="nofollow noreferrer noopener" target="_blank"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-rss-square fa-stack-1x fa-inverse" aria-hidden="true"></i> </span> </a> </li> </ul> <p class="copyright text-muted"> Copyright &copy; dev.yakuza@gmail.com 2019 </p> </div> </div> </div> </footer> <script src="/assets/vendor/jquery/jquery.min.js"></script> <script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script> <script src="/assets/vendor/startbootstrap-clean-blog/js/clean-blog.min.js"></script> <script src="/assets/scripts.js"></script> </body> </html>