<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"/> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/> <meta name="twitter:title" content="Firebase Admob"/> <meta name="twitter:description" content="let's use react-native-firebase library to display Google Admob."/> <meta name="twitter:card" content="summary_large_image"/> <meta name="twitter:site" content="@DevYakuza"/> <meta name="twitter:creator" content="@DevYakuza"/> <title>Firebase Admob - let's use react-native-firebase library to display Google Admob.</title> <meta name="description" content="let&#39;s use react-native-firebase library to display Google Admob."/> <meta property="og:url" content="https://dev-yakuza.github.io/en/react-native/react-native-firebase-admob/"/> <meta name="generator" content="Jekyll v3.7.4"/> <meta property="og:title" content="Firebase Admob"/> <meta name="author" content="dev.yakuza@gmail.com"/> <meta property="og:locale" content="en"/> <meta name="description" content="let’s use react-native-firebase library to display Google Admob."/> <meta property="og:description" content="let’s use react-native-firebase library to display Google Admob."/> <link rel="canonical" href="https://dev-yakuza.github.io/en/react-native/react-native-firebase-admob/"/> <meta property="og:url" content="https://dev-yakuza.github.io/react-native/react-native-firebase-admob/"/> <meta property="og:site_name" content="Dreams the art through programming"/> <meta property="og:image" content="https://dev-yakuza.github.io/assets/images/category/react-native/react-native-firebase-admob.jpg"/> <meta property="og:type" content="article"/> <meta property="article:published_time" content="2018-11-17T00:00:00+09:00"/> <script type="application/ld+json">
{"description":"let’s use react-native-firebase library to display Google Admob.","author":{"@type":"Person","name":"dev.yakuza@gmail.com"},"@type":"BlogPosting","url":"https://dev-yakuza.github.io/react-native/react-native-firebase-admob/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://dev-yakuza.github.io/assets/images/icon.png"},"name":"dev.yakuza@gmail.com"},"image":"https://dev-yakuza.github.io/assets/images/category/react-native/react-native-firebase-admob.jpg","headline":"Firebase Admob","dateModified":"2019-03-19T16:29:30+09:00","datePublished":"2018-11-17T00:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://dev-yakuza.github.io/react-native/react-native-firebase-admob/"},"@context":"http://schema.org"}</script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-125408913-1"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-125408913-1");</script> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-7987914246691031",enable_page_level_ads:!0});</script> <link href="https://fonts.googleapis.com/css?family=Noto+Sans" rel="stylesheet"/> <link rel="stylesheet" href="/en/assets/vendor/bootstrap/css/bootstrap.min.css"/> <link rel="stylesheet" href="/en/assets/vendor/font-awesome/css/font-awesome.min.css"/> <link rel="stylesheet" href="/en/assets/main.css?v=20190404"/> <link rel="alternate" type="application/rss+xml" title="Dreams the art through programming" href="/en/feed.xml"/> <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "dev.yakuza",
      "url": "https://dev-yakuza.github.io",
      "sameAs": [
        "https://www.facebook.com/yakuza.dev.54",
        "https://www.instagram.com/dev_yakuza/",
        "https://twitter.com/DevYakuza"
      ]
    }
  </script> <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "url": "https://dev-yakuza.github.io",
      "logo": "https://dev-yakuza.github.io/assets/images/icon.png"
    }
  </script><script type="application/ld+json">
    {
      "@context":"http://schema.org",
      "@type":"ItemList",
      "itemListElement":[{
          "@type":"ListItem",
          "position":1,"url": "https://dev-yakuza.github.io/en/react-native/installation/"},{
          "@type":"ListItem",
          "position":2,"url": "https://dev-yakuza.github.io/en/react-native/typescript/"},{
          "@type":"ListItem",
          "position":3,"url": "https://dev-yakuza.github.io/en/react-native/styled-components/"},{
          "@type":"ListItem",
          "position":4,"url": "https://dev-yakuza.github.io/en/react-native/react-navigation/"},{
          "@type":"ListItem",
          "position":5,"url": "https://dev-yakuza.github.io/en/react-native/app-icon/"},{
          "@type":"ListItem",
          "position":6,"url": "https://dev-yakuza.github.io/en/react-native/splash-image/"},{
          "@type":"ListItem",
          "position":7,"url": "https://dev-yakuza.github.io/en/react-native/nativebase/"},{
          "@type":"ListItem",
          "position":8,"url": "https://dev-yakuza.github.io/en/react-native/react-native-vector-icons/"},{
          "@type":"ListItem",
          "position":9,"url": "https://dev-yakuza.github.io/en/react-native/react-native-device-info/"},{
          "@type":"ListItem",
          "position":10,"url": "https://dev-yakuza.github.io/en/react-native/react-native-tts/"},{
          "@type":"ListItem",
          "position":11,"url": "https://dev-yakuza.github.io/en/react-native/react-native-admob/"},{
          "@type":"ListItem",
          "position":12,"url": "https://dev-yakuza.github.io/en/react-native/ios-test-on-device/"},{
          "@type":"ListItem",
          "position":13,"url": "https://dev-yakuza.github.io/en/react-native/ios-running-on-device/"},{
          "@type":"ListItem",
          "position":14,"url": "https://dev-yakuza.github.io/en/react-native/ios-enroll-developer-program/"},{
          "@type":"ListItem",
          "position":15,"url": "https://dev-yakuza.github.io/en/react-native/ios-certification/"},{
          "@type":"ListItem",
          "position":16,"url": "https://dev-yakuza.github.io/en/react-native/ios-testflight/"},{
          "@type":"ListItem",
          "position":17,"url": "https://dev-yakuza.github.io/en/react-native/ios-app-store/"},{
          "@type":"ListItem",
          "position":18,"url": "https://dev-yakuza.github.io/en/react-native/react-native-analytics-bridge/"},{
          "@type":"ListItem",
          "position":19,"url": "https://dev-yakuza.github.io/en/react-native/react-native-firebase-admob/"},{
          "@type":"ListItem",
          "position":20,"url": "https://dev-yakuza.github.io/en/react-native/android-test-on-device/"},{
          "@type":"ListItem",
          "position":21,"url": "https://dev-yakuza.github.io/en/react-native/android-running-on-device/"},{
          "@type":"ListItem",
          "position":22,"url": "https://dev-yakuza.github.io/en/react-native/ios-change-simulator/"},{
          "@type":"ListItem",
          "position":23,"url": "https://dev-yakuza.github.io/en/react-native/react-native-firebase-analytics/"},{
          "@type":"ListItem",
          "position":24,"url": "https://dev-yakuza.github.io/en/react-native/ios-app-crash-debugging/"},{
          "@type":"ListItem",
          "position":25,"url": "https://dev-yakuza.github.io/en/react-native/firebase-crashlytics/"},{
          "@type":"ListItem",
          "position":26,"url": "https://dev-yakuza.github.io/en/react-native/react-native-animatable/"},{
          "@type":"ListItem",
          "position":27,"url": "https://dev-yakuza.github.io/en/react-native/android-enroll-google-play-developer/"},{
          "@type":"ListItem",
          "position":28,"url": "https://dev-yakuza.github.io/en/react-native/android-google-play/"},{
          "@type":"ListItem",
          "position":29,"url": "https://dev-yakuza.github.io/en/react-native/react-native-voice/"},{
          "@type":"ListItem",
          "position":30,"url": "https://dev-yakuza.github.io/en/react-native/react-native-mail/"},{
          "@type":"ListItem",
          "position":31,"url": "https://dev-yakuza.github.io/en/react-native/react-native-fs/"},{
          "@type":"ListItem",
          "position":32,"url": "https://dev-yakuza.github.io/en/react-native/react-native-lottie/"},{
          "@type":"ListItem",
          "position":33,"url": "https://dev-yakuza.github.io/en/react-native/react-native-swipe-gestures/"},{
          "@type":"ListItem",
          "position":34,"url": "https://dev-yakuza.github.io/en/react-native/react-native-linear-gradient/"},{
          "@type":"ListItem",
          "position":35,"url": "https://dev-yakuza.github.io/en/react-native/react-native-splash-screen/"},{
          "@type":"ListItem",
          "position":36,"url": "https://dev-yakuza.github.io/en/react-native/react-native-rate/"},{
          "@type":"ListItem",
          "position":37,"url": "https://dev-yakuza.github.io/en/react-native/react-native-itunes-share-file/"},{
          "@type":"ListItem",
          "position":38,"url": "https://dev-yakuza.github.io/en/react-native/react-native-status-bar/"},{
          "@type":"ListItem",
          "position":39,"url": "https://dev-yakuza.github.io/en/react-native/react-native-support-tablet/"},{
          "@type":"ListItem",
          "position":40,"url": "https://dev-yakuza.github.io/en/react-native/react-native-sqlite-storage/"}]
    }
  </script><link rel="stylesheet" href="/en/assets/highlight/railscasts.css"/> <script src="/assets/highlight/highlight.pack.js"></script> <script>hljs.initHighlightingOnLoad();</script> </head> <body> <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav"> <div class="container"> <a class="navbar-brand" href="/en/"> <img src="/assets/images/icon.png" alt="dev.yakuza blog logo"/> ヤクザ </a> <div class="navbar-menu-container"> <div class="collapse navbar-collapse"> <ul class="navbar-nav ml-auto"> <li class="nav-item"> <a class="nav-link" href="/en/">Home</a> </li> <li class="nav-item dropdown"> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Category </a> <div class="dropdown-menu" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/en/kumoncho/">kumoncho</a> <a class="dropdown-item" href="/en/ildangongbu/">일단공부(Il-Dan-Gong-Bu)</a> <a class="dropdown-item" href="/en/git/">git</a> <a class="dropdown-item" href="/en/environment/">dev environment</a> <a class="dropdown-item" href="/en/jekyll/">jekyll blog</a> <a class="dropdown-item" href="/en/laravel/">Laravel</a> <a class="dropdown-item" href="/en/react-native/">react-native</a> <a class="dropdown-item" href="/en/blaboo/">BlaBoo</a> </div> </li> <li class="nav-item"> <a class="nav-link" target="_blank" href=" /app/list/en/">Apps</a> </li> <li class="nav-item"> <a class="nav-link" href="/en/contact/">Contact</a> </li> </ul> </div> <div class="btn-group-sm btn-translate-group dropdown"> <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="fa fa-language" aria-hidden="true"></i> </button> <div class="dropdown-menu"> <a class="dropdown-item menu-ko" href="/ko/react-native/react-native-firebase-admob/">한국어</a> <a class="dropdown-item menu-en" href="/en/react-native/react-native-firebase-admob/">English</a> <a class="dropdown-item menu-ja" href="/en/react-native/react-native-firebase-admob/">日本語</a> </div> </div> <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"> Menu <i class="fa fa-bars"></i> </button> </div> <div class="collapse navbar-collapse" id="navbarResponsive"> <ul class="navbar-nav ml-auto"> <li class="nav-item"> <a class="nav-link" href="/en/">Home</a> </li> <li class="nav-item dropdown"> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Category </a> <div class="dropdown-menu" aria-labelledby="navbarDropdown"> <a class="dropdown-item" href="/en/kumoncho/">kumoncho</a> <a class="dropdown-item" href="/en/ildangongbu/">일단공부(Il-Dan-Gong-Bu)</a> <a class="dropdown-item" href="/en/git/">git</a> <a class="dropdown-item" href="/en/environment/">dev environment</a> <a class="dropdown-item" href="/en/jekyll/">jekyll blog</a> <a class="dropdown-item" href="/en/laravel/">Laravel</a> <a class="dropdown-item" href="/en/react-native/">react-native</a> <a class="dropdown-item" href="/en/blaboo/">BlaBoo</a> </div> </li> <li class="nav-item"> <a class="nav-link" href="/en/contact/">Contact</a> </li> </ul> </div> </div> </nav> <script>document.addEventListener("DOMContentLoaded",function(){var e=window.location.pathname;e.indexOf("/en/")>=0?($(".menu-ko").prop("href",e.replace("/en/","/ko/")),$(".menu-en").prop("href",e),$(".menu-ja").prop("href",e.replace("/en/","/"))):e.indexOf("/ko/")>=0?($(".menu-ko").prop("href",e),$(".menu-en").prop("href",e.replace("/ko/","/en/")),$(".menu-ja").prop("href",e.replace("/ko/","/"))):($(".menu-ko").prop("href","/ko"+e),$(".menu-en").prop("href","/en"+e),$(".menu-ja").prop("href",e)),$("body").on("show.bs.dropdown",".dropdown",function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideDown()}),$("body").on("hide.bs.dropdown",".dropdown",function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideUp()})});</script> <header class="masthead" style="background-image: url('/assets/images/category/react-native/react-native-firebase-admob.jpg')"> <div class="overlay"></div> <div class="container"> <div class="row"> <div class="col-lg-8 col-md-10 mx-auto"> <div class="post-heading"> <h1>Firebase Admob</h1> <div class="heading-date"> <i class="fa fa-calendar" aria-hidden="true"></i> 2019-03-19 </div> <h2 class="subheading">let's use react-native-firebase library to display Google Admob.</h2> </div> </div> </div> </div> </header> <div class="container"> <div class="row"> <div class="col-lg-8 col-md-10 mx-auto"> <nav aria-label="breadcrumb"> <ol class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList"> <li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"> <a itemtype="http://schema.org/Thing" itemprop="item" href="https://dev-yakuza.github.io"> <span itemprop="name">Home</span> </a> <meta itemprop="position" content="1"/> </li> <li class="breadcrumb-item" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"> <a itemtype="http://schema.org/Thing" itemprop="item" href="https://dev-yakuza.github.io/en/react-native"> <span itemprop="name">react-native</span> </a> <meta itemprop="position" content="2"/> </li> <li class="breadcrumb-item active" aria-current="page" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"> <a itemtype="http://schema.org/Thing" itemprop="item" href="https://dev-yakuza.github.io/en/react-native/react-native-firebase-admob/"> <span itemprop="name">Firebase Admob</span> </a> <meta itemprop="position" content="3"/> </li> </ol> </nav> </div> </div> <div class="row"> <article class="col-lg-8 col-md-10 mx-auto"> <h2 id="outline">outline</h2> <p>we used Google Admob to display advertisements. we’ve used react-native-admob library before, now we use react-native firebase because we wanted to use features like Google Admob, Analytics and so on.</p> <p>in here, we introduce how to use freely Google Firebase for Google Admob and Analytics.</p> <p>if you want to use simply Google admob only, see previous blog post - <a href="https://dev-yakuza.github.io/en/react-native/react-native-admob/" target="_blank">Google Admob</a> and check how to use react-native-admob library for Google Admob.</p> <p>below link is react-native-firebase official page. you can see every details in official site.</p> <ul> <li>official site: <a href="https://github.com/invertase/react-native-firebase" rel="nofollow noreferrer" target="_blank">react-native-firebase</a></li> </ul> <h2 id="isntall-library">isntall library</h2> <p>execute below command to install react-native-firebase library.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install <span class="nt">--save</span> react-native-firebase
</code></pre></div></div> <h2 id="link-library">link library</h2> <p>execute below command to link react-native-firebase library to RN(react native) project.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>react-native link react-native-firebase
</code></pre></div></div> <h2 id="create-firebase-project">create firebase project.</h2> <p>next, we need to create the project in Google Firebase. click below link to go to Google Firebase site.</p> <ul> <li>Google Firebase: <a href="https://firebase.google.com" rel="nofollow noreferrer" target="_blank">https://firebase.google.com</a></li> </ul> <p><img src="/assets/images/category/react-native/react-native-firebase-admob/google-firebase.png" alt="google firebase"/></p> <p>click <code class="highlighter-rouge">SIGN IN</code> button on the right top of the page to login.</p> <p><img src="/assets/images/category/react-native/react-native-firebase-admob/google-firebase-after-login.png" alt="google firebase after login"/></p> <p>after login, click <code class="highlighter-rouge">GO TO CONSOLE</code> on the right top of the page to go to Google Firebase Console.</p> <p><img src="/assets/images/category/react-native/react-native-firebase-admob/google-firebase-console.png" alt="google firebase console"/></p> <p>click <code class="highlighter-rouge">+ Add project</code> button in Google Firebase Console to add a project.</p> <p><img src="/assets/images/category/react-native/react-native-firebase-admob/google-firebase-console-add-project.png" alt="google firebase console add project"/></p> <p>insert the project informations and click <code class="highlighter-rouge">Create project</code> button to create the project.</p> <h2 id="configure-google-admob">configure Google Admob</h2> <p>we need to configure advertisements in Google Admob. click <code class="highlighter-rouge">Grow</code> &gt; <code class="highlighter-rouge">Admob</code> menu in Google Firebase Console. you can see below screen.</p> <p><img src="/assets/images/category/react-native/react-native-firebase-admob/google-firebase-console-admob.png" alt="google firebase console admob"/></p> <p>click <code class="highlighter-rouge">linking your apps in Admob</code> on the bottom middle of the page to go to Google Admob Page.</p> <p>if you want to know how to set an advertisement in Google Admob, see <a href="https://dev-yakuza.github.io/en/react-native/react-native-admob/" target="_blank">Google Admob</a> blog and configure the advertisement.</p> <h2 id="set-firebase-in-ios">set firebase in iOS</h2> <p>when you select the project in Google Firebase Console, you can see below screen.</p> <p><img src="/assets/images/category/react-native/react-native-firebase-admob/google-firebase-console-project.png" alt="google firebase console project"/></p> <p>click <code class="highlighter-rouge">iOS</code> button on the center of the screen to go to iOS configuration page.</p> <p><img src="/assets/images/category/react-native/react-native-firebase-admob/google-firebase-console-project-ios.png" alt="google firebase console project ios"/></p> <p>insert your app bundle ID and click <code class="highlighter-rouge">Register app</code> button.</p> <p><img src="/assets/images/category/react-native/react-native-firebase-admob/googleservice-info-plist-download.png" alt="GoogleService-Info.plist download"/></p> <p>download <code class="highlighter-rouge">GoogleService-Info.plist</code> file created by Google Firebase and copy to same location of the <code class="highlighter-rouge">info.plist</code>. after copying <code class="highlighter-rouge">GoogleService-Info.plist</code>, click <code class="highlighter-rouge">Next</code> button.</p> <p><img src="/assets/images/category/react-native/react-native-firebase-admob/add-firebase-sdk.png" alt="add Firebase SDK"/></p> <p>add Google Firebase SDK to RN(react native) project followed the manual shown on the screen.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pod init
</code></pre></div></div> <p>add Google Firebase SDK to <code class="highlighter-rouge">Podfile</code>.</p> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">target</span> <span class="s1">'blaboo'</span> <span class="k">do</span>
  <span class="c1"># Uncomment the next line if you're using Swift or would like to use dynamic frameworks</span>
  <span class="c1"># use_frameworks!</span>

  <span class="c1"># Pods for blaboo</span>
  <span class="n">pod</span> <span class="s1">'Firebase/Core'</span>
  <span class="n">pod</span> <span class="s1">'Firebase/AdMob'</span>

<span class="c1">#  target 'blaboo-tvOS' do</span>
<span class="c1">#    inherit! :search_paths</span>
<span class="c1">#    # Pods for testing</span>
<span class="c1">#  end</span>

  <span class="n">target</span> <span class="s1">'blabooTests'</span> <span class="k">do</span>
    <span class="n">inherit!</span> <span class="ss">:search_paths</span>
    <span class="c1"># Pods for testing</span>
  <span class="k">end</span>

<span class="k">end</span>
</code></pre></div></div> <p>install Google Firebase SDK.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pod install
<span class="c"># pod update</span>
</code></pre></div></div> <p><img src="/assets/images/category/react-native/react-native-firebase-admob/edit-appdelegate.png" alt="edit appdelegate.m for firebase"/></p> <p>add codes like below to <code class="highlighter-rouge">AppDelegate.m</code> file in RN(react native)</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">...</span>
<span class="p">@</span><span class="nd">import</span> <span class="nx">Firebase</span><span class="p">;</span>
<span class="p">...</span>
</code></pre></div></div> <p>import Google Firebase SDK.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">...</span>
<span class="o">-</span> <span class="p">(</span><span class="nx">BOOL</span><span class="p">)</span><span class="nx">application</span><span class="p">:(</span><span class="nx">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nx">application</span> <span class="nx">didFinishLaunchingWithOptions</span><span class="p">:(</span><span class="nx">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nx">launchOptions</span>
<span class="p">...</span>
<span class="p">[</span><span class="nx">FIRApp</span> <span class="nx">configure</span><span class="p">];</span>
<span class="p">...</span>
<span class="nx">RCTRootView</span> <span class="o">*</span><span class="nx">rootView</span> <span class="o">=</span> <span class="p">[[</span><span class="nx">RCTRootView</span> <span class="nx">alloc</span><span class="p">]</span> <span class="nx">initWithBundleURL</span><span class="p">:</span><span class="nx">jsCodeLocation</span>
<span class="p">...</span>
<span class="p">[</span><span class="nx">GADMobileAds</span> <span class="nx">configureWithApplicationID</span><span class="p">:@</span><span class="s2">"ca-app-pub-7987914246691031~8295071692"</span><span class="p">];</span>
<span class="k">return</span> <span class="nx">YES</span><span class="p">;</span>
<span class="p">...</span>
</code></pre></div></div> <p>initialize Google Firebase SDK. and then, initialize Google Admob with App ID from Google Admob. if you don’t know how to get App ID from Google Admob, see <a href="https://dev-yakuza.github.io/en/react-native/react-native-admob/" target="_blank">Google Admob</a> blog.</p> <p><img src="/assets/images/category/react-native/react-native-firebase-admob/connect-firebase-to-app.png" alt="connect firebase to app"/></p> <p>we clicked <code class="highlighter-rouge">Skip this step</code> in here.</p> <h2 id="configure-firebase-in-android">configure firebase in Android</h2> <p>click <code class="highlighter-rouge">Project Overview</code> on the left top of Google Firebase Console.</p> <p><img src="/assets/images/category/react-native/react-native-firebase-admob/firebase-project-overview.png" alt="Google Firebase Console Project Overview"/></p> <p>click <code class="highlighter-rouge">+ Add app</code> &gt; <code class="highlighter-rouge">Android icon</code> to go to Android project configuration.</p> <p><img src="/assets/images/category/react-native/react-native-firebase-admob/register-android.png" alt="Google Firebase Android app register"/></p> <p>insert Nadroid Package Name and click <code class="highlighter-rouge">Register app</code>.</p> <p>if you want to change Android package name in RN(react native), do following section.</p> <h3 id="change-android-package-name">change Android Package name</h3> <ul> <li> <p>modify <code class="highlighter-rouge">android/app/BUCK</code> file</p> <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...
android_build_config(
    ...
    package = "package_name",
)
...
android_resource(
    ...
    package = "package_name",
    ...
)
...
</code></pre></div> </div> </li> <li> <p>modify <code class="highlighter-rouge">android/app/src/main/AndroindManifest.xml</code> file</p> <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;manifest</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
  <span class="na">package=</span><span class="s">"package_name"</span><span class="nt">&gt;</span>
...
</code></pre></div> </div> </li> <li> <p>modify <code class="highlighter-rouge">android/app/src/main/java/com/ProjectName/MainActivity.java</code> file</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="n">package_name</span><span class="o">;</span>
<span class="o">...</span>
</code></pre></div> </div> </li> <li> <p>modify <code class="highlighter-rouge">android/app/src/main/java/com/ProjectName/MainApplication.java</code> file</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="n">package_name</span><span class="o">;</span>
<span class="o">...</span>
</code></pre></div> </div> </li> <li> <p>modify <code class="highlighter-rouge">android/app/src/bundle.gradle</code> file</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">...</span>
<span class="n">defaultConfig</span> <span class="o">{</span>
    <span class="n">applicationId</span> <span class="n">package_name</span>
    <span class="o">...</span>
<span class="o">}</span>
<span class="o">...</span>
</code></pre></div> </div> </li> </ul> <p><img src="/assets/images/category/react-native/react-native-firebase-admob/set-google-services-json.png" alt="Google Firebase google-services.json setting"/></p> <p>download <code class="highlighter-rouge">google-services.json</code> created by Google Firebase and copy it to RN(react native) <code class="highlighter-rouge">android/app</code> folder. and then, click <code class="highlighter-rouge">Next</code> button to go to next step.</p> <p><img src="/assets/images/category/react-native/react-native-firebase-admob/setting-android.png" alt="Google Firebase setting on android"/></p> <p>open <code class="highlighter-rouge">android/build.gradle</code> in RN(react native) folder and add below code.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">buildscript</span> <span class="p">{</span>
  <span class="nx">repositories</span> <span class="p">{</span>
    <span class="nx">google</span><span class="p">()</span>
    <span class="nx">jcenter</span><span class="p">()</span>
  <span class="p">}</span>
  <span class="nx">dependencies</span> <span class="p">{</span>
    <span class="c1">// Add this line</span>
    <span class="nx">classpath</span> <span class="s1">'com.google.gms:google-services:4.0.1'</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="p">...</span>
<span class="nx">allprojects</span> <span class="p">{</span>
  <span class="nx">repositories</span> <span class="p">{</span>
    <span class="nx">mavenLocal</span><span class="p">()</span>
    <span class="nx">google</span><span class="p">()</span>
    <span class="nx">jcenter</span><span class="p">()</span>
    <span class="p">...</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p>check <code class="highlighter-rouge">google()</code> is above <code class="highlighter-rouge">jcenter()</code> in <code class="highlighter-rouge">repositories</code>.</p> <p>open <code class="highlighter-rouge">android/app/build.gradle</code> in RN(react native) project and add below code.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">dependencies</span> <span class="p">{</span>
    <span class="nx">implementation</span> <span class="nx">project</span><span class="p">(</span><span class="s1">':react-native-firebase'</span><span class="p">)</span>
    <span class="p">...</span>
    <span class="nx">implementation</span> <span class="s2">"com.google.android.gms:play-services-base:16.0.1"</span>
    <span class="nx">implementation</span> <span class="s1">'com.google.firebase:firebase-core:16.0.4'</span>
    <span class="nx">implementation</span> <span class="s2">"com.google.firebase:firebase-ads:16.0.1"</span>
<span class="p">}</span>
</code></pre></div></div> <p>and add below code in the bottom of same file.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">...</span>
<span class="nx">apply</span> <span class="nx">plugin</span><span class="p">:</span> <span class="s1">'com.google.gms.google-services'</span>
<span class="nx">com</span><span class="p">.</span><span class="nx">google</span><span class="p">.</span><span class="nx">gms</span><span class="p">.</span><span class="nx">googleservices</span><span class="p">.</span><span class="nx">GoogleServicesPlugin</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">disableVersionCheck</span> <span class="o">=</span> <span class="kc">true</span>
</code></pre></div></div> <p>last, add below source to <code class="highlighter-rouge">android/app/src/main/java/com/[app name]/MainApplication.java</code>.</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">io.invertase.firebase.RNFirebasePackage</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.invertase.firebase.admob.RNFirebaseAdMobPackage</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.invertase.firebase.analytics.RNFirebaseAnalyticsPackage</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.google.android.gms.ads.MobileAds</span><span class="o">;</span>

<span class="nd">@Override</span>
<span class="kd">protected</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">ReactPackage</span><span class="o">&gt;</span> <span class="nf">getPackages</span><span class="o">()</span> <span class="o">{</span>
  <span class="k">return</span> <span class="n">Arrays</span><span class="o">.&lt;</span><span class="n">ReactPackage</span><span class="o">&gt;</span><span class="n">asList</span><span class="o">(</span>
    <span class="o">...</span>
    <span class="k">new</span> <span class="nf">RNFirebasePackage</span><span class="o">(),</span>
    <span class="k">new</span> <span class="nf">RNFirebaseAdMobPackage</span><span class="o">(),</span>
    <span class="k">new</span> <span class="nf">RNFirebaseAnalyticsPackage</span><span class="o">(),</span>
    <span class="o">...</span>
  <span class="o">);</span>
<span class="o">}</span>

<span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">()</span> <span class="o">{</span>
  <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">();</span>
  <span class="n">MobileAds</span><span class="o">.</span><span class="na">initialize</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="s">"ca-app-pub-7987914246691031~9800293270"</span><span class="o">);</span>
  <span class="o">...</span>
<span class="o">}</span>
</code></pre></div></div> <p>set your App ID created in Google Admob to <code class="highlighter-rouge">MobileAds.initialize(this, "ad app id");</code>. if you don’t know how to create App ID in Google Admob, see <a href="https://dev-yakuza.github.io/en/react-native/react-native-admob/" target="_blank">Google Admob</a> blog.</p> <p>open Android Studio and you can see <code class="highlighter-rouge">Gradle</code> sync question. click <code class="highlighter-rouge">Sync now</code>.</p> <h2 id="add-source">add source</h2> <p>completed to set react-native-firebase. now let’s modify RN(react native) source to show Google Admob.</p> <p>below source is react-native-firebase banner example.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">...</span>
<span class="k">import</span> <span class="nx">firebase</span> <span class="k">from</span> <span class="s1">'react-native-firebase'</span><span class="p">;</span>
<span class="p">...</span>
</code></pre></div></div> <p>load react-native-firebase.</p> <h3 id="banner">Banner</h3> <p>below source code is the example about how to show Banner type advertisement(AD Unit is Banner) by <code class="highlighter-rouge">react-native-firebase</code> Admob.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Platform</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'react-native'</span><span class="p">;</span>
<span class="p">...</span>
<span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">Banner</span> <span class="o">=</span> <span class="nx">firebase</span><span class="p">.</span><span class="nx">admob</span><span class="p">.</span><span class="nx">Banner</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">AdRequest</span> <span class="o">=</span> <span class="nx">firebase</span><span class="p">.</span><span class="nx">admob</span><span class="p">.</span><span class="nx">AdRequest</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AdRequest</span><span class="p">();</span>


    <span class="kd">const</span> <span class="nx">unitId</span> <span class="o">=</span>
      <span class="nx">Platform</span><span class="p">.</span><span class="nx">OS</span> <span class="o">===</span> <span class="s1">'ios'</span>
        <span class="p">?</span> <span class="s1">'ca-app-pub-7987914246691031/4248107679'</span>
        <span class="p">:</span> <span class="s1">'ca-app-pub-7987914246691031/5729668166'</span><span class="p">;</span>
    <span class="p">...</span>
    <span class="k">return</span> <span class="p">(</span>
        <span class="p">...</span>
        <span class="o">&lt;</span><span class="nx">Banner</span>
          <span class="nx">unitId</span><span class="o">=</span><span class="p">{</span><span class="nx">unitId</span><span class="p">}</span>
          <span class="nx">size</span><span class="o">=</span><span class="p">{</span><span class="s1">'SMART_BANNER'</span><span class="p">}</span>
          <span class="nx">request</span><span class="o">=</span><span class="p">{</span><span class="nx">request</span><span class="p">.</span><span class="nx">build</span><span class="p">()}</span>
          <span class="nx">onAdLoaded</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Advert loaded'</span><span class="p">);</span>
          <span class="p">}}</span>
        <span class="sr">/</span><span class="err">&gt;
</span>    <span class="p">);</span>
</code></pre></div></div> <p>add above source and execute RN(react native) project. you can see the Google Admob banner.</p> <h3 id="interstitial">Interstitial</h3> <p>below source code is the example about how to show Interstitial type advertisement(AD Unit is Interstitial) by <code class="highlighter-rouge">react-native-firebase</code> Admob.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Platform</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'react-native'</span><span class="p">;</span>
<span class="p">...</span>
<span class="nx">componentDidMount</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">...</span>
  <span class="kd">const</span> <span class="nx">unitId</span> <span class="o">=</span>
    <span class="nx">Platform</span><span class="p">.</span><span class="nx">OS</span> <span class="o">===</span> <span class="s1">'ios'</span>
      <span class="p">?</span> <span class="s1">'ca-app-pub-7987914246691031/4248107679'</span>
      <span class="p">:</span> <span class="s1">'ca-app-pub-7987914246691031/5729668166'</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">advert</span> <span class="o">=</span> <span class="nx">firebase</span><span class="p">.</span><span class="nx">admob</span><span class="p">().</span><span class="nx">interstitial</span><span class="p">(</span><span class="nx">unitId</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">AdRequest</span> <span class="o">=</span> <span class="nx">firebase</span><span class="p">.</span><span class="nx">admob</span><span class="p">.</span><span class="nx">AdRequest</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AdRequest</span><span class="p">();</span>
  <span class="nx">advert</span><span class="p">.</span><span class="nx">loadAd</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">build</span><span class="p">());</span>

  <span class="nx">advert</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'onAdLoaded'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Advert ready to show.'</span><span class="p">);</span>
    <span class="nx">advert</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span>
  <span class="p">});</span>
  <span class="p">...</span>
<span class="p">}</span>
<span class="p">...</span>
</code></pre></div></div> <p>you can use <code class="highlighter-rouge">advert.show()</code> function when you show Interstitial advertisement like below. you should call <code class="highlighter-rouge">advert.isLoaded()</code> to check the Interstitial advertisement is ready.</p> <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">advert</span><span class="p">.</span><span class="nx">isLoaded</span><span class="p">())</span> <span class="p">{</span>
    <span class="nx">advert</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// Unable to show interstitial - not loaded yet.</span>
  <span class="p">}</span>
<span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
</code></pre></div></div> <h2 id="fix-error">Fix Error</h2> <p>in here, I’ll introduce my solution about the errors.</p> <h3 id="admoberror-code-no-fill">admob/error-code-no-fill</h3> <p>finally, I got this message. suddenly my app didn’t display the ads. when I debugged, I saw <code class="highlighter-rouge">admob/error-code-no-fill</code> message.</p> <p>when I got <code class="highlighter-rouge">admob/error-code-no-fill</code> message, my payment status was $40(we can withdraw money at $80). at that time, I didn’t register my payment way. after registering it, the ads showed up! maybe, google didn’t have my payment information so, they can’t pay money to me, so they adjusted the ads rating.</p> <p>so, if you get <code class="highlighter-rouge">admob/error-code-no-fill</code> error message and you didn’t give the payment information, insert it on the Admob settings.</p> <h2 id="completed">completed</h2> <p>we introduced how to display Google Admob using react-native-firebase library in RN(react native) project. when you set react-native-firebase, Analytics is automatically configured.</p> <p>click <code class="highlighter-rouge">Analytics</code> &gt; <code class="highlighter-rouge">Dashboard</code> menu in Google Firebase Console. you can see Google Firebase analyzation.</p> <p><img src="/assets/images/category/react-native/react-native-firebase-admob/react-native-firebase-analytics.png" alt="react native firebase analytics"/></p> <div class="buy_me_a_coffee_container"> <style> .bmc-button img { width: 27px !important; margin-bottom: 1px !important; box-shadow: none !important; border: none !important; vertical-align: middle !important; } .bmc-button { line-height: 36px !important; height: 37px !important; text-decoration: none !important; display: inline-flex !important; color: #ffffff !important; background-color: #ff813f !important; border-radius: 3px !important; border: 1px solid transparent !important; padding: 0px 9px !important; font-size: 17px !important; letter-spacing: -0.08px !important; box-shadow: 0px 1px 2px rgba(190, 190, 190, 0.5) !important; -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important; margin: 0 auto !important; font-family: 'Lato', sans-serif !important; -webkit-box-sizing: border-box !important; box-sizing: border-box !important; -o-transition: 0.3s all linear !important; -webkit-transition: 0.3s all linear !important; -moz-transition: 0.3s all linear !important; -ms-transition: 0.3s all linear !important; transition: 0.3s all linear !important; } .bmc-button:hover, .bmc-button:active, .bmc-button:focus { -webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important; text-decoration: none !important; box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important; opacity: 0.85 !important; color: #ffffff !important; }</style><link href="https://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext" rel="stylesheet"/><a class="bmc-button" target="_blank" href="https://www.buymeacoffee.com/j0cXhWiza"><img src="https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg" alt="Buy me a coffee"/><span style="margin-left:5px">Buy me a coffee</span></a> </div> <div class="post-list-container"> <div class="header"> <div class="header-title">Posts</div> </div> <div class="body"> <div class="list-group"></div> </div> <div class="footer"> <ul class="pagination"> <li class="page-item page-item--previous"> <div class="page-link" aria-label="Previous"> <span aria-hidden="true">&laquo;</span> <span class="sr-only">Previous</span> </div> </li> <li class="page-item page-item--next"> <div class="page-link" aria-label="Next"> <span aria-hidden="true">&raquo;</span> <span class="sr-only">Next</span> </div> </li> </ul> </div> </div> <script type="text/javascript">document.addEventListener("DOMContentLoaded",function(){$.get("/en/api/react-native/posts.json",function(e){e.length>0&&($(".post-list-container").show(),e.forEach(function(e){var a=$(".post-list-container .body .list-group"),t=a.find(".page-"+e.page),i=e.url.indexOf(location.pathname)>=0?"active":"",s="";if(s+='<a href="'+e.url+'" class="list-group-item list-group-item-action flex-column align-items-start '+i+'">',s+='  <div class="d-flex w-100 justify-content-between">',s+='    <div class="mb-1">'+e.title+"</div>",s+="  </div>",s+='  <div class="body-text">'+e.description+"</div>",s+="</a>",t.length>0)t.addClass(i),t.append(s);else{var n="";n+='<div class="page page-'+e.page+" "+i+'">',n+=s,n+="</div>",a.append(n)}var p="";p+='<li class="page-item page-item--link '+i+'" data-page="'+e.page+'">',p+='  <div class="page-link" data-page="'+e.page+'">',p+=e.page,p+="  </div>",p+="</li>",0===$('.post-list-container .footer .page-item[data-page="'+e.page+'"]').length&&$(".post-list-container .footer .page-item--next").before(p),"active"===i&&$("li[data-page="+e.page+"]").addClass(i),e.page>1&&$(".footer").css("display","flex")}))}),$("body").on("click",".page-link",function(){var e=$(".post-list-container .body .list-group"),a=$(".footer .pagination"),t=a.find(".page-item.active"),i=t.find(".page-link").data("page"),s=$(this).data("page");if($(this).closest(".page-item").hasClass("page-item--previous"))s=i>1?i-1:1;else if($(this).closest(".page-item").hasClass("page-item--next")){var n=a.find(".page-item--link").length;s=i<n?i+1:n}else var s=$(this).data("page");e.find(".page").removeClass("active"),e.find(".page-"+s).addClass("active"),a.find(".page-item").removeClass("active"),a.find('.page-link[data-page="'+s+'"]').closest(".page-item").addClass("active")})});</script> </article> <div class="col-lg-8 col-md-10 mx-auto"> <hr/> <div id="disqus_thread"></div> <script>var disqus_config=function(){this.page.url="https://dev-yakuza.github.io/react-native/react-native-firebase-admob/",this.page.identifier="https://dev-yakuza.github.io/react-native/react-native-firebase-admob/"};!function(){var t=document,e=t.createElement("script");e.src="https://https-dev-yakuza-github-io-en.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}();</script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> </div> </div> </div> </header> <hr> <footer> <div class="container"> <div class="row"> <div class="col-lg-8 col-md-10 mx-auto share-title"> SHARE </div> <div class="col-lg-8 col-md-10 mx-auto"> <ul class="list-inline text-center"> <li class="list-inline-item"> <a href="https://twitter.com/intent/tweet?text=Firebase Admob&url=https://dev-yakuza.github.io/react-native/react-native-firebase-admob/" rel="nofollow noreferrer" target="_blank"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> </li> <li class="list-inline-item"> <a href="https://www.facebook.com/sharer/sharer.php?u=https://dev-yakuza.github.io/react-native/react-native-firebase-admob/" rel="nofollow noreferrer" target="_blank"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-facebook fa-stack-1x fa-inverse"></i> </span> </a> </li> <li class="list-inline-item"> <a href="https://dev-yakuza.github.io/en/feed.xml" rel="nofollow noreferrer" target="_blank"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-rss-square fa-stack-1x fa-inverse" aria-hidden="true"></i> </span> </a> </li> </ul> <p class="copyright text-muted">Copyright &copy; dev.yakuza@gmail.com 2019</p> </div> </div> </div> </footer> <script src="/assets/vendor/jquery/jquery.min.js"></script> <script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script> <script src="/assets/vendor/startbootstrap-clean-blog/js/clean-blog.min.js"></script> <script src="/assets/scripts.js"></script> </body> </html>